{"version":3,"file":"3272.72e83b6cb9b7ab5a4bc6.chunk.js","mappings":"uNASMA,EAAY,KAAa,SAACC,GAAM,OACpCC,KAAM,CACJC,QAAS,OACTC,cAAe,SACfC,MAAO,QAETC,OAAQ,CACNC,UAAWN,EAAEO,QAAQ,IAEvBC,OAAQ,CACNC,aAAcT,EAAEO,QAAQ,IAVU,IA0BvB,SAASG,EAA2B,G,IACjDC,EAAQ,WACRC,EAAK,QACLJ,EAAM,SACNK,EAAY,eACZC,EAAQ,WACRC,EAAM,SAEAC,EAAUjB,IACVkB,EAAW,WAAc,WAAM,eAAoBF,EAApB,GAA6B,CAACA,IAC7D,EAAsB,WAC1BH,EAAQ,CAACA,GAAS,IADbP,EAAM,KAAEa,EAAS,KAGlB,EAAoB,WAAe,IAAWL,IAA7CM,EAAK,KAAEC,EAAQ,KAChBC,EAAe,eACnB,SAACC,GACCJ,EAAUD,EAASK,IACnBF,EAASE,GACTR,EAAS,IAAeQ,GAC1B,GACA,CAACR,EAAUG,IAEb,OACE,uBAAKM,UAAWP,EAAQf,QACnBO,GAAU,uBAAKe,UAAWP,EAAQR,QAASA,GAC9C,gBAAC,IAAU,CACTG,SAAUA,EACVN,OAAQA,EACRmB,eAAa,EACbV,SAAUO,EACVF,MAAOA,EACPJ,OAAQA,IAEV,gBAAC,IAAoB,CAACQ,UAAWP,EAAQX,OAAQO,MAAOP,IAG9D,C","sources":["webpack://quilt-navigator/./app/components/FileEditor/QuiltConfigEditor/QuiltConfigEditor.tsx"],"sourcesContent":["import type { ErrorObject } from 'ajv'\nimport * as React from 'react'\nimport * as M from '@material-ui/core'\n\nimport JsonEditor from 'components/JsonEditor'\nimport JsonValidationErrors from 'components/JsonValidationErrors'\nimport { JsonSchema, makeSchemaValidator } from 'utils/json-schema'\nimport * as YAML from 'utils/yaml'\n\nconst useStyles = M.makeStyles((t) => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    width: '100%',\n  },\n  errors: {\n    marginTop: t.spacing(1),\n  },\n  header: {\n    marginBottom: t.spacing(2),\n  },\n}))\n\nexport interface QuiltConfigEditorProps {\n  disabled?: boolean\n  error: Error | null\n  initialValue?: string\n  onChange: (value: string) => void\n}\n\ninterface QuiltConfigEditorEssentialProps {\n  header: React.ReactNode\n  schema?: JsonSchema\n}\n\nexport default function QuiltConfigEditorSuspended({\n  disabled,\n  error,\n  header,\n  initialValue,\n  onChange,\n  schema,\n}: QuiltConfigEditorProps & QuiltConfigEditorEssentialProps) {\n  const classes = useStyles()\n  const validate = React.useMemo(() => makeSchemaValidator(schema), [schema])\n  const [errors, setErrors] = React.useState<(Error | ErrorObject)[]>(\n    error ? [error] : [],\n  )\n  const [value, setValue] = React.useState(YAML.parse(initialValue))\n  const handleChange = React.useCallback(\n    (json) => {\n      setErrors(validate(json))\n      setValue(json)\n      onChange(YAML.stringify(json))\n    },\n    [onChange, validate],\n  )\n  return (\n    <div className={classes.root}>\n      {!!header && <div className={classes.header}>{header}</div>}\n      <JsonEditor\n        disabled={disabled}\n        errors={errors}\n        multiColumned\n        onChange={handleChange}\n        value={value}\n        schema={schema}\n      />\n      <JsonValidationErrors className={classes.errors} error={errors} />\n    </div>\n  )\n}\n"],"names":["useStyles","t","root","display","flexDirection","width","errors","marginTop","spacing","header","marginBottom","QuiltConfigEditorSuspended","disabled","error","initialValue","onChange","schema","classes","validate","setErrors","value","setValue","handleChange","json","className","multiColumned"],"sourceRoot":""}