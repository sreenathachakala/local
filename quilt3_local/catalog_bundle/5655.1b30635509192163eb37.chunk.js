(self.webpackChunkquilt_navigator=self.webpackChunkquilt_navigator||[]).push([[5655],{72616:(e,t,n)=>{"use strict";var r=n(72127);n(86111);function a(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function i(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function o(){}var l=.7,c=1/l,s="\\s*([+-]?\\d+)\\s*",u="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",f="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",d=/^#([0-9a-f]{3,8})$/,h=new RegExp("^rgb\\("+[s,s,s]+"\\)$"),g=new RegExp("^rgb\\("+[f,f,f]+"\\)$"),p=new RegExp("^rgba\\("+[s,s,s,u]+"\\)$"),b=new RegExp("^rgba\\("+[f,f,f,u]+"\\)$"),_=new RegExp("^hsl\\("+[u,f,f]+"\\)$"),m=new RegExp("^hsla\\("+[u,f,f,u]+"\\)$"),v={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function y(){return this.rgb().formatHex()}function w(){return this.rgb().formatRgb()}function x(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=d.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?S(t):3===n?new M(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?k(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?k(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=h.exec(e))?new M(t[1],t[2],t[3],1):(t=g.exec(e))?new M(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=p.exec(e))?k(t[1],t[2],t[3],t[4]):(t=b.exec(e))?k(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=_.exec(e))?T(t[1],t[2]/100,t[3]/100,1):(t=m.exec(e))?T(t[1],t[2]/100,t[3]/100,t[4]):v.hasOwnProperty(e)?S(v[e]):"transparent"===e?new M(NaN,NaN,NaN,0):null}function S(e){return new M(e>>16&255,e>>8&255,255&e,1)}function k(e,t,n,r){return r<=0&&(e=t=n=NaN),new M(e,t,n,r)}function A(e){return e instanceof o||(e=x(e)),e?new M((e=e.rgb()).r,e.g,e.b,e.opacity):new M}function E(e,t,n,r){return 1===arguments.length?A(e):new M(e,t,n,null==r?1:r)}function M(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function V(){return"#"+z(this.r)+z(this.g)+z(this.b)}function C(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function z(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function T(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new P(e,t,n,r)}function N(e){if(e instanceof P)return new P(e.h,e.s,e.l,e.opacity);if(e instanceof o||(e=x(e)),!e)return new P;if(e instanceof P)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),l=NaN,c=i-a,s=(i+a)/2;return c?(l=t===i?(n-r)/c+6*(n<r):n===i?(r-t)/c+2:(t-n)/c+4,c/=s<.5?i+a:2-i-a,l*=60):c=s>0&&s<1?0:l,new P(l,c,s,e.opacity)}function P(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function O(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}a(o,x,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:y,formatHex:y,formatHsl:function(){return N(this).formatHsl()},formatRgb:w,toString:w}),a(M,E,i(o,{brighter:function(e){return e=null==e?c:Math.pow(c,e),new M(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?l:Math.pow(l,e),new M(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:V,formatHex:V,formatRgb:C,toString:C})),a(P,(function(e,t,n,r){return 1===arguments.length?N(e):new P(e,t,n,null==r?1:r)}),i(o,{brighter:function(e){return e=null==e?c:Math.pow(c,e),new P(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?l:Math.pow(l,e),new P(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new M(O(e>=240?e-240:e+120,a,r),O(e,a,r),O(e<120?e+240:e-120,a,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var D=n(92626),L=n(23838),I=n(73109),R=n(22718),B=n(79611);const j=e=>()=>e;function Z(e,{sourceEvent:t,subject:n,target:r,identifier:a,active:i,x:o,y:l,dx:c,dy:s,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:s,enumerable:!0,configurable:!0},_:{value:u}})}function H(e){return!e.ctrlKey&&!e.button}function F(){return this.parentNode}function W(e,t){return null==t?{x:e.x,y:e.y}:t}function Y(){return navigator.maxTouchPoints||"ontouchstart"in this}function q(){var e,t,n,r,a=H,i=F,o=W,l=Y,c={},s=(0,D.Z)("start","drag","end"),u=0,f=0;function d(e){e.on("mousedown.drag",h).filter(l).on("touchstart.drag",b).on("touchmove.drag",_,B.Q7).on("touchend.drag touchcancel.drag",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(o,l){if(!r&&a.call(this,o,l)){var c=v(this,i.call(this,o,l),o,l,"mouse");c&&((0,L.Z)(o.view).on("mousemove.drag",g,B.Dd).on("mouseup.drag",p,B.Dd),(0,R.Z)(o.view),(0,B.rG)(o),n=!1,e=o.clientX,t=o.clientY,c("start",o))}}function g(r){if((0,B.ZP)(r),!n){var a=r.clientX-e,i=r.clientY-t;n=a*a+i*i>f}c.mouse("drag",r)}function p(e){(0,L.Z)(e.view).on("mousemove.drag mouseup.drag",null),(0,R.D)(e.view,n),(0,B.ZP)(e),c.mouse("end",e)}function b(e,t){if(a.call(this,e,t)){var n,r,o=e.changedTouches,l=i.call(this,e,t),c=o.length;for(n=0;n<c;++n)(r=v(this,l,e,t,o[n].identifier,o[n]))&&((0,B.rG)(e),r("start",e,o[n]))}}function _(e){var t,n,r=e.changedTouches,a=r.length;for(t=0;t<a;++t)(n=c[r[t].identifier])&&((0,B.ZP)(e),n("drag",e,r[t]))}function m(e){var t,n,a=e.changedTouches,i=a.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),t=0;t<i;++t)(n=c[a[t].identifier])&&((0,B.rG)(e),n("end",e,a[t]))}function v(e,t,n,r,a,i){var l,f,h,g=s.copy(),p=(0,I.Z)(i||n,t);if(null!=(h=o.call(e,new Z("beforestart",{sourceEvent:n,target:d,identifier:a,active:u,x:p[0],y:p[1],dx:0,dy:0,dispatch:g}),r)))return l=h.x-p[0]||0,f=h.y-p[1]||0,function n(i,o,s){var b,_=p;switch(i){case"start":c[a]=n,b=u++;break;case"end":delete c[a],--u;case"drag":p=(0,I.Z)(s||o,t),b=u}g.call(i,e,new Z(i,{sourceEvent:o,subject:h,target:d,identifier:a,active:b,x:p[0]+l,y:p[1]+f,dx:p[0]-_[0],dy:p[1]-_[1],dispatch:g}),r)}}return d.filter=function(e){return arguments.length?(a="function"==typeof e?e:j(!!e),d):a},d.container=function(e){return arguments.length?(i="function"==typeof e?e:j(e),d):i},d.subject=function(e){return arguments.length?(o="function"==typeof e?e:j(e),d):o},d.touchable=function(e){return arguments.length?(l="function"==typeof e?e:j(!!e),d):l},d.on=function(){var e=s.on.apply(s,arguments);return e===s?d:e},d.clickDistance=function(e){return arguments.length?(f=(e=+e)*e,d):Math.sqrt(f)},d}Z.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var U=n(2067);function $(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}var G,X=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Q(e){if(!(t=X.exec(e)))throw new Error("invalid format: "+e);var t;return new K({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function K(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function J(e,t){var n=$(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}Q.prototype=K.prototype,K.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const ee={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>J(100*e,t),r:J,s:function(e,t){var n=$(e,t);if(!n)return e+"";var r=n[0],a=n[1],i=a-(G=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+$(e,Math.max(0,t+i-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function te(e){return e}var ne,re,ae=Array.prototype.map,ie=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function oe(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?te:(t=ae.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var a=e.length,i=[],o=0,l=t[0],c=0;a>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),i.push(e.substring(a-=l,a+l)),!((c+=l+1)>r));)l=t[o=(o+1)%t.length];return i.reverse().join(n)}),a=void 0===e.currency?"":e.currency[0]+"",i=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",l=void 0===e.numerals?te:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(ae.call(e.numerals,String)),c=void 0===e.percent?"%":e.percent+"",s=void 0===e.minus?"−":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function f(e){var t=(e=Q(e)).fill,n=e.align,f=e.sign,d=e.symbol,h=e.zero,g=e.width,p=e.comma,b=e.precision,_=e.trim,m=e.type;"n"===m?(p=!0,m="g"):ee[m]||(void 0===b&&(b=12),_=!0,m="g"),(h||"0"===t&&"="===n)&&(h=!0,t="0",n="=");var v="$"===d?a:"#"===d&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",y="$"===d?i:/[%p]/.test(m)?c:"",w=ee[m],x=/[defgprs%]/.test(m);function S(e){var a,i,c,d=v,S=y;if("c"===m)S=w(e)+S,e="";else{var k=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),b),_&&(e=function(e){e:for(var t,n=e.length,r=1,a=-1;r<n;++r)switch(e[r]){case".":a=t=r;break;case"0":0===a&&(a=r),t=r;break;default:if(!+e[r])break e;a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(t+1):e}(e)),k&&0==+e&&"+"!==f&&(k=!1),d=(k?"("===f?f:s:"-"===f||"("===f?"":f)+d,S=("s"===m?ie[8+G/3]:"")+S+(k&&"("===f?")":""),x)for(a=-1,i=e.length;++a<i;)if(48>(c=e.charCodeAt(a))||c>57){S=(46===c?o+e.slice(a+1):e.slice(a))+S,e=e.slice(0,a);break}}p&&!h&&(e=r(e,1/0));var A=d.length+e.length+S.length,E=A<g?new Array(g-A+1).join(t):"";switch(p&&h&&(e=r(E+e,E.length?g-S.length:1/0),E=""),n){case"<":e=d+e+S+E;break;case"=":e=d+E+e+S;break;case"^":e=E.slice(0,A=E.length>>1)+d+e+S+E.slice(A);break;default:e=E+d+e+S}return l(e)}return b=void 0===b?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b)),S.toString=function(){return e+""},S}return{format:f,formatPrefix:function(e,t){var n,r=f(((e=Q(e)).type="f",e)),a=3*Math.max(-8,Math.min(8,Math.floor((n=t,((n=$(Math.abs(n)))?n[1]:NaN)/3)))),i=Math.pow(10,-a),o=ie[8+a/3];return function(e){return r(i*e)+o}}}}ne=oe({thousands:",",grouping:[3],currency:["$",""]}),re=ne.format,ne.formatPrefix;var le=n(77995),ce=n(23430),se=n(776),ue=n(17220);function fe(e,t,n,r,a){var i=e*e,o=i*e;return((1-3*e+3*i-o)*t+(4-6*i+3*o)*n+(1+3*e+3*i-3*o)*r+o*a)/6}const de=e=>()=>e;function he(e,t){return function(n){return e+n*t}}function ge(e){return 1==(e=+e)?pe:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):de(isNaN(t)?n:t)}}function pe(e,t){var n=t-e;return n?he(e,n):de(isNaN(e)?t:e)}const be=function e(t){var n=ge(t);function r(e,t){var r=n((e=E(e)).r,(t=E(t)).r),a=n(e.g,t.g),i=n(e.b,t.b),o=pe(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=a(t),e.b=i(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function _e(e){return function(t){var n,r,a=t.length,i=new Array(a),o=new Array(a),l=new Array(a);for(n=0;n<a;++n)r=E(t[n]),i[n]=r.r||0,o[n]=r.g||0,l[n]=r.b||0;return i=e(i),o=e(o),l=e(l),r.opacity=1,function(e){return r.r=i(e),r.g=o(e),r.b=l(e),r+""}}}_e((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),a=e[r],i=e[r+1],o=r>0?e[r-1]:2*a-i,l=r<t-1?e[r+2]:2*i-a;return fe((n-r/t)*t,o,a,i,l)}})),_e((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),a=e[(r+t-1)%t],i=e[r%t],o=e[(r+1)%t],l=e[(r+2)%t];return fe((n-r/t)*t,a,i,o,l)}}));function me(e,t){var n,r=t?t.length:0,a=e?Math.min(r,e.length):0,i=new Array(a),o=new Array(r);for(n=0;n<a;++n)i[n]=Ee(e[n],t[n]);for(;n<r;++n)o[n]=t[n];return function(e){for(n=0;n<a;++n)o[n]=i[n](e);return o}}function ve(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function ye(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function we(e,t){var n,r={},a={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=Ee(e[n],t[n]):a[n]=t[n];return function(e){for(n in r)a[n]=r[n](e);return a}}var xe=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Se=new RegExp(xe.source,"g");function ke(e,t){var n,r,a,i=xe.lastIndex=Se.lastIndex=0,o=-1,l=[],c=[];for(e+="",t+="";(n=xe.exec(e))&&(r=Se.exec(t));)(a=r.index)>i&&(a=t.slice(i,a),l[o]?l[o]+=a:l[++o]=a),(n=n[0])===(r=r[0])?l[o]?l[o]+=r:l[++o]=r:(l[++o]=null,c.push({i:o,x:ye(n,r)})),i=Se.lastIndex;return i<t.length&&(a=t.slice(i),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?function(e){return function(t){return e(t)+""}}(c[0].x):function(e){return function(){return e}}(t):(t=c.length,function(e){for(var n,r=0;r<t;++r)l[(n=c[r]).i]=n.x(e);return l.join("")})}function Ae(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,a=t.slice();return function(i){for(n=0;n<r;++n)a[n]=e[n]*(1-i)+t[n]*i;return a}}function Ee(e,t){var n,r,a=typeof t;return null==t||"boolean"===a?de(t):("number"===a?ye:"string"===a?(n=x(t))?(t=n,be):ke:t instanceof x?be:t instanceof Date?ve:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?me:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?we:ye:Ae))(e,t)}var Me=n(9090),Ve=n(43905),Ce=n(90761),ze=(n(5814),n(81501)),Te=n(47622),Ne=n(98823),Pe="http://www.w3.org/1999/xhtml";const Oe={svg:"http://www.w3.org/2000/svg",xhtml:Pe,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function De(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),Oe.hasOwnProperty(t)?{space:Oe[t],local:e}:e}function Le(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Pe&&t.documentElement.namespaceURI===Pe?t.createElement(e):t.createElementNS(n,e)}}function Ie(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Re(e){var t=De(e);return(t.local?Ie:Le)(t)}var Be=0;function je(){this._="@"+(++Be).toString(36)}je.prototype=function(){return new je}.prototype={constructor:je,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};var Ze=function(e){return function(){return this.matches(e)}};if("undefined"!=typeof document){var He=document.documentElement;if(!He.matches){var Fe=He.webkitMatchesSelector||He.msMatchesSelector||He.mozMatchesSelector||He.oMatchesSelector;Ze=function(e){return function(){return Fe.call(this,e)}}}}const We=Ze;var Ye={},qe=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Ye={mouseenter:"mouseover",mouseleave:"mouseout"}));function Ue(e,t,n){return e=$e(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function $e(e,t,n){return function(r){var a=qe;qe=r;try{e.call(this,this.__data__,t,n)}finally{qe=a}}}function Ge(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function Xe(e){return function(){var t=this.__on;if(t){for(var n,r=0,a=-1,i=t.length;r<i;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++a]=n:this.removeEventListener(n.type,n.listener,n.capture);++a?t.length=a:delete this.__on}}}function Qe(e,t,n){var r=Ye.hasOwnProperty(e.type)?Ue:$e;return function(a,i,o){var l,c=this.__on,s=r(t,i,o);if(c)for(var u=0,f=c.length;u<f;++u)if((l=c[u]).type===e.type&&l.name===e.name)return this.removeEventListener(l.type,l.listener,l.capture),this.addEventListener(l.type,l.listener=s,l.capture=n),void(l.value=t);this.addEventListener(e.type,s,n),l={type:e.type,name:e.name,value:t,listener:s,capture:n},c?c.push(l):this.__on=[l]}}function Ke(){}function Je(e){return null==e?Ke:function(){return this.querySelector(e)}}function et(){return[]}function tt(e){return new Array(e.length)}function nt(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}nt.prototype={constructor:nt,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function rt(e,t,n,r,a,i){for(var o,l=0,c=t.length,s=i.length;l<s;++l)(o=t[l])?(o.__data__=i[l],r[l]=o):n[l]=new nt(e,i[l]);for(;l<c;++l)(o=t[l])&&(a[l]=o)}function at(e,t,n,r,a,i,o){var l,c,s,u={},f=t.length,d=i.length,h=new Array(f);for(l=0;l<f;++l)(c=t[l])&&(h[l]=s="$"+o.call(c,c.__data__,l,t),s in u?a[l]=c:u[s]=c);for(l=0;l<d;++l)(c=u[s="$"+o.call(e,i[l],l,i)])?(r[l]=c,c.__data__=i[l],u[s]=null):n[l]=new nt(e,i[l]);for(l=0;l<f;++l)(c=t[l])&&u[h[l]]===c&&(a[l]=c)}function it(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function ot(e){return function(){this.removeAttribute(e)}}function lt(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ct(e,t){return function(){this.setAttribute(e,t)}}function st(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function ut(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function ft(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function dt(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function ht(e){return function(){this.style.removeProperty(e)}}function gt(e,t,n){return function(){this.style.setProperty(e,t,n)}}function pt(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function bt(e){return function(){delete this[e]}}function _t(e,t){return function(){this[e]=t}}function mt(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function vt(e){return e.trim().split(/^|\s+/)}function yt(e){return e.classList||new wt(e)}function wt(e){this._node=e,this._names=vt(e.getAttribute("class")||"")}function xt(e,t){for(var n=yt(e),r=-1,a=t.length;++r<a;)n.add(t[r])}function St(e,t){for(var n=yt(e),r=-1,a=t.length;++r<a;)n.remove(t[r])}function kt(e){return function(){xt(this,e)}}function At(e){return function(){St(this,e)}}function Et(e,t){return function(){(t.apply(this,arguments)?xt:St)(this,e)}}function Mt(){this.textContent=""}function Vt(e){return function(){this.textContent=e}}function Ct(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function zt(){this.innerHTML=""}function Tt(e){return function(){this.innerHTML=e}}function Nt(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function Pt(){this.nextSibling&&this.parentNode.appendChild(this)}function Ot(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Dt(){return null}function Lt(){var e=this.parentNode;e&&e.removeChild(this)}function It(e,t,n){var r=dt(e),a=r.CustomEvent;a?a=new a(t,n):(a=r.document.createEvent("Event"),n?(a.initEvent(t,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function Rt(e,t){return function(){return It(this,e,t)}}function Bt(e,t){return function(){return It(this,e,t.apply(this,arguments))}}wt.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var jt=[null];function Zt(e,t){this._groups=e,this._parents=t}function Ht(){return new Zt([[document.documentElement]],jt)}Zt.prototype=Ht.prototype={constructor:Zt,select:function(e){"function"!=typeof e&&(e=Je(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var i,o,l=t[a],c=l.length,s=r[a]=new Array(c),u=0;u<c;++u)(i=l[u])&&(o=e.call(i,i.__data__,u,l))&&("__data__"in i&&(o.__data__=i.__data__),s[u]=o);return new Zt(r,this._parents)},selectAll:function(e){"function"!=typeof e&&(e=function(e){return null==e?et:function(){return this.querySelectorAll(e)}}(e));for(var t=this._groups,n=t.length,r=[],a=[],i=0;i<n;++i)for(var o,l=t[i],c=l.length,s=0;s<c;++s)(o=l[s])&&(r.push(e.call(o,o.__data__,s,l)),a.push(o));return new Zt(r,a)},filter:function(e){"function"!=typeof e&&(e=We(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var i,o=t[a],l=o.length,c=r[a]=[],s=0;s<l;++s)(i=o[s])&&e.call(i,i.__data__,s,o)&&c.push(i);return new Zt(r,this._parents)},data:function(e,t){if(!e)return g=new Array(this.size()),u=-1,this.each((function(e){g[++u]=e})),g;var n,r=t?at:rt,a=this._parents,i=this._groups;"function"!=typeof e&&(n=e,e=function(){return n});for(var o=i.length,l=new Array(o),c=new Array(o),s=new Array(o),u=0;u<o;++u){var f=a[u],d=i[u],h=d.length,g=e.call(f,f&&f.__data__,u,a),p=g.length,b=c[u]=new Array(p),_=l[u]=new Array(p);r(f,d,b,_,s[u]=new Array(h),g,t);for(var m,v,y=0,w=0;y<p;++y)if(m=b[y]){for(y>=w&&(w=y+1);!(v=_[w])&&++w<p;);m._next=v||null}}return(l=new Zt(l,a))._enter=c,l._exit=s,l},enter:function(){return new Zt(this._enter||this._groups.map(tt),this._parents)},exit:function(){return new Zt(this._exit||this._groups.map(tt),this._parents)},merge:function(e){for(var t=this._groups,n=e._groups,r=t.length,a=n.length,i=Math.min(r,a),o=new Array(r),l=0;l<i;++l)for(var c,s=t[l],u=n[l],f=s.length,d=o[l]=new Array(f),h=0;h<f;++h)(c=s[h]||u[h])&&(d[h]=c);for(;l<r;++l)o[l]=t[l];return new Zt(o,this._parents)},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,a=e[t],i=a.length-1,o=a[i];--i>=0;)(r=a[i])&&(o&&o!==r.nextSibling&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=it);for(var n=this._groups,r=n.length,a=new Array(r),i=0;i<r;++i){for(var o,l=n[i],c=l.length,s=a[i]=new Array(c),u=0;u<c;++u)(o=l[u])&&(s[u]=o);s.sort(t)}return new Zt(a,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=new Array(this.size()),t=-1;return this.each((function(){e[++t]=this})),e},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,i=r.length;a<i;++a){var o=r[a];if(o)return o}return null},size:function(){var e=0;return this.each((function(){++e})),e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var a,i=t[n],o=0,l=i.length;o<l;++o)(a=i[o])&&e.call(a,a.__data__,o,i);return this},attr:function(e,t){var n=De(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?lt:ot:"function"==typeof t?n.local?ft:ut:n.local?st:ct)(n,t))},style:function(e,t,n){var r;return arguments.length>1?this.each((null==t?ht:"function"==typeof t?pt:gt)(e,t,null==n?"":n)):dt(r=this.node()).getComputedStyle(r,null).getPropertyValue(e)},property:function(e,t){return arguments.length>1?this.each((null==t?bt:"function"==typeof t?mt:_t)(e,t)):this.node()[e]},classed:function(e,t){var n=vt(e+"");if(arguments.length<2){for(var r=yt(this.node()),a=-1,i=n.length;++a<i;)if(!r.contains(n[a]))return!1;return!0}return this.each(("function"==typeof t?Et:t?kt:At)(n,t))},text:function(e){return arguments.length?this.each(null==e?Mt:("function"==typeof e?Ct:Vt)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?zt:("function"==typeof e?Nt:Tt)(e)):this.node().innerHTML},raise:function(){return this.each(Pt)},lower:function(){return this.each(Ot)},append:function(e){var t="function"==typeof e?e:Re(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"==typeof e?e:Re(e),r=null==t?Dt:"function"==typeof t?t:Je(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Lt)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,a,i=Ge(e+""),o=i.length;if(!(arguments.length<2)){for(l=t?Qe:Xe,null==n&&(n=!1),r=0;r<o;++r)this.each(l(i[r],t,n));return this}var l=this.node().__on;if(l)for(var c,s=0,u=l.length;s<u;++s)for(r=0,c=l[s];r<o;++r)if((a=i[r]).type===c.type&&a.name===c.name)return c.value},dispatch:function(e,t){return this.each(("function"==typeof t?Bt:Rt)(e,t))}};function Ft(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Wt(e){return(e=Ft(Math.abs(e)))?e[1]:NaN}var Yt;function qt(e,t){var n=Ft(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const Ut={"":function(e,t){e:for(var n,r=(e=e.toPrecision(t)).length,a=1,i=-1;a<r;++a)switch(e[a]){case".":i=n=a;break;case"0":0===i&&(i=a),n=a;break;case"e":break e;default:i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(n+1):e},"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return qt(100*e,t)},r:qt,s:function(e,t){var n=Ft(e,t);if(!n)return e+"";var r=n[0],a=n[1],i=a-(Yt=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Ft(e,Math.max(0,t+i-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};var $t=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;function Gt(e){return new Xt(e)}function Xt(e){if(!(t=$t.exec(e)))throw new Error("invalid format: "+e);var t,n=t[1]||" ",r=t[2]||">",a=t[3]||"-",i=t[4]||"",o=!!t[5],l=t[6]&&+t[6],c=!!t[7],s=t[8]&&+t[8].slice(1),u=t[9]||"";"n"===u?(c=!0,u="g"):Ut[u]||(u=""),(o||"0"===n&&"="===r)&&(o=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=a,this.symbol=i,this.zero=o,this.width=l,this.comma=c,this.precision=s,this.type=u}Xt.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var Qt,Kt,Jt,en=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function tn(e){return e}function nn(e){var t,n,r=e.grouping&&e.thousands?(t=e.grouping,n=e.thousands,function(e,r){for(var a=e.length,i=[],o=0,l=t[0],c=0;a>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),i.push(e.substring(a-=l,a+l)),!((c+=l+1)>r));)l=t[o=(o+1)%t.length];return i.reverse().join(n)}):tn,a=e.currency,i=e.decimal;function o(e){var t=(e=Gt(e)).fill,n=e.align,o=e.sign,l=e.symbol,c=e.zero,s=e.width,u=e.comma,f=e.precision,d=e.type,h="$"===l?a[0]:"#"===l&&/[boxX]/.test(d)?"0"+d.toLowerCase():"",g="$"===l?a[1]:/[%p]/.test(d)?"%":"",p=Ut[d],b=!d||/[defgprs%]/.test(d);function _(e){var a,l,_,m=h,v=g;if("c"===d)v=p(e)+v,e="";else{var y=((e=+e)<0||1/e<0)&&(e*=-1,!0);if(e=p(e,f),y)for(a=-1,l=e.length,y=!1;++a<l;)if(48<(_=e.charCodeAt(a))&&_<58||"x"===d&&96<_&&_<103||"X"===d&&64<_&&_<71){y=!0;break}if(m=(y?"("===o?o:"-":"-"===o||"("===o?"":o)+m,v=v+("s"===d?en[8+Yt/3]:"")+(y&&"("===o?")":""),b)for(a=-1,l=e.length;++a<l;)if(48>(_=e.charCodeAt(a))||_>57){v=(46===_?i+e.slice(a+1):e.slice(a))+v,e=e.slice(0,a);break}}u&&!c&&(e=r(e,1/0));var w=m.length+e.length+v.length,x=w<s?new Array(s-w+1).join(t):"";switch(u&&c&&(e=r(x+e,x.length?s-v.length:1/0),x=""),n){case"<":return m+e+v+x;case"=":return m+x+e+v;case"^":return x.slice(0,w=x.length>>1)+m+e+v+x.slice(w)}return x+m+e+v}return f=null==f?d?6:12:/[gprs]/.test(d)?Math.max(1,Math.min(21,f)):Math.max(0,Math.min(20,f)),_.toString=function(){return e+""},_}return{format:o,formatPrefix:function(e,t){var n=o(((e=Gt(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(Wt(t)/3))),a=Math.pow(10,-r),i=en[8+r/3];return function(e){return n(a*e)+i}}}}!function(e){Qt=nn(e),Kt=Qt.format,Jt=Qt.formatPrefix}({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var rn={value:function(){}};function an(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r)throw new Error("illegal type: "+e);r[e]=[]}return new on(r)}function on(e){this._=e}function ln(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function cn(e,t){for(var n,r=0,a=e.length;r<a;++r)if((n=e[r]).name===t)return n.value}function sn(e,t,n){for(var r=0,a=e.length;r<a;++r)if(e[r].name===t){e[r]=rn,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}on.prototype=an.prototype={constructor:on,on:function(e,t){var n,r=this._,a=ln(e+"",r),i=-1,o=a.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++i<o;)if(n=(e=a[i]).type)r[n]=sn(r[n],e.name,t);else if(null==t)for(n in r)r[n]=sn(r[n],e.name,null);return this}for(;++i<o;)if((n=(e=a[i]).type)&&(n=cn(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new on(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,a=new Array(n),i=0;i<n;++i)a[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,n=(r=this._[e]).length;i<n;++i)r[i].value.apply(t,a)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],a=0,i=r.length;a<i;++a)r[a].value.apply(t,n)}};const un=an;function fn(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var dn,hn,gn=(1===(dn=fn).length&&(hn=dn,dn=function(e,t){return fn(hn(e),t)}),{left:function(e,t,n,r){for(null==n&&(n=0),null==r&&(r=e.length);n<r;){var a=n+r>>>1;dn(e[a],t)<0?n=a+1:r=a}return n},right:function(e,t,n,r){for(null==n&&(n=0),null==r&&(r=e.length);n<r;){var a=n+r>>>1;dn(e[a],t)>0?r=a:n=a+1}return n}});const pn=gn.right;var bn=Array.prototype;bn.slice,bn.map;var _n=Math.sqrt(50),mn=Math.sqrt(10),vn=Math.sqrt(2);function yn(e,t,n){var r=wn(e,t,n);return function(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=0|Math.max(0,Math.ceil((t-e)/n)),i=new Array(a);++r<a;)i[r]=e+r*n;return i}(Math.ceil(e/r)*r,Math.floor(t/r)*r+r/2,r)}function wn(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),a=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/a;return i>=_n?a*=10:i>=mn?a*=5:i>=vn&&(a*=2),t<e?-a:a}function xn(e,t){var n,r,a=-1,i=e.length;if(null==t){for(;++a<i;)if(null!=(r=e[a])&&r>=r){n=r;break}for(;++a<i;)null!=(r=e[a])&&r>n&&(n=r)}else{for(;++a<i;)if(null!=(r=t(e[a],a,e))&&r>=r){n=r;break}for(;++a<i;)null!=(r=t(e[a],a,e))&&r>n&&(n=r)}return n}function Sn(e,t){var n,r=0,a=e.length,i=-1;if(null==t)for(;++i<a;)(n=+e[i])&&(r+=n);else for(;++i<a;)(n=+t(e[i],i,e))&&(r+=n);return r}var kn="$";function An(){}function En(e,t){var n=new An;if(e instanceof An)e.each((function(e,t){n.set(t,e)}));else if(Array.isArray(e)){var r,a=-1,i=e.length;if(null==t)for(;++a<i;)n.set(a,e[a]);else for(;++a<i;)n.set(t(r=e[a],a,e),r)}else if(e)for(var o in e)n.set(o,e[o]);return n}An.prototype=En.prototype={constructor:An,has:function(e){return kn+e in this},get:function(e){return this[kn+e]},set:function(e,t){return this[kn+e]=t,this},remove:function(e){var t=kn+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===kn&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===kn&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===kn&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===kn&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===kn&&++e;return e},empty:function(){for(var e in this)if(e[0]===kn)return!1;return!0},each:function(e){for(var t in this)t[0]===kn&&e(this[t],t.slice(1),this)}};function Mn(){}var Vn=En.prototype;function Cn(e,t){var n=new Mn;if(e instanceof Mn)e.each((function(e){n.add(e)}));else if(e){var r=-1,a=e.length;if(null==t)for(;++r<a;)n.add(e[r]);else for(;++r<a;)n.add(t(e[r],r,e))}return n}Mn.prototype=Cn.prototype={constructor:Mn,has:Vn.has,add:function(e){return this[kn+(e+="")]=e,this},remove:Vn.remove,clear:Vn.clear,values:Vn.keys,size:Vn.size,empty:Vn.empty,each:Vn.each};var zn=Array.prototype,Tn=zn.map,Nn=zn.slice;function Pn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function On(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Dn(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Ln(){}var In=.7,Rn=1/In,Bn="\\s*([+-]?\\d+)\\s*",jn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Zn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Hn=/^#([0-9a-f]{3,8})$/,Fn=new RegExp("^rgb\\("+[Bn,Bn,Bn]+"\\)$"),Wn=new RegExp("^rgb\\("+[Zn,Zn,Zn]+"\\)$"),Yn=new RegExp("^rgba\\("+[Bn,Bn,Bn,jn]+"\\)$"),qn=new RegExp("^rgba\\("+[Zn,Zn,Zn,jn]+"\\)$"),Un=new RegExp("^hsl\\("+[jn,Zn,Zn]+"\\)$"),$n=new RegExp("^hsla\\("+[jn,Zn,Zn,jn]+"\\)$"),Gn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Xn(){return this.rgb().formatHex()}function Qn(){return this.rgb().formatRgb()}function Kn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Hn.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Jn(t):3===n?new rr(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?er(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?er(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Fn.exec(e))?new rr(t[1],t[2],t[3],1):(t=Wn.exec(e))?new rr(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Yn.exec(e))?er(t[1],t[2],t[3],t[4]):(t=qn.exec(e))?er(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Un.exec(e))?lr(t[1],t[2]/100,t[3]/100,1):(t=$n.exec(e))?lr(t[1],t[2]/100,t[3]/100,t[4]):Gn.hasOwnProperty(e)?Jn(Gn[e]):"transparent"===e?new rr(NaN,NaN,NaN,0):null}function Jn(e){return new rr(e>>16&255,e>>8&255,255&e,1)}function er(e,t,n,r){return r<=0&&(e=t=n=NaN),new rr(e,t,n,r)}function tr(e){return e instanceof Ln||(e=Kn(e)),e?new rr((e=e.rgb()).r,e.g,e.b,e.opacity):new rr}function nr(e,t,n,r){return 1===arguments.length?tr(e):new rr(e,t,n,null==r?1:r)}function rr(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function ar(){return"#"+or(this.r)+or(this.g)+or(this.b)}function ir(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function or(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function lr(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new sr(e,t,n,r)}function cr(e){if(e instanceof sr)return new sr(e.h,e.s,e.l,e.opacity);if(e instanceof Ln||(e=Kn(e)),!e)return new sr;if(e instanceof sr)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,l=i-a,c=(i+a)/2;return l?(o=t===i?(n-r)/l+6*(n<r):n===i?(r-t)/l+2:(t-n)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new sr(o,l,c,e.opacity)}function sr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function ur(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function fr(e,t,n,r,a){var i=e*e,o=i*e;return((1-3*e+3*i-o)*t+(4-6*i+3*o)*n+(1+3*e+3*i-3*o)*r+o*a)/6}function dr(e){return function(){return e}}function hr(e,t){return function(n){return e+n*t}}function gr(e){return 1==(e=+e)?pr:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):dr(isNaN(t)?n:t)}}function pr(e,t){var n=t-e;return n?hr(e,n):dr(isNaN(e)?t:e)}On(Ln,Kn,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:Xn,formatHex:Xn,formatHsl:function(){return cr(this).formatHsl()},formatRgb:Qn,toString:Qn}),On(rr,nr,Dn(Ln,{brighter:function(e){return e=null==e?Rn:Math.pow(Rn,e),new rr(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?In:Math.pow(In,e),new rr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ar,formatHex:ar,formatRgb:ir,toString:ir})),On(sr,(function(e,t,n,r){return 1===arguments.length?cr(e):new sr(e,t,n,null==r?1:r)}),Dn(Ln,{brighter:function(e){return e=null==e?Rn:Math.pow(Rn,e),new sr(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?In:Math.pow(In,e),new sr(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new rr(ur(e>=240?e-240:e+120,a,r),ur(e,a,r),ur(e<120?e+240:e-120,a,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));const br=function e(t){var n=gr(t);function r(e,t){var r=n((e=nr(e)).r,(t=nr(t)).r),a=n(e.g,t.g),i=n(e.b,t.b),o=pr(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=a(t),e.b=i(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function _r(e){return function(t){var n,r,a=t.length,i=new Array(a),o=new Array(a),l=new Array(a);for(n=0;n<a;++n)r=nr(t[n]),i[n]=r.r||0,o[n]=r.g||0,l[n]=r.b||0;return i=e(i),o=e(o),l=e(l),r.opacity=1,function(e){return r.r=i(e),r.g=o(e),r.b=l(e),r+""}}}_r((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),a=e[r],i=e[r+1],o=r>0?e[r-1]:2*a-i,l=r<t-1?e[r+2]:2*i-a;return fr((n-r/t)*t,o,a,i,l)}})),_r((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),a=e[(r+t-1)%t],i=e[r%t],o=e[(r+1)%t],l=e[(r+2)%t];return fr((n-r/t)*t,a,i,o,l)}}));function mr(e,t){var n,r=t?t.length:0,a=e?Math.min(r,e.length):0,i=new Array(a),o=new Array(r);for(n=0;n<a;++n)i[n]=Ar(e[n],t[n]);for(;n<r;++n)o[n]=t[n];return function(e){for(n=0;n<a;++n)o[n]=i[n](e);return o}}function vr(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function yr(e,t){var n,r={},a={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=Ar(e[n],t[n]):a[n]=t[n];return function(e){for(n in r)a[n]=r[n](e);return a}}var wr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xr=new RegExp(wr.source,"g");function Sr(e,t){var n,r,a,i=wr.lastIndex=xr.lastIndex=0,o=-1,l=[],c=[];for(e+="",t+="";(n=wr.exec(e))&&(r=xr.exec(t));)(a=r.index)>i&&(a=t.slice(i,a),l[o]?l[o]+=a:l[++o]=a),(n=n[0])===(r=r[0])?l[o]?l[o]+=r:l[++o]=r:(l[++o]=null,c.push({i:o,x:Pn(n,r)})),i=xr.lastIndex;return i<t.length&&(a=t.slice(i),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?function(e){return function(t){return e(t)+""}}(c[0].x):function(e){return function(){return e}}(t):(t=c.length,function(e){for(var n,r=0;r<t;++r)l[(n=c[r]).i]=n.x(e);return l.join("")})}function kr(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,a=t.slice();return function(i){for(n=0;n<r;++n)a[n]=e[n]*(1-i)+t[n]*i;return a}}function Ar(e,t){var n,r,a=typeof t;return null==t||"boolean"===a?dr(t):("number"===a?Pn:"string"===a?(n=Kn(t))?(t=n,br):Sr:t instanceof Kn?br:t instanceof Date?vr:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?mr:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?yr:Pn:kr))(e,t)}function Er(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Mr(e){return+e}var Vr=[0,1];function Cr(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=t,function(){return n});var n}function zr(e,t,n,r){var a=e[0],i=e[1],o=t[0],l=t[1];return i<a?(a=n(i,a),o=r(l,o)):(a=n(a,i),o=r(o,l)),function(e){return o(a(e))}}function Tr(e,t,n,r){var a=Math.min(e.length,t.length)-1,i=new Array(a),o=new Array(a),l=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<a;)i[l]=n(e[l],e[l+1]),o[l]=r(t[l],t[l+1]);return function(t){var n=pn(e,t,1,a)-1;return o[n](i[n](t))}}function Nr(e,t,n){var r,a=e[0],i=e[e.length-1],o=wn(a,i,null==t?10:t);switch((n=Gt(null==n?",f":n)).type){case"s":var l=Math.max(Math.abs(a),Math.abs(i));return null!=n.precision||isNaN(r=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Wt(t)/3)))-Wt(Math.abs(e)))}(o,l))||(n.precision=r),Jt(n,l);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(r=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Wt(t)-Wt(e))+1}(o,Math.max(Math.abs(a),Math.abs(i))))||(n.precision=r-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(r=function(e){return Math.max(0,-Wt(Math.abs(e)))}(o))||(n.precision=r-2*("%"===n.type))}return Kt(n)}function Pr(){var e=function(e,t){var n,r,a,i=Vr,o=Vr,l=Ar,c=!1;function s(){return n=Math.min(i.length,o.length)>2?Tr:zr,r=a=null,u}function u(t){return(r||(r=n(i,o,c?function(e){return function(t,n){var r=e(t=+t,n=+n);return function(e){return e<=t?0:e>=n?1:r(e)}}}(e):e,l)))(+t)}return u.invert=function(e){return(a||(a=n(o,i,Cr,c?function(e){return function(t,n){var r=e(t=+t,n=+n);return function(e){return e<=0?t:e>=1?n:r(e)}}}(t):t)))(+e)},u.domain=function(e){return arguments.length?(i=Tn.call(e,Mr),s()):i.slice()},u.range=function(e){return arguments.length?(o=Nn.call(e),s()):o.slice()},u.rangeRound=function(e){return o=Nn.call(e),l=Er,s()},u.clamp=function(e){return arguments.length?(c=!!e,s()):c},u.interpolate=function(e){return arguments.length?(l=e,s()):l},s()}(Cr,Pn);return e.copy=function(){return t=e,Pr().domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp());var t},function(e){var t=e.domain;return e.ticks=function(e){var n=t();return yn(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){return Nr(t(),e,n)},e.nice=function(n){var r=t(),a=r.length-1,i=null==n?10:n,o=r[0],l=r[a],c=wn(o,l,i);return c&&(c=wn(Math.floor(o/c)*c,Math.ceil(l/c)*c,i),r[0]=Math.floor(o/c)*c,r[a]=Math.ceil(l/c)*c,t(r)),e},e}(e)}function Or(e){return e.match(/.{6}/g).map((function(e){return"#"+e}))}Or("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Or("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),Or("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),Or("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5");var Dr=Math.PI/180,Lr=180/Math.PI,Ir=-.14861,Rr=1.78277,Br=-.29227,jr=-.90649,Zr=1.97294,Hr=Zr*jr,Fr=Zr*Rr,Wr=Rr*Br-jr*Ir;function Yr(e){if(e instanceof Ur)return new Ur(e.h,e.s,e.l,e.opacity);e instanceof rr||(e=tr(e));var t=e.r/255,n=e.g/255,r=e.b/255,a=(Wr*r+Hr*t-Fr*n)/(Wr+Hr-Fr),i=r-a,o=(Zr*(n-a)-Br*i)/jr,l=Math.sqrt(o*o+i*i)/(Zr*a*(1-a)),c=l?Math.atan2(o,i)*Lr-120:NaN;return new Ur(c<0?c+360:c,l,a,e.opacity)}function qr(e,t,n,r){return 1===arguments.length?Yr(e):new Ur(e,t,n,null==r?1:r)}function Ur(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function $r(e){return function t(n){function r(t,r){var a=e((t=qr(t)).h,(r=qr(r)).h),i=pr(t.s,r.s),o=pr(t.l,r.l),l=pr(t.opacity,r.opacity);return function(e){return t.h=a(e),t.s=i(e),t.l=o(Math.pow(e,n)),t.opacity=l(e),t+""}}return n=+n,r.gamma=t,r}(1)}On(Ur,qr,Dn(Ln,{brighter:function(e){return e=null==e?Rn:Math.pow(Rn,e),new Ur(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?In:Math.pow(In,e),new Ur(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*Dr,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),a=Math.sin(e);return new rr(255*(t+n*(Ir*r+Rr*a)),255*(t+n*(Br*r+jr*a)),255*(t+n*(Zr*r)),this.opacity)}}));$r((function(e,t){var n=t-e;return n?hr(e,n>180||n<-180?n-360*Math.round(n/360):n):dr(isNaN(e)?t:e)}));var Gr=$r(pr);Gr(qr(300,.5,0),qr(-240,.5,1));Gr(qr(-100,.75,.35),qr(80,1.5,.8)),Gr(qr(260,.75,.35),qr(80,1.5,.8)),qr();function Xr(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}Xr(Or("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));Xr(Or("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Xr(Or("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Xr(Or("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));var Qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kr=function(e){return e},Jr=function(e){for(var t=[],n=0,r=e.length;n<r;n++)t[n]=e[r-n-1];return t},ea=function(e,t){e.each((function(){for(var e,n=function(e){return"string"==typeof e?new Zt([[document.querySelector(e)]],[document.documentElement]):new Zt([[e]],jt)}(this),r=n.text().split(/\s+/).reverse(),a=[],i=(n.attr("y"),parseFloat(n.attr("dy"))||0),o=n.text(null).append("tspan").attr("x",0).attr("dy",i+"em");e=r.pop();)a.push(e),o.text(a.join(" ")),o.node().getComputedTextLength()>t&&a.length>1&&(a.pop(),o.text(a.join(" ")),a=[e],o=n.append("tspan").attr("x",0).attr("dy",1.2+i+"em").text(e))}))},ta={d3_drawShapes:function(e,t,n,r,a,i){"rect"===e?t.attr("height",n).attr("width",r):"circle"===e?t.attr("r",a):"line"===e?t.attr("x1",0).attr("x2",r).attr("y1",0).attr("y2",0):"path"===e&&t.attr("d",i)},d3_addText:function(e,t,n,r,a){t.append("text").attr("class",r+"label");var i=e.selectAll("g."+r+"cell text."+r+"label").data(n).text(Kr);return a&&e.selectAll("g."+r+"cell text."+r+"label").call(ea,a),i},d3_calcType:function(e,t,n,r,a,i){var o=e.invertExtent?function(e,t,n){var r=e.range().map((function(r){var a=e.invertExtent(r);return t(a[0])+" "+n+" "+t(a[1])}));return{data:e.range(),labels:r,feature:Kr}}(e,a,i):e.ticks?function(e,t,n){var r=[];if(t.length>1)r=t;else for(var a=e.domain(),i=(a[a.length-1]-a[0])/(t-1),o=0;o<t;o++)r.push(a[0]+o*i);var l=r.map(n);return{data:r,labels:l,feature:function(t){return e(t)}}}(e,n,a):function(e){return{data:e.domain(),labels:e.domain(),feature:function(t){return e(t)}}}(e),l=e.range&&e.range()||e.domain();return o.labels=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=arguments[2],r=arguments[3],a=arguments[4];if("object"===(void 0===t?"undefined":Qr(t))){if(0===t.length)return e;for(var i=t.length;i<e.length;i++)t.push(e[i]);return t}if("function"==typeof t){for(var o=[],l=e.length,c=0;c<l;c++)o.push(t({i:c,genLength:l,generatedLabels:e,domain:n,range:r,labelDelimiter:a}));return o}return e}(o.labels,r,e.domain(),l,i),t&&(o.labels=Jr(o.labels),o.data=Jr(o.data)),o},d3_filterCells:function(e,t){var n=e.data.map((function(t,n){return{data:t,label:e.labels[n]}})).filter(t),r=n.map((function(e){return e.data})),a=n.map((function(e){return e.label}));return e.data=e.data.filter((function(e){return-1!==r.indexOf(e)})),e.labels=e.labels.filter((function(e){return-1!==a.indexOf(e)})),e},d3_placement:function(e,t,n,r,a,i){t.attr("transform",n),r.attr("transform",a),"horizontal"===e&&r.style("text-anchor",i)},d3_addEvents:function(e,t){e.on("mouseover.legend",(function(e){!function(e,t,n){e.call("cellover",n,t)}(t,e,this)})).on("mouseout.legend",(function(e){!function(e,t,n){e.call("cellout",n,t)}(t,e,this)})).on("click.legend",(function(e){!function(e,t,n){e.call("cellclick",n,t)}(t,e,this)}))},d3_title:function(e,t,n,r){if(""!==t){e.selectAll("text."+n+"legendTitle").data([t]).enter().append("text").attr("class",n+"legendTitle"),e.selectAll("text."+n+"legendTitle").text(t),r&&e.selectAll("text."+n+"legendTitle").call(ea,r);var a=e.select("."+n+"legendCells"),i=e.select("."+n+"legendTitle").nodes().map((function(e){return e.getBBox().height}))[0],o=-a.nodes().map((function(e){return e.getBBox().x}))[0];a.attr("transform","translate("+o+","+i+")")}},d3_defaultLocale:{format:Kt,formatPrefix:Jt},d3_defaultFormatSpecifier:".01f",d3_defaultDelimiter:"to"};function na(){var e=Pr(),t="rect",n=15,r=15,a=10,i=2,o=[5],l=void 0,c=[],s="",u=!1,f="",d=ta.d3_defaultLocale,h=ta.d3_defaultFormatSpecifier,g=10,p="middle",b=ta.d3_defaultDelimiter,_=void 0,m="vertical",v=!1,y=void 0,w=void 0,x=un("cellover","cellout","cellclick");function S(S){var k=ta.d3_calcType(e,v,o,c,d.format(h),b);S.selectAll("g").data([e]).enter().append("g").attr("class",s+"legendCells"),l&&ta.d3_filterCells(k,l);var A=S.select("."+s+"legendCells").selectAll("."+s+"cell").data(k.data),E=A.enter().append("g").attr("class",s+"cell");E.append(t).attr("class",s+"swatch");var M=S.selectAll("g."+s+"cell "+t+"."+s+"swatch").data(k.data);ta.d3_addEvents(E,x),A.exit().transition().style("opacity",0).remove(),M.exit().transition().style("opacity",0).remove(),M=M.merge(M),ta.d3_drawShapes(t,M,r,n,a,y);var V=ta.d3_addText(S,E,k.labels,s,_);A=E.merge(A);var C=V.nodes().map((function(e){return e.getBBox()})),z=M.nodes().map((function(e){return e.getBBox()}));u?M.attr("class",(function(e){return s+"swatch "+k.feature(e)})):"line"==t?M.style("stroke",k.feature):M.style("fill",k.feature);var T,N=void 0,P=void 0,O="start"==p?0:"middle"==p?.5:1;"vertical"===m?(T=C.map((function(e,t){return Math.max(e.height,z[t].height)})),N=function(e,t){return"translate(0, "+(Sn(T.slice(0,t))+t*i)+")"},P=function(e,t){return"translate( "+(z[t].width+z[t].x+g)+", "+(z[t].y+z[t].height/2+5)+")"}):"horizontal"===m&&(N=function(e,t){return"translate("+t*(z[t].width+i)+",0)"},P=function(e,t){return"translate("+(z[t].width*O+z[t].x)+",\n          "+(z[t].height+z[t].y+g+8)+")"}),ta.d3_placement(m,A,N,V,P,p),ta.d3_title(S,f,s,w),A.transition().style("opacity",1)}return S.scale=function(t){return arguments.length?(e=t,S):e},S.cells=function(e){return arguments.length?((e.length>1||e>=2)&&(o=e),S):o},S.cellFilter=function(e){return arguments.length?(l=e,S):l},S.shape=function(e,n){return arguments.length?(("rect"==e||"circle"==e||"line"==e||"path"==e&&"string"==typeof n)&&(t=e,y=n),S):t},S.shapeWidth=function(e){return arguments.length?(n=+e,S):n},S.shapeHeight=function(e){return arguments.length?(r=+e,S):r},S.shapeRadius=function(e){return arguments.length?(a=+e,S):a},S.shapePadding=function(e){return arguments.length?(i=+e,S):i},S.labels=function(e){return arguments.length?(c=e,S):c},S.labelAlign=function(e){return arguments.length?("start"!=e&&"end"!=e&&"middle"!=e||(p=e),S):p},S.locale=function(e){return arguments.length?(d=nn(e),S):d},S.labelFormat=function(e){return arguments.length?(h=Gt(e),S):S.locale().format(h)},S.labelOffset=function(e){return arguments.length?(g=+e,S):g},S.labelDelimiter=function(e){return arguments.length?(b=e,S):b},S.labelWrap=function(e){return arguments.length?(_=e,S):_},S.useClass=function(e){return arguments.length?(!0!==e&&!1!==e||(u=e),S):u},S.orient=function(e){return arguments.length?("horizontal"!=(e=e.toLowerCase())&&"vertical"!=e||(m=e),S):m},S.ascending=function(e){return arguments.length?(v=!!e,S):v},S.classPrefix=function(e){return arguments.length?(s=e,S):s},S.title=function(e){return arguments.length?(f=e,S):f},S.titleWidth=function(e){return arguments.length?(w=e,S):w},S.textWrap=function(e){return arguments.length?(textWrap=e,S):textWrap},S.on=function(){var e=x.on.apply(x,arguments);return e===x?S:e},S}function ra(){var e=Pr(),t="path",n=5,r=[5],a=void 0,i=[],o="",l="",c=ta.d3_defaultLocale,s=ta.d3_defaultFormatSpecifier,u="middle",f=10,d=ta.d3_defaultDelimiter,h=void 0,g="vertical",p=!1,b=void 0,_=un("cellover","cellout","cellclick");function m(m){var v=ta.d3_calcType(e,p,r,i,c.format(s),d),y=m.selectAll("g").data([e]);a&&ta.d3_filterCells(v,a),y.enter().append("g").attr("class",o+"legendCells");var w=m.select("."+o+"legendCells").selectAll("."+o+"cell").data(v.data),x=w.enter().append("g").attr("class",o+"cell");x.append(t).attr("class",o+"swatch");var S=m.selectAll("g."+o+"cell "+"path."+o+"swatch");ta.d3_addEvents(x,_),w.exit().transition().style("opacity",0).remove(),S.exit().transition().style("opacity",0).remove(),S=S.merge(S),ta.d3_drawShapes(t,S,15,15,10,v.feature);var k=ta.d3_addText(m,x,v.labels,o,h);w=x.merge(w);var A,E=k.nodes().map((function(e){return e.getBBox()})),M=S.nodes().map((function(e){return e.getBBox()})),V=xn(M,(function(e){return e.height})),C=xn(M,(function(e){return e.width})),z=void 0,T=void 0,N="start"==u?0:"middle"==u?.5:1;"vertical"===g?(A=E.map((function(e,t){return Math.max(V,e.height)})),z=function(e,t){return"translate(0, "+(Sn(A.slice(0,t))+t*n)+" )"},T=function(e,t){return"translate( "+(C+f)+",\n              "+(M[t].y+M[t].height/2+5)+")"}):"horizontal"===g&&(z=function(e,t){return"translate( "+t*(C+n)+",0)"},T=function(e,t){return"translate( "+(M[t].width*N+M[t].x)+",\n              "+(V+f)+")"}),ta.d3_placement(g,w,z,k,T,u),ta.d3_title(m,l,o,b),w.transition().style("opacity",1)}return m.scale=function(t){return arguments.length?(e=t,m):e},m.cells=function(e){return arguments.length?((e.length>1||e>=2)&&(r=e),m):r},m.cellFilter=function(e){return arguments.length?(a=e,m):a},m.shapePadding=function(e){return arguments.length?(n=+e,m):n},m.labels=function(e){return arguments.length?(i=e,m):i},m.labelAlign=function(e){return arguments.length?("start"!=e&&"end"!=e&&"middle"!=e||(u=e),m):u},m.locale=function(e){return arguments.length?(c=nn(e),m):c},m.labelFormat=function(e){return arguments.length?(s=Gt(e),m):m.locale().format(s)},m.labelOffset=function(e){return arguments.length?(f=+e,m):f},m.labelDelimiter=function(e){return arguments.length?(d=e,m):d},m.labelWrap=function(e){return arguments.length?(h=e,m):h},m.orient=function(e){return arguments.length?("horizontal"!=(e=e.toLowerCase())&&"vertical"!=e||(g=e),m):g},m.ascending=function(e){return arguments.length?(p=!!e,m):p},m.classPrefix=function(e){return arguments.length?(o=e,m):o},m.title=function(e){return arguments.length?(l=e,m):l},m.titleWidth=function(e){return arguments.length?(b=e,m):b},m.on=function(){var e=_.on.apply(_,arguments);return e===_?m:e},m}var aa=n(49948),ia=Object.create,oa=Object.defineProperty,la=Object.getOwnPropertyDescriptor,ca=Object.getOwnPropertyNames,sa=Object.getPrototypeOf,ua=Object.prototype.hasOwnProperty,fa=e=>oa(e,"__esModule",{value:!0}),da=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),ha=(e,t)=>{for(var n in fa(e),t)oa(e,n,{get:t[n],enumerable:!0})},ga=e=>((e,t,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of ca(t))!ua.call(e,r)&&"default"!==r&&oa(e,r,{get:()=>t[r],enumerable:!(n=la(t,r))||n.enumerable});return e})(fa(oa(null!=e?ia(sa(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),pa=da(((e,t)=>{t.exports.default={types:{float:{filter_operator:"==",aggregate:"sum",format:{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}},string:{filter_operator:"==",aggregate:"count"},integer:{filter_operator:"==",aggregate:"sum",format:{}},boolean:{filter_operator:"==",aggregate:"count"},datetime:{filter_operator:"==",aggregate:"count",format:{week:"numeric",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},null_value:-1},date:{filter_operator:"==",aggregate:"count",format:{week:"numeric",year:"numeric",month:"numeric",day:"numeric"},null_value:-1}}}})),ba=da(((e,t)=>{var n=pa().default;function r(e){return e&&"object"==typeof e&&!Array.isArray(e)}function a(e,...t){if(!t.length)return e;let n=t.shift();if(r(e)&&r(n))for(let t in n)r(n[t])?(e[t]||Object.assign(e,{[t]:{}}),a(e[t],n[t])):Object.assign(e,{[t]:n[t]});return a(e,...t)}t.exports.get_types=function(){return Object.keys(t.exports.get_config().types)},t.exports.get_type_config=function(e){let n={};if(t.exports.get_config().types[e]&&Object.assign(n,t.exports.get_config().types[e]),n.type){let e=t.exports.get_type_config(n.type);return Object.assign(e,n),e}return n},window.__PERSPECTIVE_CONFIG__=void 0,t.exports.override_config=function(e){window.__PERSPECTIVE_CONFIG__&&console.warn("Config already initialized!"),window.__PERSPECTIVE_CONFIG__=a(n,e)},t.exports.get_config=function(){return window.__PERSPECTIVE_CONFIG__||(window.__PERSPECTIVE_CONFIG__=a(n,window.__TEMPLATE_CONFIG__||{})),window.__PERSPECTIVE_CONFIG__}}));Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});var _a="none",ma="ordinal",va="time",ya="linear",wa=e=>{let t="crossValues",n=null,r=null,a=()=>{let a=r=>{let a=n?e[t].filter((e=>n==e.name)):e[t];return!("crossValues"==t&&a.length>1)&&a.some((e=>r.includes(e.type)))};return 0===e[t].length?_a:r!=va&&a(["datetime","date"])?va:r!=ya&&a(["integer","float"])||r==ma?ya:ma};return a.settingName=(...e)=>e.length?(t=e[0],a):t,a.settingValue=(...e)=>e.length?(n=e[0],a):n,a.excludeType=(...e)=>e.length?(r=e[0],a):r,a},xa={};ha(xa,{domain:()=>Ea,labelFunction:()=>Ma,scale:()=>Aa});var Sa=e=>Array.isArray(e)?e.flat(1/0):[e],ka=e=>{let t=t=>e(t);return(0,r.rebindAll)(t,e),t.bandwidth=(...n)=>n.length?(e.bandwidth(...n),t):Math.max(e.bandwidth(),1),t},Aa=()=>(e=>{let t=t=>e(t);return(0,r.rebindAll)(t,e),t.ticks=function(){return[]},t})(ka((0,Me.scaleBand)())),Ea=()=>{let e=["crossValue"],t="horizontal",n=t=>{let n=Sa(t);return r([...new Set(n.map((t=>t[e[0]])))])},r=e=>"vertical"==t?e.reverse():e;return n.valueName=(...t)=>t.length?(e=[t[0]],n):e[0],n.valueNames=(...t)=>t.length?(e=t[0],n):e,n.orient=(...e)=>e.length?(t=e[0],n):t,n},Ma=e=>t=>t[e].join("|"),Va={};ha(Va,{domain:()=>Pa,labelFunction:()=>Oa,scale:()=>Na,tickFormatFunction:()=>Da});var Ca=()=>{let e=[0,0],t="percent",n=n=>{switch(t){case"domain":n[0]-=e[0],n[1]+=e[1];break;case"percent":{let t=n[1]-n[0];n[0]-=e[0]*t,n[1]+=e[1]*t;break}default:throw new Error("Unknown padUnit: "+t)}return n};return n.pad=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],n):e},n.padUnit=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],n):t},n},za=function(e){if(Array.isArray(e)){let t=Array(e.length);for(let n=0;n<e.length;n++)t[n]=e[n];return t}return Array.from(e)},Ta=e=>Math.abs(e)>=1e7?re(".3s")(e):Number.isInteger(e)?re(",.0f")(e):re(",.2f")(e),Na=()=>(0,Me.scaleLinear)(),Pa=()=>{let e=function(){let e=[function(e){return e}],t=null,n=[],r=Ca(),a=function(a){let i,o=new Array(a.length),l=!0,c=!1,s=e[Symbol.iterator]();try{for(let e;!(l=(e=s.next()).done);l=!0){let t=e.value;for(let e=0;e<a.length;e++){let n=t(a[e],e);Array.isArray(n)?o.push.apply(o,za(n)):o.push(n)}}}catch(e){c=!0,i=e}finally{try{!l&&s.return&&s.return()}finally{if(c)throw i}}let u=[(0,Te.Z)(o),(0,Ne.Z)(o)];if(u[0]=null==u[0]?(0,Te.Z)(n):(0,Te.Z)([u[0]].concat(za(n))),u[1]=null==u[1]?(0,Ne.Z)(n):(0,Ne.Z)([u[1]].concat(za(n))),null!=t){let e=Math.max(Math.abs(u[1]-t),Math.abs(u[0]-t));u[0]=t-e,u[1]=t+e}return r(u)};return a.accessors=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],a):e},a.pad=function(){return arguments.length?(r.pad(arguments.length<=0?void 0:arguments[0]),a):r.pad},a.padUnit=function(){return arguments.length?(r.padUnit(arguments.length<=0?void 0:arguments[0]),a):r.padUnit},a.include=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],a):n},a.symmetricalAbout=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],a):t},a.paddingStrategy=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],a):r},a}().pad([0,.1]).padUnit("percent"),t=["crossValue"],n=n=>(e.accessors(t.map((e=>t=>parseFloat(t[e])))),a(Sa(n)));(0,r.rebindAll)(n,e);let a=n=>{if("domain"==e.padUnit()){let r=(e=>{let n=t.map((t=>e.map((e=>e[t])).sort(((e,t)=>e-t)).filter(((e,t,n)=>0===t||e!==n[t-1])).reduce(((e,t,n,r)=>0===n||e<=t-r[n-1]?e:Math.abs(t-r[n-1])))));return Math.min(...n)})(n);return e.pad([r/2,r/2])(n)}return e(n)};return n.valueName=(...e)=>e.length?(t=[e[0]],n):t[0],n.valueNames=(...e)=>e.length?(t=e[0],n):t,n},Oa=e=>t=>t[e][0],Da=Ta,La={};ha(La,{domain:()=>Ra,labelFunction:()=>Ba,scale:()=>Ia});var Ia=()=>(0,Me.scaleTime)(),Ra=()=>{let e=(0,r.extentTime)(),t=["crossValue"],n=n=>(e.accessors(t.map((e=>t=>new Date(t[e])))),a(Sa(n)));(0,r.rebindAll)(n,e,(0,r.exclude)("include","paddingStrategy"));let a=n=>{let r=Math.abs((e=>{let n=t.map((t=>e.map((e=>new Date(e[t]).getTime())).sort(((e,t)=>e-t)).filter(((e,t,n)=>0===t||e!==n[t-1])).reduce(((e,t,n,r)=>0===n||Math.abs(e)<=Math.abs(t-r[n-1])?Math.abs(e):Math.abs(t-r[n-1])))));return Math.min(...n)})(n));return e.padUnit("domain").pad([r/2,r/2])(n)};return n.valueName=(...e)=>e.length?(t=[e[0]],n):t[0],n.valueNames=(...e)=>e.length?(t=e[0],n):t,n},Ba=e=>t=>new Date(t[e][0]),ja={};ha(ja,{component:()=>Qa,domain:()=>Ga,labelFunction:()=>Xa,scale:()=>$a});var Za=(e,t,n)=>{let a=6,i=6,o=((...e)=>{let t={},n=e=>{for(let n of Object.keys(t))e[n](t[n]);return e};for(let r of e)n[r]=(...e)=>e.length?(t[r]=e[0],n):t[r];return n})("tickFormat","ticks","tickArguments","tickValues","tickPadding"),l=()=>{},c=null,s=(0,r.dataJoin)("g","group"),u=(0,r.dataJoin)("path","domain"),f=(e,t)=>d()?`translate(${t}, ${e})`:`translate(${e}, ${t})`,d=()=>"left"===e||"right"===e,h=r=>{c?r.each(((r,h,p)=>{let b=p[h],_=(0,Ve.select)(b),m="bottom"===e||"right"===e?1:-1,v=n.range(),y=(e=>d()?e.map((e=>[e[1],e[0]])):e)([[v[0],m*a],[v[0],0],[v[1],0],[v[1],m*a]]);u(_,[r]).attr("d",(0,Ce.line)()(y)).attr("stroke","#000").attr("fill","none");let w=s(_,c),x=e=>Array.isArray(i)?i[e]:i,S=e=>{let t=0;for(let n=0;n<e;n++)t+=x(n);return t};w.attr("transform",((e,t)=>f(0,m*S(t)))).each(((e,r,a)=>{let i=(0,Ve.select)(a[r]),c=g(n,e);o(t(c)).decorate(((e,t)=>l(e,t,r))).tickSizeInner(x(r)).tickOffset((e=>c.step(e)/2))(i),i.select("path.domain").attr("visibility","hidden")})),w.exit().attr("transform",((e,t)=>f(0,m*S(t))))})):o(t(n).decorate(l))(r)},g=(e,t)=>{function n(t){let n=t.domain;return n.reduce(((t,n)=>t+e(n)),0)/n.length}return n.ticks=()=>t,n.tickFormat=()=>e=>e.text,n.copy=()=>g(e,t),n.step=t=>t.domain.length*e.step(),(0,r.rebindAll)(n,e,(0,r.exclude)("ticks","step","copy")),n};return h.tickSize=(...e)=>e.length?(i=a=Number(e[0]),h):i,h.tickSizeInner=(...e)=>e.length?(i=Array.isArray(e[0])?e[0]:Number(e[0]),h):i,h.tickSizeOuter=(...e)=>e.length?(a=Number(e[0]),h):a,h.decorate=(...e)=>e.length?(l=e[0],h):l,h.groups=(...e)=>e.length?(c=e[0],h):c,(0,r.rebindAll)(h,o),h},Ha=e=>Za("top",r.axisOrdinalTop,e),Fa=e=>Za("bottom",r.axisOrdinalBottom,e),Wa=e=>Za("left",r.axisOrdinalLeft,e),Ya=e=>Za("right",r.axisOrdinalRight,e);function qa(e){return e.getRootNode().host}function Ua(e){return e.closest("#container.chart")}var $a=()=>ka((0,Me.scaleBand)()).padding(.5),Ga=()=>{let e=["crossValue"],t="horizontal",n=t=>{let n=Sa(t);return r([...new Set(n.map((t=>t[e[0]])))])},r=e=>"vertical"==t?e.reverse():e;return n.valueName=(...t)=>t.length?(e=[t[0]],n):e[0],n.valueNames=(...t)=>t.length?(e=t[0],n):e,n.orient=(...e)=>e.length?(t=e[0],n):t,n},Xa=e=>t=>t[e].join("|"),Qa=e=>{let t="horizontal",n="crossValues",a=null,i=()=>{let r=e[n].length>1,i=l(a),u=i.map(c),d=r?u.map((e=>e.size)):u[0].size,h=u.reduce(((e,t)=>e+t.size),0),g=e=>n=>{let a=e(n);return r&&a.groups(i).tickSizeInner(d).tickSizeOuter(h),"horizontal"!==t&&a.tickPadding(10),a},p=o(r);return{bottom:g(p.bottom),left:g(p.left),right:g(p.right),top:g(p.top),size:`${h+10}px`,decorate:(e,n,r)=>{let a=u[r].rotation;"horizontal"===t&&f(e,a),s(e,a)}}},o=e=>e?{bottom:Fa,left:Wa,top:Ha,right:Ya}:{bottom:r.axisOrdinalBottom,left:r.axisOrdinalLeft,top:r.axisOrdinalTop,right:r.axisOrdinalRight},l=e=>{let t=[];return e.forEach((e=>{(e&&e.split?e.split("|"):[e]).forEach(((n,r)=>{for(;t.length<=r;)t.push([]);let a=t[r];a.length>0&&a[a.length-1].text===n?a[a.length-1].domain.push(e):a.push({text:n,domain:[e]})}))})),t.reverse()},c=n=>{let r=e.size.width,a=Math.max(...n.map((e=>e.text?e.text.length:0)));return"horizontal"===t?n&&16*n.length>r-100?{size:5*a+10,rotation:90}:n&&n.length*(6*a+10)>r-100?{size:3*a+20,rotation:45}:{size:25,rotation:0}:{size:5*a+10,rotation:0}},s=(e,n)=>{let r=n?(e,t)=>e.x+e.width+14>t.x+t.width:(e,t)=>e.x<=t.x+t.width&&t.x<=e.x+e.width&&e.y<=t.y+t.height&&t.y<=e.y+e.height,a="horizontal"==t?u(e):null,i=[];e.each(((e,t,n)=>{let o=(0,Ve.select)(n[t]),l=(e=>{let t=-1!==e.indexOf(",")?",":" ",n=e.substring(e.indexOf("(")+1,e.indexOf(")")).split(t).map((e=>parseInt(e)));for(;n.length<2;)n.push(0);return n})(o.attr("transform")),c=o.node().getBBox(),s={x:c.x+l[0],y:c.y+l[1],width:c.width,height:c.height},u=i.some((e=>r(e,s)))||a&&!((e,t)=>e.x>=t.x&&e.x+e.width<=t.x+t.width&&e.y>=t.y&&e.y+e.height<=t.y+t.height)(s,a);o.attr("visibility",u?"hidden":""),u||i.push(s)}))},u=e=>{let t=Ua(e.node());if(null===t)return;let n=t.querySelector(".cartesian-chart"),r=n.querySelector(".x-axis"),a=n.getBoundingClientRect(),i=r.getBoundingClientRect();return{x:a.left-i.left,width:a.width,y:a.top-i.top,height:a.height}},f=(e,t)=>{let n=(e=>e?e<60?`rotate(-${e} 5 5)`:`rotate(-${e} 3 7)`:"translate(0, 8)")(t),r=t?"end":"";e.each(((e,t,a)=>{(0,Ve.select)(a[t]).select("text").attr("transform",n).style("text-anchor",r)}))};return i.orient=(...e)=>e.length?(t=e[0],i):t,i.settingName=(...e)=>e.length?(n=e[0],i):n,i.domain=(...e)=>e.length?(a=e[0],i):a,i},Ka={none:xa,ordinal:ja,time:La,linear:Va},Ja=e=>{let t=null,n="horizontal",a="crossValues",i=null,o=["crossValue"],l=["include","paddingStrategy","pad"],c={},s=r=>{let s=wa(e).excludeType(t).settingName(a).settingValue(i)(),d=Ka[s],h=d.domain().valueNames(o);l.forEach((e=>{c[e]&&h[e]&&h[e](c[e])})),h.orient&&h.orient(n);let g=h(r),p=d.component?u(d,g,r):f();return{scale:d.scale(),domain:g,domainFunction:h,labelFunction:d.labelFunction,component:{bottom:p.bottom,left:p.left,top:p.top,right:p.right},size:p.size,decorate:p.decorate,label:e[a].map((e=>e.name)).join(", "),tickFormatFunction:d.tickFormatFunction}},u=(t,r,i)=>t.component(e).orient(n).settingName(a).domain(r)(i),f=()=>({bottom:r.axisBottom,left:r.axisLeft,top:r.axisTop,right:r.axisRight,decorate:()=>{}});return s.excludeType=(...e)=>e.length?(t=e[0],s):t,s.orient=(...e)=>e.length?(n=e[0],s):n,s.settingName=(...e)=>e.length?(a=e[0],s):a,s.settingValue=(...e)=>e.length?(i=e[0],s):i,s.valueName=(...e)=>e.length?(o=[e[0]],s):o[0],s.valueNames=(...e)=>e.length?(o=e[0],s):o,l.forEach((e=>{s[e]=(...t)=>t.length?(c[e]=t[0],s):c[e]})),s},ei=(e,t)=>ni(e,t,((e,t)=>e.svgPlotArea(t)),!1),ti=(e,t)=>ni(e,t,((e,t)=>e.canvasPlotArea(t).svgPlotArea((0,r.seriesSvgPoint)())),!0),ni=(e,t,n,a)=>{let i=null,o=null,l=(0,r.chartCartesian)({xScale:e.scale,yScale:t.scale,xAxis:e.component,yAxis:t.component}).xDomain(e.domain).xLabel(e.label).xAxisHeight(e.size).xDecorate(e.decorate).xTickFormat(e.tickFormatFunction).yDomain(t.domain).yLabel(t.label).yAxisWidth(t.size).yDecorate(t.decorate).yOrient("left").yTickFormat(t.tickFormatFunction);e.decorate&&l.xDecorate(e.decorate),t.decorate&&l.yDecorate(t.decorate),l.xPaddingInner&&l.xPaddingInner(1),l.xPaddingOuter&&l.xPaddingOuter(.5),l.yPaddingInner&&l.yPaddingInner(1),l.yPaddingOuter&&l.yPaddingOuter(.5),l.axisSplitter=(...e)=>e.length?(i=e[0],l):i,l.altAxis=(...e)=>e.length?(o=e[0],l):o,l.plotArea=function(...e){return 0==e.length?a?this.canvasPlotArea():this.svgPlotArea():n(this,...e)};let c=l.decorate();return l.decorate(((n,s)=>{let u=n.select("d3fc-svg.plot-area"),f=u.select("svg").node();f.setAttribute("viewBox",`0 0 ${u.node().clientWidth} ${u.node().clientHeight}`),f.setAttribute("preserveAspectRatio","none");for(let e of["x-axis","y-axis"])n.select(`d3fc-svg.${e} svg`).node().setAttribute("preserveAspectRatio","none");if(c(n,s),a){let e=n.select(".svg-plot-area").node(),t=n.select(".canvas-plot-area").node();(0,Ve.selectAll)([e,t]).order()}if(i){if(i.haveSplit()){let c=i.altData(),u=(0,r.dataJoin)("d3fc-svg","y2-axis").key((e=>e)),f=(0,r.dataJoin)("g","y-series").key((e=>e));n.append("div").attr("class","y-label right-label").style("grid-column",5).style("-ms-grid-column",5).style("grid-row",3).style("-ms-grid-row",3).style("width",o.size||"1em").style("display","flex").style("align-items","center").style("justify-content","center").append("span").attr("class","y-label splitter-label").style("transform","rotate(-90deg)");let d=o.scale.domain(o.domain),h=o.component.right(d);if(h.tickFormat(o.tickFormatFunction),o.decorate&&h.decorate(o.decorate),u(n,["right"]).attr("class",(e=>`y-axis ${e}-axis`)).on("measure",(function(e,t){let{width:n,height:r}=e.detail;"left"===t&&(0,Ve.select)(e.currentTarget).select("svg").attr("viewBox",`${-n} 0 ${n} ${r}`).attr("preserveAspectRatio","none"),d.range([r,0])})).on("draw",(function(e,t){(0,Ve.select)(e.currentTarget).select("svg").call(h)})),a){let r=n=>{let r=l.plotArea();r.context(n.node().getContext("2d")).xScale(e.scale);let a=[t.scale,d];[s,c].forEach(((e,t)=>{r.yScale(a[t]),r(e)}))};n.select("d3fc-canvas.plot-area").on("draw",(function(e,t){r((0,Ve.select)(e.currentTarget).select("canvas"))}))}else{let r=function(n){let r=l.plotArea();r.xScale(e.scale);let a=[t.scale,d];f(n,[s,c]).each(((e,t,n)=>{r.yScale(a[t]),(0,Ve.select)(n[t]).datum(e).call(r)}))};n.select("d3fc-svg.plot-area").on("draw",(function(e,t){r((0,Ve.select)(e.currentTarget).select("svg"))}))}}i(n)}})),l};function ri(e,t,n){let r=e.select(t);return r.size()>0?r:n()}function ai(e,t,n="right"){if("right"===n||"bottom"===n)return e[n]<t[n];if("left"===n||"top"===n)return e[n]>t[n];throw`Direction being checked for overflow is invalid: ${n}`}function ii(e,t,n,r=0){let a="x"===e?"width":"height",i=t[e],o=t[e]+t[a],l=n[e],c=n[e]+n[a];return l+r>i&&l-r<o||c+r>i&&c-r<o||l+r<i&&c-r>o}var oi='<ul id="tooltip-values"></ul>\n',li=ga(ba());function ci(e,t){switch(e){case"date":case"datetime":return t instanceof Date?t:new Date(parseInt(t)).toLocaleString("en-us",(0,li.get_type_config)(e).format);case"integer":return parseInt(t,10);case"float":return parseFloat(t)}return t}function si(e,t){return 0===t.crossValues.length||0===e.crossValue.length?[]:((e.crossValue.split?e.crossValue.split("|"):[e.crossValue])||[e.key]).map(((e,n)=>({name:t.crossValues[n].name,value:ci(t.crossValues[n].type,e)})))}function ui(e,t){if(0===t.splitValues.length)return[];let n=e.key?e.key.split("|"):e.mainValue.split?e.mainValue.split("|"):[e.mainValue];return t.splitValues.map(((e,t)=>({name:e.name,value:ci(e.type,n[t])})))}function fi(e,t){return t.mainValues.length>1?e.mainValue?[{name:e.key,value:e.mainValue-(e.baseValue||0)}]:t.mainValues.map(((t,n)=>({name:t.name,value:ci(t.type,e.mainValues[n])}))):[{name:t.mainValues[0].name,value:ci(t.mainValues[0].type,e.colorValue||e.mainValue-e.baseValue||e.mainValue||e.mainValues)}]}var di=ga(ba());function hi(e,t,n){!function(e,t){e.select("#tooltip-values").selectAll("li").data(t).join("li").each((function(e){(0,Ve.select)(this).text(`${e.name}: `).append("b").text(gi(e.value))}))}(e,si(t,n).concat(ui(t,n)).concat(fi(t,n)))}var gi=e=>null===e?"-":e.toLocaleString(void 0,{style:"decimal",minimumFractionDigits:(0,di.get_type_config)("float").precision,maximumFractionDigits:(0,di.get_type_config)("float").precision}),pi=e=>[e.name,"==",e.value],bi=(e,t,n)=>{let r=fi(t,n).map((e=>e.name)),a=si(t,n).map(pi),i=ui(t,n).map(pi),o=n.filter.concat(a).concat(i);e.dispatchEvent(new CustomEvent("perspective-click",{bubbles:!0,composed:!0,detail:{column_names:r,config:{filter:o},row:t.row}}))},_i=()=>{let e=!1,t=null,n=null,r=!1,a=a=>{let i=a.node();if(!i||!i.isConnected)return void mi(t);let o=(0,Ve.select)(Ua(i));t=function(e){return ri(e,"div.tooltip",(()=>e.append("div").attr("class","tooltip").style("z-index",3).style("opacity",0).html(oi)))}(o);let l=function(e,i){hi(t,i,n);let l=a.nodes(),c=l.indexOf(this);(function(e,t,n,r){let a=e.getBoundingClientRect(),i=t.getBoundingClientRect(),o=i.left+i.width/2-a.left,l=i.top-a.top+e.scrollTop;r&&(l=i.top+i.height/2-a.top+e.scrollTop),n.style("left",`${o}px`).style("top",`${l}px`).style("opacity",.9),r&&([o,l]=function(e,t){let n=e.node().getBoundingClientRect(),r=n.width/2,a=n.left-r-t.left;e.style("left",`${a}px`);let i=n.height/2,o=n.top-i-t.top;return e.style("top",`${o}px`),[a,o]}(n,a)),function(e,t,n,r,a=!1){let i=e.node().getBoundingClientRect();if(ai(t,i)){let r=i.right-t.right;e.style("left",n-r+"px")}if(ai(t,i,"bottom")){let n=i.bottom-t.bottom;e.style("top",r-n+"px")}if(a){if(ai(t,i,"left")){let r=i.left-t.left;e.style("left",n-r+"px")}if(ai(t,i,"top")){let n=i.top-t.top;e.style("top",r-n+"px")}}}(n,a,o,l,r)})(o.node(),l[c],t,r),(0,Ve.select)(l[c]).style("opacity","0.7")};e?a.each((function(e){return l.call(this,void 0,e)})):(a.on("mouseover",l).on("mouseout",(function(e,n){mi(t);let r=a.nodes(),i=r.indexOf(this);r&&(0,Ve.select)(r[i]).style("opacity","1")})),(()=>{let e=null,t=t=>{let n=t.node();t.on("click",((t,r)=>bi(n,r,e)))};return t.settings=(...n)=>n.length?(e=n[0],t):e,t})().settings(n)(a))};return a.alwaysShow=(...t)=>t.length?(e=t[0],a):e,a.centered=(...e)=>e.length?(r=e[0],a):r,a.settings=(...e)=>e.length?(n=e[0],a):n,a};function mi(e){e&&e.style("opacity",0)}function vi(e,t){let n=e.mainValues.length>1?(0,r.seriesSvgGrouped)((0,r.seriesSvgBar)()):(0,r.seriesSvgBar)();return n=n.decorate((n=>{_i().settings(e)(n),n.style("fill",(e=>t(e.key)))})),(0,r.autoBandwidth)(yi(n)).crossValue((e=>e.crossValue)).mainValue((e=>e.mainValue?e.mainValue:0)).baseValue((e=>e.baseValue))}var yi=e=>{let t=t=>e(t);return(0,r.rebindAll)(t,e),t.bandwidth=(...n)=>n.length?(e.bandwidth(Math.max(n[0],1)),t):e.bandwidth(),t};function wi(e){return e.split("|").slice(0,-1).join("|")}function xi(e){let t=e.data&&e.data.length>0?e.data[0]:{},n=Object.keys(t).filter((e=>"__ROW_PATH__"!==e));return Ai().settings(e).domain(n)()}function Si(e,t){let n=Array.from(new Set(t));return Ai().settings(e).domain(n)()}function ki(e){let t=e.data&&e.data.length>0?e.data[0]:{},n=[];return Object.keys(t).forEach((e=>{if("__ROW_PATH__"!==e){let t=wi(e);n.includes(t)||n.push(t)}})),Ai().settings(e).domain(n)()}function Ai(){let e=null,t=null,n={},r=e=>Mi(e,n.colorStyles&&n.colorStyles.opacity),a=()=>{let a=n.colorStyles,i=t||[a.series];if(i||e.length>1){let t=e.length>1?a.scheme:i;return(0,Me.scaleOrdinal)(t.map(r)).domain(e)}return null};return a.domain=(...t)=>t.length?(e=t[0],a):e,a.defaultColors=(...e)=>e.length?(t=e[0],a):t,a.mapFunction=(...e)=>e.length?(r=e[0],a):r,a.settings=(...e)=>e.length?(n=e[0],a):n,a}function Ei(e){return Vi(1)(e)}function Mi(e,t=.5){return Vi(t)(e)}function Vi(e){return t=>{let n=x(t);return n.opacity=e,n+""}}var Ci={none:Ma,ordinal:Xa,time:Ba,linear:Oa},zi=e=>{let t=wa(e),n="__ROW_PATH__",a=(e,r)=>Ci[t()](n)(e,r);return(0,r.rebindAll)(a,t),a.valueName=(...e)=>e.length?(n=e[0],a):n,a};function Ti(e,t,{stack:n=!1,excludeEmpty:r=!1}={}){let a=t||e.data;return e.splitValues.length>0?function(e,t,{stack:n=!1,excludeEmpty:r=!1}){let a={};return t.forEach((e=>{let t={},i={};Object.keys(e).filter((e=>"__ROW_PATH__"!==e)).filter((t=>!r||null!=e[t]&&null!=e[t])).forEach((r=>{let a=r.split("|"),o=a[a.length-1],l=e[r]||0,c=`${o}${l>=0?"+ve":"-ve"}`,s=a.slice(0,a.length-1).join("|"),u=i[s]=i[s]||{__ROW_PATH__:e.__ROW_PATH__},f=t[c]||0;u.__KEY__=s,n?(u[o]=f+l,u[`__BASE_VALUE__${o}`]=f,t[c]=u[o]):u[o]=l,u.row=e})),Object.keys(i).forEach((e=>{(a[e]=a[e]||[]).push(i[e])}))})),Object.keys(a).map((e=>{let t=a[e];return t.key=e,t}))}(0,a,{stack:n,excludeEmpty:r}):[a]}function Ni(e,t){let n={stack:!0};return Ti(e,t,n).map((t=>Pi(e,t,n)))}function Pi(e,t,{stack:n=!1}){let r=function(e,t,{stack:n=!1}){let r=zi(e);return e=>{let a=t=>n&&t[`__BASE_VALUE__${e.name}`]||0,i=t.map(((t,n)=>({crossValue:r(t,n),mainValue:t[e.name]?t[e.name]:null,baseValue:a(t),key:t.__KEY__?`${t.__KEY__}|${e.name}`:e.name,row:t.row||t})));return i.key=i[0].key,i}}(e,t,{stack:n});return e.mainValues.length>1?e.mainValues.map(r):r(e.mainValues[0])}var Oi=10;function Di(e,t,n){let r=(0,Ve.select)(qa(e).getContainer()).node().getBoundingClientRect(),a=e.getBoundingClientRect(),i={top:a.top+n-Oi,right:a.right+t+Oi,bottom:a.bottom+n+Oi,left:a.left+t-Oi},o={x:t,y:n};return[{edge:"right",dimension:"x"},{edge:"left",dimension:"x"},{edge:"top",dimension:"y"},{edge:"bottom",dimension:"y"}].forEach((e=>{if(ai(r,i,e.edge)){let t=i[e.edge]-r[e.edge];o[e.dimension]=o[e.dimension]-t}})),o}var Li="resize.for-dragging";function Ii(){let e=!0,t=null,n=n=>{let r=n.node(),a=r.getRootNode().host.closest("perspective-viewer");r.style.cursor="move",t.legend&&(r.style.left=t.legend.left,r.style.top=t.legend.top);let i=q().on("drag",(function(n){let a=Di(this,n.dx,n.dy);this.style.left=`${this.offsetLeft+a.x}px`,this.style.top=`${this.offsetTop+a.y}px`;let i={left:this.style.left,top:this.style.top};t.legend={...t.legend,...i},e=function(e){let t=e.getBoundingClientRect(),n=(0,Ve.select)(Ua(e)).node().getBoundingClientRect(),r=5;return t.right+Oi+r>=n.right&&t.top-Oi-r<=n.top}(r)?function(e){return(0,Ve.select)(window).on(Li,null),e.style.left="auto",!0}(r):function(e,t){return!1!==t&&(0,Ve.select)(window).on(Li,(function(){let t=Di(e,0,0);e.style.left=`${e.offsetLeft+t.x}px`,e.style.top=`${e.offsetTop+t.y}px`})),!1}(r,e)}));i.on("end",(function(e){(0,Ve.select)(window).on(Li,null),a?.dispatchEvent(new Event("perspective-config-update"))})),n.call(i)};return n.settings=(...e)=>e.length?(t=e[0],n):t,n}var Ri="horizontal-drag-handle",Bi="vertical-drag-handle",ji="dragHandles",Zi="resize";var Hi=(e,t,n,r)=>{e.selectAll(`.${r}`).each(((e,r,a)=>{let i=a[r];(0,Ve.select)(i).attr(n,i.getBoundingClientRect()[n]-t)}))},Fi=e=>e.select(`#${ji}`).size()>0,Wi=(e,t,n)=>e.attr(t,Number(e.attr(t))-n),Yi=(e,t,n)=>e.attr(t,e.node().getBoundingClientRect()[t]-n),qi=(e,t)=>{let n,a,i=e||na(),o=[],l=1,c=t.legend&&t.legend.pageIndex?t.legend.pageIndex:0,s=()=>{},u=Ii().settings(t),f=e=>{o=i.scale().domain(),a=function(){let e=9,t=3,n=null,r={height:100,width:100},a={height:null,width:null},i=[],o=(e,t)=>i.filter((t=>t.event===e)).forEach((e=>e.execute(t))),l=r=>{if(Fi(r))return;let i={left:e=>o(Zi,{horizontal:E(e),vertical:!1}),top:e=>o(Zi,{horizontal:!1,vertical:V(e)}),right:e=>o(Zi,{horizontal:M(e),vertical:!1}),bottom:e=>o(Zi,{horizontal:!1,vertical:C(e)}),topleft:e=>o(Zi,{horizontal:E(e),vertical:V(e)}),topright:e=>o(Zi,{horizontal:M(e),vertical:V(e)}),bottomright:e=>o(Zi,{horizontal:M(e),vertical:C(e)}),bottomleft:e=>o(Zi,{horizontal:E(e),vertical:C(e)})},l=r.node();n.legend&&(l.style.height=n.legend.height,l.style.width=n.legend.width);let u=l.getBoundingClientRect(),f=r.append("svg").attr("id",ji).attr("width",u.width).attr("height",u.height),d=f.append("g"),h=e=>"left"===e||"right"===e,g={left:0,top:e,right:u.width-e,bottom:e},p={left:e,top:0,right:e,bottom:u.height-e},[b,_,m,v]=["left","top","right","bottom"].map((n=>d.append("rect").attr("id",`drag${n}`).attr("class",h(n)?Bi:Ri).attr("y",p[n]).attr("x",g[n]).attr("height",h(n)?u.height-2*e:e).attr("width",h(n)?e:u.width-2*e).attr("fill",h(n)?"lightgreen":"lightblue").attr("fill-opacity",0).style("z-index",t).attr("cursor",h(n)?"ew-resize":"ns-resize").call(q().on("drag",i[n])))),y=e=>`${e[0]}${e[1]}`,w={topleft:"nwse",topright:"nesw",bottomright:"nwse",bottomleft:"nesw"},[x,S,k,A]=[["top","left"],["top","right"],["bottom","right"],["bottom","left"]].map((n=>d.append("rect").attr("id",`drag${y(n)}`).attr("class",`corner-drag-handle ${n[0]} ${n[1]}`).attr("height",e).attr("width",e).attr("fill","red").attr("fill-opacity",0).style("z-index",t).attr("cursor",`${w[y(n)]}-resize`).call(q().on("drag",i[y(n)]))));function E(e){let t=s(Di(b.node(),e.x,0).x,f,"width",((e,t)=>e-t));return l.style.left=`${l.offsetLeft+t}px`,l.style.width=l.offsetWidth-t+"px",z(),T(m,t,"width","x")}function M(e){let t=-s(Di(m.node(),e.dx,0).x,f,"width",((e,t)=>e+t));return!c(t,"x",m,e)&&(l.style.width=l.offsetWidth-t+"px",z(),T(m,t,"width","x"))}function V(e){let t=s(Di(_.node(),0,e.y).y,f,"height",((e,t)=>e-t));return l.style.top=`${l.offsetTop+t}px`,l.style.height=l.offsetHeight-t+"px",z(),T(v,t,"height","y")}function C(e){let t=-s(Di(v.node(),0,e.dy).y,f,"height",((e,t)=>e+t));return!c(t,"y",v,e)&&(l.style.height=l.offsetHeight-t+"px",z(),T(v,t,"height","y"))}function z(){let e={top:l.style.top,left:l.style.left,height:l.style.height,width:l.style.width};n.legend={...n.legend,...e}}function T(e,t,n,r){return Yi(f,n,t),Wi(e,r,t),Hi(f,t,n,"height"===n?Bi:Ri),N(f),0!=t}function N(t){x.attr("y",0,"x",0),S.attr("y",0).attr("x",t.attr("width")-e),k.attr("y",t.attr("height")-e).attr("x",t.attr("width")-e),A.attr("y",t.attr("height")-e).attr("x",0)}function P(e,t,n){a[e]&&a[e]<u[e]&&(l.style[e]=`${a[e]}px`,T(n,u[e]-a[e],e,t))}P("height","y",v),P("width","x",m),N(f)};function c(e,t,n,r){return a=t,i=n,e<0&&r[a]<Number(i.attr(a))||((e,t,n,r)=>e>0&&r[t]>Number(n.attr(t)))(e,t,n,r);var a,i}function s(e,t,n,i){let o=i(Number(t.attr(n)),e);return o<r[n]?i(e,r[n]-o):a[n]&&o>a[n]?i(e,a[n]-o):e}return l.on=(e,t)=>(i.push({event:e,execute:t}),l),l.zIndex=e=>(t=e,l),l.settings=(...e)=>e.length?(n=e[0],l):n,l.minWidth=e=>(r.width=e,a.width&&(a.width=Math.max(r.width,a.width)),l),l.minHeight=e=>(r.height=e,a.height&&(a.height=Math.max(r.height,a.height)),l),l.handleWidth=t=>(e=t,l),l.maxWidth=e=>(a.width=e,r.width=Math.min(r.width,a.width),l),l.maxHeight=e=>(a.height=e,r.height=Math.min(r.height,a.height),l),l}().settings(t).maxHeight(16*o.length+20).on("resize",(()=>d(e))),a(e),u(e),d(e)},d=e=>{_(e),h(e),g(e),function(e){let t=e.select("g.legendCells"),n=e.node().getBoundingClientRect();if(!ai(n,t.node().getBoundingClientRect()))return;let r=e.select(".legend");t.selectAll(".label").text(((e,t,a)=>{let i=a[t];if(ai(n,i.getBoundingClientRect())){let t=function(e,t,n){let r=e.getBoundingClientRect(),a=t.node().createSVGPoint(),i=3;return a.x=n.right-r.left-i,a.y=0,e.getCharNumAtPosition(a)}(i,r,n);return`${e.substring(0,t-3)}...`}return e}))}(e)},h=e=>{let t=v(e);t.style("display",l<=1?"none":"block"),t.select("#page-text").text(`${c+1}/${l}`),t.select("#up-arrow").attr("class",0===c?"disabled":"").on("click",(()=>{c>0&&(p(c-1),d(e))})),t.select("#down-arrow").attr("class",c>=l-1?"disabled":"").on("click",(()=>{c<l-1&&(p(c+1),d(e))}))},g=e=>{l>1&&i.cellFilter(b()),e.select("g.legendCells").remove();let t=y(e);t.call(i);let n=e.select("g.legendCells").node().getBBox();t.attr("height",n.height+20),s(e)},p=e=>{c=e,t.legend={...t.legend,pageIndex:c}},b=()=>(e,t)=>t>=n*c&&t<n*c+n,_=e=>{let t=e.node().getBoundingClientRect(),r=Math.floor(t.height/16)-1;n=r<o.length?r-1:r,l=m(r),c=Math.min(c,l-1)},m=e=>Math.ceil(o.length/e),v=e=>ri(e,".legend-controls",(()=>e.append("g").attr("class","legend-controls").html('<span id="up-arrow">&#9650;</span>\n<span id="page-text"></span>\n<span id="down-arrow">&#9660;</span>\n'))),y=e=>ri(e,".legend",(()=>e.append("svg").attr("class","legend")));return f.decorate=(...e)=>e.length?(s=e[0],f):s,(0,r.rebindAll)(f,i),f},Ui=e=>qi(na().shape("circle").shapeRadius(6),e),$i=e=>qi(ra().shapePadding(1).labelOffset(3),e),Gi=()=>Ki(Ui),Xi=()=>Ki($i,Qi);function Qi(e){if(!e)return null;let t=e.domain(),n=e.range().map((e=>(0,Ce.symbol)().type(e)()));return(0,Me.scaleOrdinal)().domain(t).range(n)}function Ki(e,t){let n={},r=null,a=null;function i(t){if(r&&r.range().length>1){let i=e(n);i.scale(r).orient("vertical").on("cellclick",(function(e){let t=this.__data__;n.hideKeys=n.hideKeys||[],n.hideKeys.includes(t)?n.hideKeys=n.hideKeys.filter((e=>e!==t)):n.hideKeys.push(t),qa(this)._draw()})),i.labels((e=>{let t=e.domain[e.i].split("|");return n.mainValues.length<=1&&t.length>1?t.slice(0,t.length-1).join("|"):e.domain[e.i]}));let o=ri(t,"div.legend-container",(()=>t.append("div")));i.decorate((e=>{let t=e=>n.hideKeys&&n.hideKeys.includes(e),r=e.select("g.legendCells").attr("transform","translate(20,20)").selectAll("g.cell");r.classed("hidden",t),r.append("title").html((e=>e)),a&&r.select("circle, path").style("fill",(e=>t(e)?null:a(e))).style("stroke",(e=>t(e)?null:Ei(a(e))))})),o.attr("class","legend-container").attr("borderbox-on-hover",!0).style("z-index","2").call(i)}}return i.settings=(...e)=>e.length?(n=e[0],i):n,i.scale=(...e)=>e.length?(r=t?t(e[0]):e[0],i):r,i.color=(...e)=>e.length?(a=e[0],i):a,i}function Ji(e,t){let n=t||e.data;return e.hideKeys&&e.hideKeys.length>0?n.map((t=>{let n={...t};return e.hideKeys.forEach((e=>{delete n[e]})),n})):n}function eo(e,t){let n=t||e.data;return e.hideKeys&&e.hideKeys.length>0?n.map((t=>{let n={};return Object.keys(t).map((r=>{e.hideKeys.includes(wi(r))||(n[r]=t[r])})),n})):n}var to=e=>e.style("display","none"),no=(e,t)=>{let n="both",a=!1,i=null,o=null,l=null,c=(0,r.seriesSvgMulti)(),s=(0,r.annotationSvgGridline)(),u=(e=>t=>t.style("stroke-width","1.0").style("stroke",e?e.colorStyles.grid.gridLineColor:"#bbb"))(t),f=to,d=function(...d){a&&(c=(0,r.seriesCanvasMulti)().context(l),s=(0,r.annotationCanvasGridline)(),u=(e=>t=>{t.strokeStyle=e?e.colorStyles.grid.gridLineColor:"#bbb",t.lineWidth=1})(t),f=(e=>t=>{t.lineWidth=1,t.strokeStyle=e?e.colorStyles.grid.gridLineColor:"#bbb"})(t));let h=c.xScale(i).yScale(o),g="vertical"===n?f:u,p="horizontal"===n?f:u,b=s.xDecorate(g).yDecorate(p);return h.series([b,e])(...d)};return d.orient=(...e)=>e.length?(n=e[0],d):n,d.canvas=(...e)=>e.length?(a=e[0],d):a,d.xScale=(...e)=>e.length?(i=e[0],d):i,d.yScale=(...e)=>e.length?(o=e[0],d):o,d.context=(...e)=>e.length?(l=e[0],d):l,d},ro=()=>{let e=Ca(),t=t=>{let n=e.pad(),r=e.padUnit(),a=1;switch(r){case"domain":break;case"percent":a=t[1]-t[0];break;default:throw new Error("Unknown padUnit: "+r)}let i=t[0]-n[0]*a,o=t[1]+n[1]*a;return t[0]=t[0]>=0&&i<0?0:i,t[1]=t[1]<=0&&o>0?0:o,t};return(0,r.rebindAll)(t,e),t},ao=()=>{let e=null,t=null,n=null,r=null,a=null,i=null,o=!1,l=!1,c=()=>{};function s(c){let s=`d3fc-${l?"canvas":"svg"}.plot-area`;if(n||a){let d=r&&r.domain()[0]instanceof Date,h=(0,ze.zoom)().on("zoom",(o=>{let{transform:l}=o;t.zoom={k:l.k,x:l.x,y:l.y},u(l),c.call(e);let g=1===l.k&&0===l.x&&0===l.y,p=f(c).style("display",g?"none":"");p.select("#zoom-reset").on("click",(()=>c.select(s).call(h.transform,ze.zoomIdentity)));let b=p.select("#one-year").style("display",d?"":"none"),_=p.select("#six-months").style("display",d?"":"none"),m=p.select("#one-month").style("display",d?"":"none");if(d){let e=e=>()=>{let t=new Date(n.domain()[0]),o=new Date(t);e(t,o);let l=r.range(),u=(l[1]-l[0])/(r(o)-r(t)),f=-r(t)*u,d=0;if(a){let e=a.domain().reduce(((e,t)=>e+t))/2;d=-i(e)*u+a(e)}c.select(s).call(h.transform,ze.zoomIdentity.translate(f,d).scale(u))};b.on("click",e(((e,t)=>t.setYear(e.getFullYear()+1)))),_.on("click",e(((e,t)=>t.setMonth(e.getMonth()+6)))),m.on("click",e(((e,t)=>t.setMonth(e.getMonth()+1))))}})),g=e.decorate();e.decorate(((e,n)=>{if(g(e,n),!o){o=!0;let n=e.select(s),a=l?window.devicePixelRatio:1;n.on("measure.zoom-range",(e=>{if(r&&r.range([0,e.detail.width/a]),i&&i.range([0,e.detail.height/a]),t.zoom){let e=ze.zoomIdentity.translate(t.zoom.x,t.zoom.y).scale(t.zoom.k);n.call(h.transform,e)}})).call(h)}}))}c.call(e)}s.chart=(...t)=>t.length?(e=t[0],s):e,s.settings=(...e)=>e.length?(t=e[0],s):t,s.xScale=(...e)=>e.length?(n=d(e[0]),r=n?n.copy():null,s):n,s.yScale=(...e)=>{if(!e.length)return a;if(a=d(e[0]),i=a?a.copy():null,i){let e=i.domain();i.domain([e[1],e[0]])}return s},s.canvas=(...e)=>e.length?(l=e[0],s):l,s.onChange=(...e)=>e.length?(c=e[0],s):c;let u=e=>{let t={...e};if(n&&(n.domain(e.rescaleX(r).domain()),t.xDomain=n.domain()),a){let n=e.rescaleY(i).domain();a.domain([n[1],n[0]]),t.yDomain=a.domain()}c(t)},f=e=>ri(e,".zoom-controls",(()=>e.append("div").attr("class","zoom-controls").style("display","none").html('<button id="zoom-reset">Reset zoom</button>\n<button id="one-year">1 Year</button>\n<button id="six-months">6 Months</button>\n<button id="one-month">1 Month</button>\n'))),d=e=>e&&e.nice?e:null;return s};function io(e,t){let n=Ni(t,Ji(t)),a=xi(t),i=Gi().settings(t).scale(a),o=vi(t,a).orient("horizontal"),l=(0,r.seriesSvgMulti)().mapping(((e,t)=>e[t])).series(n.map((()=>o))),c=Ja(t).settingName("mainValues").valueName("mainValue").excludeType(ma).include([0]).paddingStrategy(ro())(n),s=Ja(t).excludeType(ya).settingName("crossValues").valueName("crossValue").orient("vertical")(n),u=ei(c,s).plotArea(no(l,t).orient("horizontal"));u.yPaddingInner&&(u.yPaddingInner(.5),u.yPaddingOuter(.25),o.align("left")),u.xNice&&u.xNice();let f=ao().chart(u).settings(t).yScale(s.scale);e.datum(n).call(f),e.call(i)}io.plugin={name:"X Bar",max_cells:1e3,max_columns:50,render_warning:!0};var oo=io,lo=e=>2===e.length&&!isNaN(e[0])&&!isNaN(e[1])&&e[0]!==e[1],co=e=>(0-e[0])/(e[1]-e[0]),so=(e,t)=>t*e[1]/(t-1),uo=(e,t,n=fo)=>{let a,i,o,l=e.splitMainValues||[],c=e=>{let t=e.split("|");return l.includes(t[t.length-1])},s=e.mainValues.some((e=>c(e.name)));i=s?n(t,(e=>!c(e))):t,o=s?n(t,c):null;let u=t=>{if(1===e.mainValues.length)return;let n=e.mainValues.map(((e,t)=>({index:t,name:e.name}))),i=n.filter((e=>!c(e.name))),o=n.filter((e=>c(e.name))),l=()=>(e=>{let t,n=[],a=!1,i=i=>{i.text("");let l=(0,r.dataJoin)("span","splitter-label").key((e=>e)),c=!a&&1===n.length,s=t&&0===e.splitValues.length;l(i,n).classed("disabled",c).text((e=>e.name)).style("color",(e=>s?Ei(t(e.name)):void 0)).on("click",((t,n)=>{c||(e.splitMainValues=a?e.splitMainValues.filter((e=>e!=n.name)):[n.name].concat(e.splitMainValues||[]),t.target.getRootNode().host.closest("perspective-viewer")?.dispatchEvent(new Event("perspective-config-update")),o(i))}))},o=e=>{let t=qa(e.node());t._container.innerHTML="",t._draw()};return i.labels=(...e)=>e.length?(n=e[0],i):n,i.alt=(...e)=>e.length?(a=e[0],i):a,i.color=(...e)=>e.length?(t=e[0],i):t,i})(e).color(a);t.select(".y-label.left-label").call(l().labels(i)),t.select(".y-label.right-label").call(l().labels(o).alt(!0))};return u.color=(...e)=>e.length?(a=e[0],u):a,u.haveSplit=()=>s,u.data=(...e)=>e.length?(i=e[0],u):i,u.altData=(...e)=>e.length?(o=e[0],u):o,u},fo=(e,t)=>e.map((e=>e.filter((e=>t(e.key))))),ho=(e,t)=>e.map((e=>t(e.key)?e:e.map((e=>Object.assign({},e,{mainValue:null}))))),go=(e,t)=>e.map((e=>ho(e,t)));function po(e,t){let n=Ni(t,Ji(t)),a=xi(t),i=Gi().settings(t).scale(a),o=vi(t,a).orient("vertical"),l=(0,r.seriesSvgMulti)().mapping(((e,t)=>e[t])).series(n.map((()=>o))),c=Ja(t).excludeType(ya).settingName("crossValues").valueName("crossValue")(n),s=Ja(t).settingName("mainValues").valueName("mainValue").excludeType(ma).orient("vertical").include([0]).paddingStrategy(ro()),u=t.mainValues.length>1?go:ho,f=uo(t,n,u).color(a),d=s(f.data()),h=f.haveSplit()?l:no(l,t).orient("vertical"),g=ei(c,d).axisSplitter(f).plotArea(h);g.xPaddingInner&&(g.xPaddingInner(.5),g.xPaddingOuter(.25),o.align("left")),g.yNice&&g.yNice();let p=ao().chart(g).settings(t).xScale(c.scale);if(f.haveSplit()){let e=s(f.altData());((e,t)=>{if(!lo(e)||!lo(t))return;let n=co(e),r=co(t);n>r?t[0]=so(t,n):e[0]=so(e,r)})(d.domain,e.domain),g.yDomain(d.domain).altAxis(e)}e.datum(f.data()).call(p),e.call(i)}po.plugin={name:"Y Bar",max_cells:1e3,max_columns:50,render_warning:!0};var bo=po;function _o(e,t){let n=(0,r.seriesSvgLine)(),a=e.data.length*(e.data?.length>0?Object.keys(e.data[0]).length-(e.crossValues?.length>0?1:0):0),i=Math.max(1,Math.min(3,Math.floor(e.size.width/a/2)));return n=n.decorate((e=>{e.style("stroke",(e=>Ei(t(e[0]&&e[0].key)))).style("stroke-width",i)})),n.crossValue((e=>e.crossValue)).mainValue((e=>e.mainValue))}var mo=function(e){let t=[];for(let n of e)for(let e=0;e<n.length;e++)null!==n[e].mainValue&&(t[e]=t[e]||[],t[e].push(n[e]));return t},vo=(e,t,n=Math.min)=>{let r=e=>e.reduce(((e,r)=>{let i=a(r,t);return!i||e&&n(e.value,i.value)!==i.value?e:i}),null),a=e=>{if(Array.isArray(e))return r(e);let n=t(e);return null!==n?{item:e,value:n}:null},i=r(e);return i?i.item:null},yo=()=>{let e=_i().alwaysShow(!0),t=null,n=null,a=null,i=null,o=!1,l=null,c="crossValue",s="mainValue",u=null,f=1;function d(a){let i=`d3fc-${o?"canvas":"svg"}.plot-area`;if(t||n){let t=null,o=(0,r.pointer)().on("point",(e=>{let r=e.length?g(e[0]):null;t=r?[r.data]:[];let i=r?r.scale:n;h(a,t,i)}));a.select(i).on("measure.nearbyTip",(()=>h(a,[]))).on("click",(()=>{t.length&&bi(a.node(),t[0],e.settings())})).call(o)}}let h=(r,o,l=n)=>{let u=r.select("d3fc-svg.plot-area svg").selectAll("circle.nearbyTip").data(o);u.exit().remove(),u.enter().append("circle").attr("class","nearbyTip").merge(u).attr("r",(e=>i?f*Math.sqrt(i(e.size)):10)).attr("transform",(e=>`translate(${t(e[c])},${l(e[s])})`)).style("stroke","none").style("fill",(e=>a&&e.key&&Mi(a(e.key)))),e(u)},g=e=>{let r=n=>r=>void 0===r[s]||null===r[s]||void 0===r[c]||null===r[c]?null:Math.sqrt(Math.pow(t(r[c])-e.x,2)+Math.pow(n(r[s])-e.y,2)),a=r(n),i=vo(l,a,Math.min);if(u){let e=r(u.yScale),t=vo(u.data,e,Math.min);return a(i)<=e(t)?{data:i,scale:n}:{data:t,scale:u.yScale}}return{data:i,scale:n}};return d.scaleFactor=(...e)=>e.length?(f=e[0],d):f,d.xScale=(...e)=>e.length?(t=e[0],d):t,d.yScale=(...e)=>e.length?(n=e[0],d):n,d.color=(...e)=>e.length?(a=e[0],d):a,d.size=(...e)=>e.length?(i=e[0]?e[0].copy().range([40,4e3]):null,d):i,d.canvas=(...e)=>e.length?(o=e[0],d):o,d.data=(...e)=>e.length?(l=e[0],d):l,d.xValueName=(...e)=>e.length?(c=e[0],d):c,d.yValueName=(...e)=>e.length?(s=e[0],d):s,d.altDataWithScale=(...e)=>e.length?(u=e[0],d):u,(0,r.rebindAll)(d,e),d};function wo(e,t){let n=function(e,t){let n=zi(e);return t.map(((e,t)=>Object.keys(e).filter((e=>"__ROW_PATH__"!==e)).map((r=>({key:r,crossValue:n(e,t),mainValue:e[r],row:e})))))}(t,Ji(t)),a=xi(t),i=Gi().settings(t).scale(a),o=(0,r.seriesSvgRepeat)().series(_o(t,a)).orient("horizontal"),l=ro().pad([.1,.1]).padUnit("percent"),c=Ja(t).excludeType(ya).settingName("crossValues").valueName("crossValue")(n),s=Ja(t).settingName("mainValues").valueName("mainValue").orient("vertical").paddingStrategy(l),u=uo(t,mo(n)).color(a),f=s(u.data()),d=u.haveSplit()?o:no(o,t).orient("vertical"),h=ei(c,f).axisSplitter(u).plotArea(d);h.yNice&&h.yNice();let g=ao().chart(h).settings(t).xScale(c.scale),p=yo().settings(t).xScale(c.scale).yScale(f.scale).color(a).data(n);if(u.haveSplit()){let e=s(u.altData());h.altAxis(e),p.data(u.data()).altDataWithScale({yScale:e.scale,data:u.altData()})}let b=u.data();e.datum(b).call(g),e.call(p),e.call(i)}wo.plugin={name:"Y Line",max_cells:4e3,max_columns:50,render_warning:!0};var xo=wo,So=[Ce.symbolCircle,Ce.symbolCross,Ce.symbolDiamond,Ce.symbolSquare,Ce.symbolStar,Ce.symbolTriangle,Ce.symbolWye];function ko(e){return e.length>1?(0,Me.scaleOrdinal)().domain(e).range(So):null}function Ao(e){let t=e.data&&e.data.length>0?e.data[0]:{},n=[];return Object.keys(t).forEach((e=>{if("__ROW_PATH__"!==e){let t=wi(e);n.includes(t)||n.push(t)}})),ko(n)}function Eo(e,t){let n=mo(function(e,t){let n=e.mainValues.length;return t.map((e=>{let t=Object.keys(e).filter((e=>"__ROW_PATH__"!==e)),r=new Array(t.length/n);for(let a=0;a<t.length/n;a++)r[a]={key:wi(t[a*n]),crossValue:e[t[a*n]],mainValue:e[t[a*n+1]],row:e};return r}))}(t,eo(t))),a=ki(t),i=Ao(t),o=null;a.domain().length>2&&(o=Ki(Ui,Qi).settings(t).scale(i).color(a));let l=(0,r.seriesSvgRepeat)().series(_o(t,a)).orient("horizontal"),c=ro().pad([.1,.1]).padUnit("percent"),s=Ja(t).settingName("mainValues").settingValue(t.mainValues[0].name).valueName("crossValue").paddingStrategy(c),u=Ja(t).settingName("mainValues").settingValue(t.mainValues[1].name).valueName("mainValue").orient("vertical").paddingStrategy(c)(n),f=s(n),d=no(l,t).orient("vertical"),h=ei(f,u).xLabel(t.mainValues[0].name).yLabel(t.mainValues[1].name).plotArea(d);h.xNice&&h.xNice(),h.yNice&&h.yNice();let g=ao().chart(h).settings(t).xScale(f.scale).yScale(u.scale),p=yo().settings(t).xScale(f.scale).yScale(u.scale).color(a).data(n);e.datum(n).call(g),e.call(p),o&&e.call(o)}Eo.plugin={name:"X/Y Line",max_cells:5e4,max_columns:50,render_warning:!0,initial:{type:"number",count:2,names:["X Axis","Y Axis","Tooltip"]},selectMode:"toggle"};var Mo=Eo;function Vo(e,t){let n=function(e,t){let n=zi(e);return t.map(((e,t)=>{let r={};return Object.keys(e).filter((e=>"__ROW_PATH__"!==e)).map((a=>{let i=a.split("|"),o=i[i.length-1],l=r[o]||0,c=l+e[a];return r[o]=c,{key:a,crossValue:n(e,t),mainValue:c,baseValue:l,row:e}}))}))}(t,Ji(t)),a=xi(t),i=Gi().settings(t).scale(a),o=(0,r.seriesSvgRepeat)().series(function(e,t){let n=(0,r.seriesSvgArea)();return n=n.decorate((e=>{e.style("fill",(e=>t(e[0].key))).style("opacity",.5)})),n.crossValue((e=>e.crossValue)).mainValue((e=>e.mainValue)).baseValue((e=>e.baseValue))}(0,a).orient("vertical")),l=(0,r.seriesSvgRepeat)().series(_o(t,a)).orient("vertical"),c=(0,r.seriesSvgMulti)().series([o,l]),s=Ja(t).excludeType(ya).settingName("crossValues").valueName("crossValue")(n),u=Ja(t).settingName("mainValues").valueName("mainValue").excludeType(ma).orient("vertical").include([0]).paddingStrategy(ro()),f=uo(t,n).color(a),d=u(f.data()),h=f.haveSplit()?c:no(c,t).orient("vertical"),g=ei(s,d).axisSplitter(f).plotArea(h);g.yNice&&g.yNice();let p=ao().chart(g).settings(t).xScale(s.scale),b=yo().settings(t).xScale(s.scale).yScale(d.scale).color(a).data(n);if(f.haveSplit()){let e=u(f.altData());g.altAxis(e),b.data(f.data()).altDataWithScale({yScale:e.scale,data:f.altData()})}e.datum(f.data()).call(p),e.call(b),e.call(i)}Vo.plugin={name:"Y Area",max_cells:4e3,max_columns:50,render_warning:!0};var Co=Vo;function zo(e,t){let n=function(e,t){let n={stack:!1},r=Ti(e,t,n).map((t=>Pi(e,t,n)));return e.mainValues.length>1?r.reduce(((e,t)=>e.concat(t))):r}(t,Ji(t)),a=function(e){let t=e.data&&e.data.length>0?e.data[0]:{};return ko(Object.keys(t).filter((e=>"__ROW_PATH__"!==e)))}(t),i=xi(t),o=Xi().settings(t).scale(a).color(i),l=(0,r.seriesSvgMulti)().mapping(((e,t)=>e[t])).series(n.map((e=>function(e,t,n,a){let i=(0,r.seriesSvgPoint)().size(100),o=e.colorStyles&&e.colorStyles.opacity;return a&&i.type(a(t)),i.decorate((e=>{e.style("stroke",(e=>Ei(n(e.colorValue||t)))).style("fill",(e=>Mi(n(e.colorValue||t),o)))})),i.crossValue((e=>e.crossValue)).mainValue((e=>e.mainValue))}(t,e.key,i,a)))),c=ro().pad([.05,.05]).padUnit("percent"),s=Ja(t).excludeType(ya).settingName("crossValues").valueName("crossValue")(n),u=Ja(t).settingName("mainValues").valueName("mainValue").orient("vertical").paddingStrategy(c),f=uo(t,n).color(i),d=u(f.data()),h=f.haveSplit()?l:no(l,t).orient("vertical"),g=ei(s,d).axisSplitter(f).plotArea(h);g.yNice&&g.yNice();let p=ao().chart(g).settings(t).xScale(s.scale),b=yo().settings(t).xScale(s.scale).yScale(d.scale).color(i).data(n);if(f.haveSplit()){let e=u(f.altData());g.altAxis(e),b.data(f.data()).altDataWithScale({yScale:e.scale,data:f.altData()})}e.datum(f.data()).call(p),e.call(b),o&&e.call(o)}zo.plugin={name:"Y Scatter",max_cells:4e3,max_columns:50,render_warning:!0};var To=zo;function No(e,t){return Ti(e,t,{excludeEmpty:!0}).map((t=>function(e,t){let n=zi(e),r=t.map(((r,a)=>({crossValue:n(r,a),mainValues:e.mainValues.map((e=>r[e.name])),x:r[e.mainValues[0].name],y:r[e.mainValues[1].name],colorValue:e.realValues[2]?r[e.realValues[2]]:void 0,size:e.realValues[3]?r[e.realValues[3]]:void 0,key:t.key,row:r})));return r.key=t.key,r}(e,t)))}function Po(e,t,n,r){let a=Oo(t,n,r),i=e.colorStyles.gradient.full;if(a[0]>=0)i=e.colorStyles.gradient.positive;else if(a[1]<=0)i=e.colorStyles.gradient.negative;else{let e=Math.max(-a[0],a[1]);a=[-e,e]}let o=Do(i);return(0,Me.scaleSequential)(o).domain(a)}var Oo=(e,t,n)=>n||Pa().valueName(t).pad([0,0])(e),Do=e=>{let t=e.slice(1).map(((t,n)=>Ee(e[n][1],t[1])));return n=>{let r=e.findIndex(((t,r)=>r<e.length-1&&n<=e[r+1][0]&&n>t[0]));if(-1===r)return n<=e[0][0]?e[0][1]:e[e.length-1][1];let a=t[r],[i]=e[r],[o]=e[r+1];return a((n-i)/(o-i))}};function Lo(){let e=null;function t(t){let n=ri(t,"div.legend-container",(()=>t.append("div").attr("class","legend-container legend-color").style("z-index","2"))),{width:a,height:i}=n.node().getBoundingClientRect(),o=(0,Me.scaleBand)().domain([0,1]).range([0,a]),l=e.copy().nice().domain(),c=(0,r.extentLinear)().pad([.1,.1]).padUnit("percent")(l),[s,u]=c,f=function(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=0|Math.max(0,Math.ceil((t-e)/n)),i=new Array(a);++r<a;)i[r]=e+r*n;return i}(s,u,(u-s)/i),d=(0,Me.scaleLinear)().domain(c).range([i,0]),h=(0,r.autoBandwidth)((0,r.seriesSvgBar)()).xScale(o).yScale(d).crossValue(0).baseValue(((e,t)=>f[Math.max(0,t-1)])).mainValue((e=>e)).decorate((t=>{t.selectAll("path").style("fill",(t=>e(t)))})),g=l[0]<0&&l[1]>0?0:Math.round((l[1]+l[0])/2),p=[...l,g],b=(0,r.axisRight)(d).tickValues(p).tickSizeOuter(0).tickFormat((e=>Ta(e))),_=ri(n,"svg",(()=>n.append("svg"))).style("width",a).style("height",i),m=ri(_,"g",(()=>_.append("g"))).datum(f).call(h),v=Math.abs(m.node().getBBox().x);ri(_,"#legend-axis",(()=>_.append("g").attr("id","legend-axis"))).attr("transform",`translate(${v})`).datum(f).call(b).select(".domain").attr("visibility","hidden")}return t.scale=(...n)=>n.length?(e=n[0],t):e,t}function Io(e,t){let n=No(t,eo(t)),a=Ao(t),i=t.realValues.length<=2||null===t.realValues[2],o=null,l=null;i?(o=ki(t),l=Xi().settings(t).scale(a).color(i?o:null)):(o=Po(t,n,"colorValue"),l=Lo().scale(o));let c=t.realValues[3]?function(e,t,n,r){return(0,Me.scaleLinear)().domain(Oo(t,n,r))}(0,n,"size").range([10,1e4]):null,s=function([e,t],[n,r]){let a=(r-t)/(n-e),i=r-a*n;return function(e){let n=e.node(),o=Math.min(n.clientWidth,n.clientHeight);return Math.min(r,Math.max(t,a*o+i))}}([600,.1],[1600,1])(e),u=(0,r.seriesCanvasMulti)().mapping(((e,t)=>e[t])).series(n.map((e=>function(e,t,n,a,i,o=1){let l=(0,r.seriesCanvasPoint)().crossValue((e=>e.x)).mainValue((e=>e.y));return n&&l.size((e=>Math.round(o*n(e.size)))),i&&l.type(i(t)),l.decorate(((n,r)=>{let i=a(void 0!==r.colorValue?r.colorValue:t),o=e.colorStyles&&e.colorStyles.opacity;n.strokeStyle=Ei(i),n.fillStyle=Mi(i,o)})),l}(t,e.key,c,o,a,s)))),f=()=>Ja(t).settingName("mainValues").paddingStrategy(ro()).pad([.1,.1]),d=f().settingValue(t.mainValues[0].name).valueName("x")(n),h=f().orient("vertical").settingValue(t.mainValues[1].name).valueName("y")(n),g=ti(d,h).xLabel(t.mainValues[0].name).yLabel(t.mainValues[1].name).plotArea(no(u,t).canvas(!0));g.xNice&&g.xNice(),g.yNice&&g.yNice();let p=ao().chart(g).settings(t).xScale(d.scale).yScale(h.scale).canvas(!0),b=yo().scaleFactor(s).settings(t).canvas(!0).xScale(d.scale).xValueName("x").yValueName("y").yScale(h.scale).color(i&&o).size(c).data(n);e.datum(n).call(p),e.call(b),l&&e.call(l)}Io.plugin={name:"X/Y Scatter",max_cells:5e4,max_columns:50,render_warning:!0,initial:{type:"number",count:2,names:["X Axis","Y Axis","Color","Size","Tooltip"]},selectMode:"toggle"};var Ro=Io;function Bo(e,t){let n=function(e,t){let n=zi(e),r=wa(e).excludeType(ya).settingName("splitValues")(),a=[];return t.forEach(((e,t)=>{let i=n(e,t);Object.keys(e).filter((e=>"__ROW_PATH__"!==e)).forEach((t=>{let n=function(e){let t=e.split("|");return t.pop(),t.join("|")}(t);a.push({crossValue:i,mainValue:r===va?new Date(n):n,colorValue:e[t],row:e})}))})),a}(t,Ji(t)),a=Po(t,n,"colorValue"),i=function(e,t){let n=(0,r.seriesCanvasHeatmap)();return n.decorate(((e,n)=>{e.fillStyle=t(n.colorValue)})),(0,r.autoBandwidth)(n).xValue((e=>e.crossValue)).yValue((e=>e.mainValue)).colorValue((e=>e.colorValue)).colorInterpolate(t.interpolator()).widthFraction(1)}(0,a),o=Lo().scale(a),l=Ja(t).excludeType(ya).settingName("crossValues").valueName("crossValue")(n),c=Ja(t).excludeType(ya).settingName("splitValues").valueName("mainValue").orient("vertical")(n),s=ti(l,c).plotArea(no(i,t).canvas(!0));s.xPaddingInner&&(s.xPaddingInner(0),s.xPaddingOuter(0),i.xAlign("right")),s.yPaddingInner&&(s.yPaddingInner(0),s.yPaddingOuter(0),i.yAlign("top"));let u=ao().chart(s).settings(t).xScale(l.scale).yScale(c.scale).canvas(!0),f=yo().settings(t).canvas(!0).xScale(l.scale).yScale(c.scale).color(a).data(n);e.datum(n).call(u),e.call(o),e.call(f)}Bo.plugin={name:"Heatmap",max_cells:5e4,max_columns:500,render_warning:!0};var jo=Bo;function Zo(e,t){return Ti(e,t,{excludeEmpty:!0}).map((t=>function(e,t){let n=zi(e),r=n=>t[n<t.length-1?n+1:n][e.mainValues[0].name],a=t.map(((a,i)=>{let o=e.mainValues.length>=1?a[e.mainValues[0].name]:void 0,l=e.mainValues.length>=2?a[e.mainValues[1].name]:r(i);return{crossValue:n(a,i),mainValues:e.mainValues.map((e=>a[e.name])),openValue:o,closeValue:l,highValue:e.mainValues.length>=3?a[e.mainValues[2].name]:Math.max(o,l),lowValue:e.mainValues.length>=4?a[e.mainValues[3].name]:Math.min(o,l),key:t.key,row:a}}));return a.key=t.key,a}(e,t)))}var Ho=function(e){return function(t,n){let a=Zo(n,eo(n)),i=(0,r.indicatorBollingerBands)().value((e=>e.openValue)),o=a.map((e=>{let t=i(e);return e.map(((e,n)=>Object.assign({bollinger:t[n]},e)))})),l=a.map((e=>e.key)).concat(n.hideKeys?n.hideKeys:[]).sort(),c=Ai().domain(l).settings(n).mapFunction(Vi(1))(),s=Gi().settings(n).scale(l.length>1?c:null),u=function(e,t,n){let a=n.domain(),i=Ai().domain(a).settings(e).defaultColors([e.colorStyles["series-2"]]).mapFunction(Vi(.5))(),o=Ai().settings(e).domain(a)(),l=t().crossValue((e=>e.crossValue)).openValue((e=>e.openValue)).highValue((e=>e.highValue)).lowValue((e=>e.lowValue)).closeValue((e=>e.closeValue)).decorate(((e,t)=>{let r=(e=>e.closeValue>=e.openValue)(t)?n(t.key):i(t.key);e.fillStyle=r,e.strokeStyle=r})),c=(0,r.seriesCanvasLine)().mainValue((e=>e.bollinger.average)).crossValue((e=>e.crossValue)).decorate(((e,t)=>{e.strokeStyle=o(t[0].key)})),s=(0,r.seriesCanvasArea)().mainValue((e=>e.bollinger.upper)).baseValue((e=>e.bollinger.lower)).crossValue((e=>e.crossValue)).decorate(((e,t)=>{e.fillStyle=Vi(.25)(o(t[0].key))}));return(0,r.seriesCanvasMulti)().series([s,l,c])}(n,e,c),f=(0,r.seriesCanvasMulti)().mapping(((e,t)=>e[t])).series(o.map((()=>u))),d=ro().pad([.1,.1]).padUnit("percent"),h=Ja(n).settingName("crossValues").valueName("crossValue")(o),g=Ja(n).settingName("mainValues").valueNames(["lowValue","highValue"]).orient("vertical").paddingStrategy(d)(o),p=ti(h,g).plotArea(no(f,n).orient("vertical").canvas(!0));p.yNice&&p.yNice();let b=ao().chart(p).settings(n).xScale(h.scale).onChange((e=>{let t=o.map((t=>t.filter((t=>t.crossValue>=e.xDomain[0]&&t.crossValue<=e.xDomain[1]))));p.yDomain(g.domainFunction(t))})).canvas(!0),_=yo().settings(n).xScale(h.scale).yScale(g.scale).yValueName("closeValue").color(c).data(o).canvas(!0);t.datum(o).call(b),t.call(_),t.call(s)}},Fo=Ho(r.seriesCanvasOhlc);Fo.plugin={name:"OHLC",max_cells:3500,max_columns:50,render_warning:!0,initial:{type:"number",count:4,names:["Open","Close","High","Low"]},selectMode:"toggle"};var Wo=Fo,Yo=Ho(r.seriesCanvasCandlestick);Yo.plugin={name:"Candlestick",max_cells:4e3,max_columns:50,render_warning:!0,initial:{type:"number",count:4,names:["Open","Close","High","Low"]},selectMode:"toggle"};var qo=Yo;function Uo(e,t){if(e.realValues.length>1&&null!==e.realValues[1]){let n=e.realValues[1];if("string"===e.mainValues.find((e=>e.name===n))?.type){return Si(e,t.map((e=>e.data)).filter((e=>e.height>0)).map((e=>$o(e))).reduce(((e,t)=>e.concat(t))))}return Po(e,null,null,(e=>{let t=e=>(t,n)=>void 0===t?n:void 0===n?t:e(t,n);return e.reduce(((e,n)=>[t(Math.min)(e[0],n[0]),t(Math.max)(e[1],n[1])]),[void 0,void 0])})(t.map((e=>e.extents))))}}function $o(e,t=[]){return e.children&&e.children.length>0?e.children.forEach((e=>t.concat($o(e,t)))):e.data.color&&t.push(e.data.color),t}function Go(e){let t={},n=e.realValues.map((t=>null===t?null:e.mainValues.find((e=>e.name===t))));return e.data.forEach(((r,a)=>{let i=r.__ROW_PATH__;(function(e){let t=[];return Object.keys(e).forEach((e=>{if("__ROW_PATH__"!==e){let n=e.split("|").slice(0,-1).join("|");t.includes(n)||t.push(n)}})),t})(r).forEach((o=>{let l;t[o]||(t[o]=[]),l=t[o],i.forEach(((t,c)=>{let s=l.find((e=>e.name===t));if(s||(s={name:t,children:[]},l.push(s)),e.realValues.length>1&&null!==e.realValues[1]){let t=c===i.length-1,n=Xo(t?r:e.agg_paths[a][c+1]||r,e.mainValues[1],o);void 0!==n&&(s.color=n)}if(e.realValues.length>2&&null!==e.realValues[2]){s.tooltip=[];for(let t=2;t<e.realValues.length;++t)s.tooltip.push(Xo(r,n[t],o))}if(c===i.length-1&&(s.name=i.slice(-1)[0],i.length===e.crossValues.length)){let t=Xo(r,e.mainValues[0],o);s.size=t>0?t:0}l=s.children}))}))})),Object.entries(t).map((t=>{let n={name:"root",children:t[1]},r=(0,le.ZP)(n).sum((e=>e.size)),a=(0,ce.Z)().size([2*Math.PI,r.height+1])(r);return a.each((n=>{n.current=n,n.mainValues=1===e.realValues.length||null===e.realValues[1]&&null===e.realValues[2]?n.value:[n.value,n.data.color].concat(n.data.tooltip||[]).filter((e=>void 0!==e)),n.crossValue=n.ancestors().slice(0,-1).reverse().map((e=>e.data.name)),n.key=t[0],n.label=ci(e.crossValues[n.depth-1<0?0:n.depth-1].type,n.data.name)})),{split:t[0],data:a,extents:Qo(e,t)}}))}var Xo=(e,t,n)=>n.length?e[`${n}|${t.name}`]:e[t.name];function Qo(e,[t,n]){if(e.realValues.length>1&&null!==e.realValues[1]){return[Math.min(...e.data.map((n=>Xo(n,e.mainValues[1],t)))),Math.max(...n.map((e=>e.color)))]}}var Ko=e=>(0,Ce.arc)().startAngle((e=>e.x0)).endAngle((e=>e.x1)).padAngle((e=>Math.min((e.x1-e.x0)/2,.005))).padRadius(e).innerRadius((t=>Math.max(1,(t.y0-1)*e))).outerRadius((t=>Math.max((t.y0-1)*e,(t.y1-1)*e-1))),Jo=e=>e.y0>=1&&e.x1>e.x0,el=e=>e.y1<=3&&e.y0>=1&&(e.y1-e.y0)*(e.x1-e.x0)>.06;function tl(e,t){let n=(e.x0+e.x1)/2*180/Math.PI;return`rotate(${n-90}) translate(${(e.y0-1+(e.y1-1))/2*t},0) rotate(${n<180?0:180})`}function nl(e,t){let n=this.getBBox().width;if(n>t){let r=e.label,a=(0,Ve.select)(this);for(;n>t;)r=r.substring(0,r.length-1),a.text((()=>r)),n=this.getBBox().width;a.text((()=>`${r.substring(0,r.length-3).replace(/\s+$/,"")}...`))}}var rl=(e,t,n,r,a,i,o,l,c)=>(s,u)=>{c.sunburstLevel[l]=s.data.name,s.parent?(n.datum(s.parent),n.style("cursor","pointer"),r.html(`&#8682; ${s.label}`)):(n.datum(e),n.style("cursor","default"),r.html("")),e.each((e=>e.target={x0:2*Math.max(0,Math.min(1,(e.x0-s.x0)/(s.x1-s.x0)))*Math.PI,x1:2*Math.max(0,Math.min(1,(e.x1-s.x0)/(s.x1-s.x0)))*Math.PI,y0:Math.max(0,e.y0-s.depth),y1:Math.max(0,e.y1-s.depth)}));let f=t.transition().duration(u?0:750);a.transition(f).tween("data",(e=>{let t=Ee(e.current,e.target);return n=>e.current=t(n)})).filter((function(e){return+this.getAttribute("fill-opacity")||Jo(e.target)})).attr("fill-opacity",(e=>Jo(e.target)?1:0)).attr("user-select",(e=>Jo(e.target)?"initial":"none")).style("pointer-events",(e=>Jo(e.target)?"initial":"none")).attrTween("d",(e=>()=>Ko(o)(e.current))),i.filter((function(e){return+this.getAttribute("fill-opacity")||el(e.target)})).transition(f).attr("fill-opacity",(e=>+el(e.target))).attrTween("transform",(e=>()=>tl(e.current,o)))};function al(){let e=null,t=null,n=null,r=null,a=null,i=i=>{let o=i.selectAll("g.segment").data(n.descendants().slice(1)),l=o.enter().append("g").attr("class","segment");l.append("path"),l.append("text").attr("class","segment").attr("dy","0.35em");let c=l.merge(o),s=c.select("path").attr("fill-opacity",(e=>Jo(e.current)?1:0)).attr("user-select",(e=>Jo(e.current)?"initial":"none")).style("pointer-events",(e=>Jo(e.current)?"initial":"none")).attr("d",(e=>Ko(a)(e.current)));r&&s.style("fill",(e=>r(e.data.color)));let u=c.select("text").attr("fill-opacity",(e=>+el(e.current))).attr("transform",(e=>tl(e.current,a))).text((e=>e.label)).each((function(e){nl.call(this,e,a)})),f=i.select("text.parent"),d=i.select("circle").attr("r",a).datum(n),h=rl(n,i,d,f,s,u,a,t,e);if(e.sunburstLevel){let r=n.descendants().find((n=>n.data.name===e.sunburstLevel[t]));r&&h(r,!0)}else e.sunburstLevel={};d.on("click",(e=>h(e,!1))),s.filter((e=>e.children)).style("cursor","pointer").on("click",(e=>h(e,!1)))};return i.settings=(...t)=>t.length?(e=t[0],i):e,i.split=(...e)=>e.length?(t=e[0],i):t,i.data=(...e)=>e.length?(n=e[0],i):n,i.color=(...e)=>e.length?(r=e[0],i):r,i.radius=(...e)=>e.length?(a=e[0],i):a,i}function il(){let e="element-prefix-unset",t=null,n=null,r=null,a=null,i=null,o=o=>{let l=ri(o,"div.inner-container",(()=>o.append("div").attr("class","inner-container"))),c=l.node().getBoundingClientRect(),s=c.height,u=c.width-0,f=o.datum(),d=Math.max(1,Math.min(f.length,Math.floor(u/300))),h=Math.ceil(f.length/d);i={width:u/Math.max(d,1),height:Math.min(s,Math.max(s/h,u/Math.max(d,1)))},s/h>.75*i.height&&(i.height=s/h),f.length>1?(l.style("grid-template-columns",`repeat(${d}, ${100/d}%)`),l.style("grid-template-rows",`repeat(${h}, ${i.height}px)`)):(l.style("grid-template-columns","repeat(1, 100%)"),l.style("grid-template-rows","repeat(1, 100%)")),r=l.selectAll(`div.${e}-container`).data(f,(e=>e.split)),r.exit().remove(),n=r.enter().append("div").attr("class",`${e}-container`),a=n.append("div").attr("class","title-container").style("text-align","center").attr("display","inline-block").append("text").attr("class","title").style("text-align","left"),t=n.append("svg").append("g").attr("class",e)};return o.elementsPrefix=(...t)=>t.length?(e=t[0],o):e,o.chartContainer=()=>t,o.chartEnter=()=>n,o.chartDiv=()=>r,o.chartTitle=()=>a,o.containerSize=()=>i,o}function ol(e,t){if(0===t.crossValues.length)return void console.warn("Unable to render a chart in the absence of any groups.");let n=Go(t),r=Uo(t,n),a=il().elementsPrefix("sunburst");if(e.datum(n).call(a),r){let n=t.realValues[1];if("string"===t.mainValues.find((e=>e.name===n))?.type){let n=Gi().settings(t).scale(r);e.call(n)}else{let t=Lo().scale(r);e.call(t)}}let i=a.chartContainer(),o=a.chartEnter(),l=a.chartDiv(),c=a.chartTitle(),s=a.containerSize();c.each(((e,t,n)=>(0,Ve.select)(n[t]).text(e.split))),i.append("circle").attr("fill","none").style("pointer-events","all"),i.append("text").attr("class","parent"),o.merge(l).select("svg").select("g.sunburst").attr("transform",`translate(${s.width/2}, ${s.height/2})`).each((function({split:e,data:n}){let a=(0,Ve.select)(this),i=this.parentNode,{width:o,height:l}=i.getBoundingClientRect(),c=(Math.min(o,l)-24)/(2*t.crossValues.length);al().settings(t).split(e).data(n).color(r).radius(c)(a),_i().settings(t)(a.selectAll("g.segment"))}))}ol.plugin={name:"Sunburst",max_cells:7500,max_columns:50,render_warning:!0,initial:{type:"number",count:1,names:["Size","Color","Tooltip"]}};var ll=ol;function cl(e,t){if(e.realValues.length<1||null===e.realValues[1]||void 0===e.realValues[1])return;let n=e.realValues[1],r=t.filter((e=>e.height>0)).map((e=>sl(e))).reduce(((e,t)=>e.concat(t)));if("string"===e.mainValues.find((e=>e.name===n))?.type)return Si(e,r);return Po(e,null,null,[Math.min(...r),Math.max(...r)])}function sl(e,t=[]){return e.children&&e.children.length>0?e.children.forEach((e=>t.concat(sl(e,t)))):e.data.color&&t.push(e.data.color),t}var ul=e=>!(!e.target||!e.target.textAttributes),fl=(e,t,n)=>{e.selectAll("text").each((function(e,r){let a=yl(e,t,n);this.style=a}));let r=gl(e);bl(r),dl(r)},dl=e=>{let t=e=>e.getBoundingClientRect(),n=[];e.selectAll("text").filter(((e,t,n)=>(0,Ve.select)(n[t]).attr("style")===wl.high)).each(((e,t,r)=>n.push(r[t]))),e.selectAll("text").filter(((e,t,n)=>(0,Ve.select)(n[t]).attr("style")===wl.low)).each(((e,r,a)=>{let i=a[r];n.filter((e=>ii("x",t(e),t(i))&&ii("y",t(e),t(i),-2))).forEach((()=>(0,Ve.select)(i).attr("dy",Number((0,Ve.select)(i).attr("dy"))+14)))}))},hl={top:1,mid:.7,lower:0},gl=e=>e.filter(((e,t,n)=>(0,Ve.select)(n[t]).selectAll("text").attr("style")!==wl.zero)),pl=e=>e.selectAll("text").each(((e,t,n)=>ml(n[t]))),bl=e=>e.selectAll("text").each(((e,t,n)=>_l(n[t]))),_l=e=>{let t=(0,Ve.select)(e),n=e.getBoundingClientRect();t.attr("dx",0-n.width/2).attr("dy",0+n.height/4)},ml=e=>{let t=e.parentNode.childNodes[0],n=e.getBBox(),r=t.getBBox();vl(e,r,n)||(0,Ve.select)(e).attr("style",(0,Ve.select)(e).attr("style"))},vl=(e,t,n)=>{let r=Math.min(t.height/n.height,t.width/n.width);if(r<1){let t=parseInt((0,Ve.select)(e).style("font-size")),n=Math.floor(t*r);return t>7&&n>7?((0,Ve.select)(e).style("font-size",`${n}px`),_l(e)):((0,Ve.select)(e).style("font-size",null),(0,Ve.select)(e).style("opacity","0")),!0}return!1},yl=(e,t,n)=>{if(!n.filter((e=>""!==e)).every((t=>e.crossValue.includes(t))))return wl.zero;switch(e.depth){case t+1:return wl.high;case t+2:return wl.low;default:return wl.zero}},wl={high:"font-size:14px;z-index:5;pointer-events: none;",low:"font-size:8px;opacity:0.7;z-index:4;",zero:"font-size:0px;opacity:0;z-index:4;"},xl=(e,t)=>{let n=(0,se.Z)().size([e,t]).paddingInner((e=>1+2*(e.height-1)));return n.tile(ue.Z),n};function Sl(e,t,n,r,a,i){(function(e,t,n,r,a){let i={x:e.x0,y:e.y0,width:e.x1-e.x0,height:e.y1-e.y0},o={width:a.x1-a.x0,height:a.y1-a.y0},l={width:o.width/i.width,height:o.height/i.height};n.each((e=>{let n=(e.x0-i.x)*l.width,a=(e.y0-i.y)*l.height,o=Dl(e)*l.width,c=Ll(e)*l.height,s=((e,t)=>t.every((t=>e.crossValue.includes(t))))(e,t)&&e.data.name!==t[r-1];e.mapLevel[r]={x0:n,x1:o+n,y0:a,y1:c+a,visible:s,opacity:s?1:0}})),e.mapLevel[r].levelRoot=!0})(e,t,n,r,a),e.mapLevel[r].levelRoot=!0,function(e,t,n,r){let a=xl(t,n)((0,le.ZP)(e.data).sum((e=>e.size))).descendants(),i=e.descendants();a.forEach(((e,t)=>{i[t].mapLevel[r].x0=a[t].x0,i[t].mapLevel[r].x1=a[t].x1,i[t].mapLevel[r].y0=a[t].y0,i[t].mapLevel[r].y1=a[t].y1}))}(e,i.node().getBoundingClientRect().width,i.node().getBoundingClientRect().height,r),Al(n,r)}var kl=(e,t)=>{e.each(((e,n,r)=>{let a=(0,Ve.select)(r[n]).selectAll("text");e.mapLevel[t].textAttributes={dx:a.attr("dx"),dy:a.attr("dy"),class:a.attr("class"),"font-size":a.style("font-size")}}))};function Al(e,t){e.selectAll("text").each(((e,n,r)=>{let a=(0,Ve.select)(r[n]),i=(0,Ve.select)(r[n]).datum(),o=a.attr("class");i.mapLevel[t].textLockedAt={opacity:hl[o]}}))}function El(e,t,n,r,a,i,o,l,c,s){if(!e.children)return;a.treemapLevel<e.depth?a.treemapRoute.push(e.crossValue):a.treemapRoute.pop(),a.treemapLevel=e.depth;let u=e.crossValue;(!e.mapLevel[a.treemapLevel]||!e.mapLevel[a.treemapLevel].levelRoot)&&Sl(e,u,n,a.treemapLevel,l,i),Ml(e,t,n,r,a,i,o,l,a.treemapLevel,u,c,s)}function Ml(e,t,n,r,a,i,o,l,c,s,u,f,d=500,h=!0){let g=e.parent,p=o.transition("main transition").duration(d).ease(U._e);n.each((e=>e.target=e.mapLevel[c])),ul(e)||zl(n,u),n.transition(p).tween("data",(e=>{let t=Ee(e.current,e.target);return n=>e.current=t(n)})).styleTween("opacity",(e=>()=>e.current.opacity)).attrTween("pointer-events",(e=>()=>e.target.visible?"all":"none")),t.transition(p).filter((e=>e.target.visible)).styleTween("x",(e=>()=>`${e.current.x0}px`)).styleTween("y",(e=>()=>`${e.current.y0}px`)).styleTween("width",(e=>()=>e.current.x1-e.current.x0+"px")).styleTween("height",(e=>()=>e.current.y1-e.current.y0+"px")),r.transition(p).filter((e=>e.target.visible)).attrTween("x",(e=>()=>e.current.x0+Dl(e.current)/2)).attrTween("y",(e=>()=>e.current.y0+Ll(e.current)/2)).end().catch((()=>Tl(n))).then((()=>{ul(e)||(dl(b),pl(b),async function(e,t,n=400){let r=t.transition("text fade transition").duration(n).ease(U._e);await e.transition(r).filter((e=>e.target.visible)).tween("data",((e,t,n)=>{let r=n[t],a=Ee(Vl(e),Cl(r));return t=>e.current.opacity=a(t)})).styleTween("opacity",(e=>()=>e.current.opacity)).end().catch((e=>console.error("Exception in text fade transition",e))).then((()=>e.each(((e,t,n)=>(e=>(0,Ve.select)(e).style("opacity",null))(n[t])))))}(r,o,d),h&&kl(n,c),Tl(n,u,g))})).catch((e=>{console.error("Exception completing promises after main transition",e),Tl(n,u,g)})),ul(e)?(e=>{e.each(((e,t,n)=>{(0,Ve.select)(n[t]).selectAll("text").attr("dx",e.target.textAttributes.dx).attr("dy",e.target.textAttributes.dy).attr("style",e.target.textAttributes.style)}))})(n):(r.each(((e,t,n)=>(e=>(0,Ve.select)(e).style("opacity",hl[(0,Ve.select)(e).attr("class")]))(n[t]))),fl(n,c,s));let b=gl(n);g?u.hide(!1).text(e.label).onClick((()=>{El(g,t,n,r,a,i,o,l,u,f);let e=i.node().getRootNode().host.parentElement;bi(e,g,f)}))():u.hide(!0)()}var Vl=e=>e.target.textLockedAt.opacity,Cl=e=>hl[(0,Ve.select)(e).attr("class")],zl=(e,t)=>{t.deactivate(!0),e.each(((e,t,n)=>{(0,Ve.select)(n[t]).selectAll("rect").style("pointer-events","none")}))},Tl=(e,t)=>{t&&t.deactivate(!1),e.each(((e,t,n)=>{(0,Ve.select)(n[t]).selectAll("rect").style("pointer-events",null)}))};var Nl="leafnode",Pl="branchnode",Ol="rootnode",Dl=e=>e.x1-e.x0,Ll=e=>e.y1-e.y0,Il=(e,t)=>0===t.depth?Ol:((e,t)=>t.depth===e)(e,t)?Nl:Pl;function Rl(){let e=null,t=null,n=null,r=null,a=null,i=null,o=o=>{i=function(e){let t=null,n=null,r=!0,a=!1,i=ri(e,".parent-controls",(()=>e.append("div").attr("class","parent-controls").style("display",r?"none":"").html('<button id="goto-parent">Goto parent</button>\n'))),o=()=>{i.style("display",r?"none":"").select("#goto-parent").style("pointer-events",a?"none":null).html(`⇪ ${n}`).on("click",(()=>t()))};return o.deactivate=(...e)=>{if(!e.length)return a;a=e[0];let t=i.select("#goto-parent");return a?t.style("pointer-events","none"):t.style("pointer-events",null),o},o.hide=(...e)=>e.length?(r=e[0],o):r,o.text=(...e)=>e.length?(n=e[0],o):n,o.onClick=(...e)=>e.length?(t=e[0],o):t,o}(a),i();let l=n.height;e.treemapLevel||(e.treemapLevel=0),e.treemapRoute||(e.treemapRoute=[]),xl(a.node().getBoundingClientRect().width,a.node().getBoundingClientRect().height)(n);let c=o.selectAll("g").data(n.descendants()),s=c.enter().append("g");s.append("rect"),s.append("text");let u=s.merge(c).sort(((e,t)=>t.depth-e.depth)),f=u.select("rect").attr("class",(e=>`treerect ${Il(l,e)}`)).style("x",(e=>e.x0)).style("y",(e=>e.y0)).style("width",(e=>Dl(e))).style("height",(e=>Ll(e)));f.style("fill",(e=>Il(l,e)===Nl?e.data.color?r(e.data.color):t.colorStyles.series:"transparent"));let d=u.filter((e=>0!==e.value)).select("text").attr("x",(e=>e.x0+Dl(e)/2)).attr("y",(e=>e.y0+Ll(e)/2)).text((e=>e.label)),h=f.filter((e=>0===e.crossValue.length)).datum();(function(e,t){e.each((e=>{e.mapLevel=[],e.mapLevel[0]={x0:e.x0,x1:Dl(e)+e.x0,y0:e.y0,y1:Ll(e)+e.y0,visible:!0,opacity:1}})),t.mapLevel[0].levelRoot=!0,Al(e,0)})(u,h),fl(u,0,[]),pl(gl(u)),kl(u,0),0===e.treemapRoute.length&&e.treemapRoute.push(h.crossValue),f.filter((e=>e.children)).on("click",((n,r)=>El(r,f,u,d,e,a,o,h,i,t))),function(e,t,n,r,a,i,o,l,c){if(r.treemapLevel>0){let s=o.crossValue;Ml(o,e,t,n,r,a,i,o,0,s,l,c,1,!1),r.treemapRoute.slice(1,r.treemapRoute.length).forEach((s=>{let u=t.filter((e=>e.crossValue===s)).datum(),f=u.crossValue;Sl(u,f,t,u.depth,o,a),Ml(u,e,t,n,r,a,i,o,u.depth,f,l,c,1,!1)}))}}(f,u,d,e,a,o,h,i,t)};return o.settings=(...n)=>n.length?(e=n[0],t=n[1],o):e,o.data=(...e)=>e.length?(n=e[0],o):n,o.color=(...e)=>e.length?(r=e[0],o):r,o.container=(...e)=>e.length?(a=e[0],o):a,o}function Bl(e,t){if(0===t.crossValues.length)return void console.warn("Unable to render a chart in the absence of any groups.");t.treemaps||(t.treemaps={});let n=Go(t),r=cl(t,n.map((e=>e.data)));r&&this._container.classList.add("has-legend");let a=il().elementsPrefix("treemap");if(e.datum(n).call(a),r){let n=t.realValues[1];if("string"===t.mainValues.find((e=>e.name===n))?.type){let n=Gi().settings(t).scale(r);e.call(n)}else{let t=Lo().scale(r);e.call(t)}}let i=a.chartEnter(),o=a.chartDiv();a.chartTitle().each(((e,t,n)=>(0,Ve.select)(n[t]).text(e.split))),i.merge(o).select("svg").select("g.treemap").each((function({split:e,data:n}){let a=(0,Ve.select)(this);t.treemaps[e]||(t.treemaps[e]={}),Rl().settings(t.treemaps[e],t).data(n).container((0,Ve.select)((0,Ve.select)(this.parentNode).node().parentNode)).color(r)(a),_i().settings(t).centered(!0)(a.selectAll("g"))}))}Bl.plugin={type:"Treemap",name:"Treemap",max_cells:5e3,max_columns:50,render_warning:!0,initial:{type:"number",count:1,names:["Size","Color","Tooltip"]}};var jl=[oo,bo,xo,Mo,Co,To,Ro,Wo,qo,Bl,ll,jo],Zl=e=>x(e).opacity,Hl=(e,t)=>{let n=x(`#${e}`);return n.opacity=t,n+""},Fl=e=>{let t=getComputedStyle(e);return e=>t?.getPropertyValue(e)},Wl=(e,t)=>{let n=(0,aa.Q)(e)[0].colorStops;return n.map(((e,r)=>[e.length?e.length.value/100:r/(n.length-1),Hl(e.value,t)])).sort(((e,t)=>e[0]-t[0]))},Yl={initial:{type:"number",count:1},selectMode:"select"},ql=`:host .chart{--d3fc-local-full--gradient: var(--d3fc-full--gradient, linear-gradient(#4d342f 0%, #e4521b 22.5%, #feeb65 42.5%, #f0f0f0 50%, #dcedc8 57.5%, #42b3d5 67.5%, #1a237e 100%));--d3fc-local-positive--gradient: var(--d3fc-positive--gradient, linear-gradient(#dcedc8 0%, #42b3d5 35%, #1a237e 100%));--d3fc-local-negative--gradient: var(--d3fc-negative--gradient, linear-gradient(#feeb65 100%, #e4521b 70%, #4d342f 0%))}:host .chart{--d3fc-local-series: var(--d3fc-series, rgba(31, 119, 180, .5));--d3fc-local-series-1: var(--d3fc-series-1, #0366d6);--d3fc-local-series-2: var(--d3fc-series-2, #ff7f0e);--d3fc-local-series-3: var(--d3fc-series-3, #2ca02c);--d3fc-local-series-4: var(--d3fc-series-4, #d62728);--d3fc-local-series-5: var(--d3fc-series-5, #9467bd);--d3fc-local-series-6: var(--d3fc-series-6, #8c564b);--d3fc-local-series-7: var(--d3fc-series-7, #e377c2);--d3fc-local-series-8: var(--d3fc-series-8, #7f7f7f);--d3fc-local-series-9: var(--d3fc-series-9, #bcbd22);--d3fc-local-series-10: var(--d3fc-series-10, #17becf)}:host .chart .series{fill:var(--d3fc-local-series)}:host .chart .series-1{fill:var(--d3fc-local-series-1)}:host .chart .series-2{fill:var(--d3fc-local-series-2)}:host .chart .series-3{fill:var(--d3fc-local-series-3)}:host .chart .series-4{fill:var(--d3fc-local-series-4)}:host .chart .series-5{fill:var(--d3fc-local-series-5)}:host .chart .series-6{fill:var(--d3fc-local-series-6)}:host .chart .series-7{fill:var(--d3fc-local-series-7)}:host .chart .series-8{fill:var(--d3fc-local-series-8)}:host .chart .series-9{fill:var(--d3fc-local-series-9)}:host .chart .series-10{fill:var(--d3fc-local-series-10)}:host{user-select:none}:host .chart{position:absolute;box-sizing:border-box;left:0;top:0;width:100%;height:100%;padding:15px;overflow:hidden}:host .chart.heatmap d3fc-group.cartesian-chart,:host .chart.treemap d3fc-group.cartesian-chart{grid-template-columns:minmax(0em,max-content) auto 1fr auto minmax(0em,max-content);grid-template-rows:minmax(0em,max-content) auto 1fr auto minmax(0em,max-content)}:host .chart .chart-label{display:none}:host .chart.heatmap{padding-right:120px}:host .chart.sunburst{padding:0;font-size:14px}:host .chart.sunburst .inner-container{width:100%;height:100%;display:inline-grid;padding:0;margin:0;overflow-x:hidden;overflow-y:auto}:host .chart.sunburst .inner-container div{overflow:hidden}:host .chart.sunburst .inner-container .sunburst-container:not(:only-child) svg{transform:translateY(-27px)}:host .chart.sunburst .inner-container svg{width:100%;height:100%}:host .chart.sunburst .inner-container path{fill:var(--d3fc-series, rgba(31, 119, 180, .5))}:host .chart.sunburst .inner-container text.segment,:host .chart.sunburst .inner-container text.parent{text-anchor:middle;user-select:none;pointer-events:none;fill:var(--d3fc-treedata--labels, #333333)}:host .chart.sunburst .inner-container div.title-container{margin-top:5px}:host .chart.has-legend{padding-right:120px}:host .chart.treemap .treemap-container{position:relative}:host .chart.treemap .treemap-container:not(:only-child){width:calc(100% - 12px);height:calc(100% - 12px)}:host .chart.treemap .inner-container{width:100%;height:100%;display:inline-grid;padding:0;margin:0;overflow-x:hidden;overflow-y:auto}:host .chart.treemap .inner-container div{overflow:hidden}:host .chart.treemap .inner-container svg{width:100%;height:100%}:host .chart.treemap .inner-container .treerect{stroke:var(--d3fc-treedata-axis--lines, var(--d3fc-axis--lines, white));fill:var(--d3fc-series, rgba(31, 119, 180, .5))}:host .chart.treemap .inner-container .treerect:hover{cursor:pointer;stroke:var(--d3fc-treedata--hover-highlight, black);stroke-opacity:1}:host .chart.treemap .inner-container .rootnode{opacity:0;pointer-events:none;z-index:0}:host .chart.treemap .inner-container .branchnode{opacity:0}:host .chart.treemap .inner-container .branchnode:hover{fill-opacity:.1;opacity:1;fill:var(--d3fc-treedata--hover-highlight, black)}:host .chart.treemap .inner-container .leafnode{fill-opacity:.8}:host .chart.treemap .inner-container .leafnode:hover{fill-opacity:.5}:host .chart.treemap .inner-container #hidden{opacity:0;pointer-events:none;z-index:0}:host .chart.treemap .inner-container .top{font-size:14px;z-index:5;pointer-events:none}:host .chart.treemap .inner-container .mid{font-size:8px;opacity:.7;z-index:4}:host .chart.treemap .inner-container .lower{font-size:0px;opacity:0;z-index:4}:host .chart.treemap .inner-container text{fill:var(--d3fc-treedata--labels, #333333)}:host .chart.treemap .inner-container text.title{dominant-baseline:hanging}:host .chart.treemap .inner-container .parent-controls{position:absolute;top:15px;right:auto;left:30px;width:auto;z-index:4;transition:box-shadow 1s}:host .chart.treemap .inner-container .parent-controls:hover{box-shadow:2px 2px 6px #000;transition:box-shadow .2s}:host .chart .x-label{height:1.2em!important;line-height:1em!important}:host .chart .x-label,:host .chart .y-label{color:var(--d3fc-label--color, inherit);font-size:14px}:host .chart d3fc-canvas.plot-area{display:none}:host .chart.xyscatter d3fc-canvas.plot-area,:host .chart.xyline d3fc-canvas.plot-area,:host .chart.ohlc d3fc-canvas.plot-area,:host .chart.candlestick d3fc-canvas.plot-area,:host .chart.heatmap d3fc-canvas.plot-area{display:block}:host .chart .y-axis text,:host .chart .x-axis text{fill:var(--d3fc-axis-ticks--color, #505050);font-size:11px}:host .chart .y-axis path,:host .chart .x-axis path{stroke:var(--d3fc-axis--lines, #b4d2e1)}:host .chart .splitter-label{display:inline-block;margin:0 10px;cursor:pointer}:host .chart .splitter-label:after{margin-left:5px;color:var(--d3fc-axis--lines, #b4d2e1)}:host .chart .splitter-label:hover:after{color:var(--d3fc-axis-ticks--color, #505050)}:host .chart .splitter-label.disabled{cursor:default}:host .chart .splitter-label.disabled:after{color:#5050504d}:host .chart .y-label.left-label .splitter-label:after{font-family:var(--d3fc-y1-label--font-family, var(--button--font-family, inherit));content:var(--d3fc-y1-label--content, "\\1f847")}:host .chart .y-label.right-label .splitter-label:after{font-family:var(--d3fc-y2-label--font-family, var(--button--font-family, inherit));content:var(--d3fc-y2-label--content, "\\1f845")}:host .chart.ybar .y-axis path,:host .chart.yline .y-axis path,:host .chart.xyline .y-axis path,:host .chart.xyline .x-axis path,:host .chart.yarea .y-axis path,:host .chart.yscatter .y-axis path,:host .chart.xyscatter .y-axis path,:host .chart.xyscatter .x-axis path,:host .chart.xbar .x-axis path{visibility:hidden}:host .chart .y-label{white-space:nowrap}:host .chart .nearbyTip{fill:var(--d3fc-series, rgba(31, 119, 180, .5))}:host .disabled{filter:grayscale(100%)}:host #dragHandles{position:absolute;top:0px;right:0px;left:auto;pointer-events:none}:host #dragHandles rect{pointer-events:all}:host .label rect{fill:none}:host .legend-container{position:absolute;top:15px;right:15px;left:auto;width:150px;height:280px}:host .legend-container.legend-color{width:90px;height:150px}:host .legend-container[borderbox-on-hover=true]{transition:box-shadow 1s}:host .legend-container[borderbox-on-hover=true]:hover{background-color:var(--d3fc-legend--background, #ffffff);box-shadow:0 2px 4px #0000001a;transition:box-shadow .2s,background-color .2s}:host .legend-container .legend{font-size:8pt;width:100%}:host .legend-container .legend .cell{cursor:pointer}:host .legend-container .legend .cell path{fill:var(--d3fc-series, rgba(31, 119, 180, .5));stroke:var(--d3fc-series, #1f77b4)}:host .legend-container .legend .cell.hidden path{fill:#cccccc80;stroke:#ccc}:host .legend-container .legend .cell.hidden circle{fill:#ccc!important}:host .legend-container text{fill:var(--d3fc-legend--text, #333333)}:host .legend-container .label:hover{fill:#22a0ce}:host .legend-container #legend-axis path{stroke:var(--d3fc-legend--text, #333333)}:host .legend-container .legend-controls{margin-left:12px}:host .legend-container .legend-controls #up-arrow,:host .legend-container .legend-controls #down-arrow{cursor:pointer;color:#1f77b4}:host .legend-container .legend-controls #up-arrow.disabled,:host .legend-container .legend-controls #down-arrow.disabled{cursor:default;color:#333}:host .heatmap .legend-container.legend-color{height:200px}:host .treemap .legend-container.legend-color{height:200px}:host .treemap .legend-container:not(.legend-color){width:100px}:host .zoom-controls{position:absolute;top:10px;left:0;width:100%;text-align:center}:host .zoom-controls button{-webkit-appearance:none;background:var(--plugin--background, #f7f7f7);border:1px solid var(--inactive--color, #cccccc);color:var(--d3fc-label--color, inherit);font-size:12px;padding:8px;opacity:.5;cursor:pointer}:host .zoom-controls button:hover{opacity:1}:host .parent-controls{position:absolute;top:30px;right:145px;width:100%;text-align:right}:host .parent-controls button{-webkit-appearance:none;background:#f7f7f7;border:1px solid #cccccc;padding:10px;opacity:.5;cursor:pointer}:host .parent-controls button:hover{background:#e6e6e6}:host div.tooltip{position:absolute;text-align:left;font-size:12px;font-weight:300;white-space:nowrap;padding:.5em;background:var(--d3fc-tooltip--background, #ffffff);color:var(--d3fc-tooltip--color, black);border:1px solid var(--d3fc-tooltip--border-color, #777777);box-shadow:var(--d3fc-tooltip--box-shadow, none);pointer-events:none}:host div.tooltip ul{margin:0;padding:0;list-style-type:none}\n${function(){let e=document.querySelector("head").querySelectorAll("style"),t=[];return e.forEach((e=>{-1!==e.innerText.indexOf("d3fc-")&&t.push(e.innerText)})),t.join("")}()}`,Ul=["crossValues","mainValues","realValues","splitValues","filter","data","size","colorStyles","agg_paths","treemaps"];Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector),function(...e){e=new Set(e.length>0?e:jl.map((e=>e.plugin.name))),jl.forEach((t=>{if(e.has(t.plugin.name)){let e=t.plugin.name.toLowerCase().replace(/[ \t\r\n\/]*/g,""),n=`perspective-viewer-d3fc-${e}`;customElements.define(n,class extends HTMLElement{constructor(){super(),this._chart=null,this._settings=null,this.render_warning=!0}connectedCallback(){this._initialized||(this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=`<style>${ql}</style>`,this.shadowRoot.innerHTML+='<div id="container" class="chart"></div>',this._container=this.shadowRoot.querySelector(".chart"),this._initialized=!0)}get name(){return t.plugin.name}get select_mode(){return t.plugin.selectMode||"select"}get min_config_columns(){return t.plugin.initial?.count||Yl.initial.count}get config_column_names(){return t.plugin.initial?.names||Yl.initial.names}get max_cells(){return t.plugin.max_cells||4e3}set max_cells(e){t.plugin.max_cells=e}get max_columns(){return t.plugin.max_columns||50}set max_columns(e){t.plugin.max_columns=e}async render(){var e=document.createElement("canvas"),t=this.shadowRoot.querySelector("#container");e.width=t.offsetWidth,e.height=t.offsetHeight;let n=e.getContext("2d");n.fillStyle=window.getComputedStyle(this).getPropertyValue("--plugin--background")||"white",n.fillRect(0,0,e.width,e.height);let r=window.getComputedStyle(this).getPropertyValue("color"),a=Array.from(this.shadowRoot.querySelectorAll("svg:not(#dragHandles)"));for(let e of a.reverse()){var i=document.createElement("img");i.width=e.parentNode.offsetWidth,i.height=e.parentNode.offsetHeight;let t=e.cloneNode(!0);t.hasAttribute("viewBox")||t.setAttribute("viewBox",`0 0 ${i.width} ${i.height}`),t.setAttribute("xmlns","http://www.w3.org/2000/svg");for(let e of t.querySelectorAll("text"))e.setAttribute("fill",r);var o=(new XMLSerializer).serializeToString(t);o=o.replace(/[^\x00-\x7F]/g,"");let a=new Promise(((e,t)=>{i.onload=e,i.onerror=t}));try{i.src=`data:image/svg+xml;base64,${btoa(o)}`,await a}catch{let e=new Promise(((e,t)=>{i.onload=e,i.onerror=t}));i.src=`data:image/svg+xml;utf8,${o}`,await e}n.drawImage(i,e.parentNode.offsetLeft,e.parentNode.offsetTop,i.width,i.height)}let l=Array.from(this.shadowRoot.querySelectorAll("canvas"));for(let e of l.reverse())n.drawImage(e,e.parentNode.offsetLeft,e.parentNode.offsetTop,e.width/window.devicePixelRatio,e.height/window.devicePixelRatio);return await new Promise((t=>e.toBlob((e=>t(e)))),"image/png")}async draw(e,t,n){!this.isConnected||(this.config=await this.parentElement.save(),await this.update(e,t,n,!0))}async update(e,n,r,a=!1){if(!this.isConnected)return;let i,o,l=this.parentElement,c=this.config.columns,s="Sunburst"!==t.plugin.name;i=n&&r?e.to_json({end_row:r,end_col:n,leaves_only:s}):n?e.to_json({end_col:n,leaves_only:s}):r?e.to_json({end_row:r,leaves_only:s}):e.to_json({leaves_only:s}),o=await Promise.all([l.getTable().then((e=>e.schema(!1))),e.expression_schema(!1),e.schema(!1),i,e.get_config()]);let[u,f,d,h,g]=o,p=function(e){let t=u[e];return t||(t=f[e]),t},{columns:b,group_by:_,split_by:m,filter:v}=g,y=_.length>0?h.reduce(((e,t)=>{if(t.__ROW_PATH__&&t.__ROW_PATH__.length==_.length)e.agg_paths.push(e.aggs.slice()),e.rows.push(t);else{let n=t.__ROW_PATH__.filter((e=>void 0!==e)).length;e.aggs[n]=t,e.aggs=e.aggs.slice(0,n+1)}return e}),{rows:[],aggs:[],agg_paths:[]}):{rows:h},w=y.rows.map(((e,t)=>_.length?e:{...e,__ROW_PATH__:[t]})),x={realValues:c,crossValues:_.map((e=>({name:e,type:p(e)}))),mainValues:b.map((e=>({name:e,type:d[e]}))),splitValues:m.map((e=>({name:e,type:p(e)}))),filter:v,data:w,agg_paths:y.agg_paths};this._chart=t;let S={set:(e,t,n)=>(Ul.includes(t)||this._container&&this._container.dispatchEvent(new Event("perspective-plugin-update",{bubbles:!0,composed:!0})),e[t]=n,!0)};this._settings=new Proxy({...this._settings,...x},S),this._settings.splitMainValues&&this._settings.splitMainValues.length>=b.length&&(this._settings.splitMainValues=[]),((e,t)=>{if(!t.colorStyles){let n={scheme:[],gradient:{},interpolator:{},grid:{}},r=Fl(e);n.series=r("--d3fc-local-series");for(let e=1;;e++){let t=`series-${e}`,a=r(`--d3fc-local-${t}`);if(!a)break;n[t]=a,n.scheme.push(a)}n.opacity=Zl(n.series),n.grid.gridLineColor=r`--d3fc-gridline--color`,["full","positive","negative"].forEach((e=>{let t=r(`--d3fc-local-${e}--gradient`);n.gradient[e]=Wl(t,n.opacity)})),t.colorStyles=n}})(this._container,this._settings),a&&(this._container.innerHTML=""),this._draw(),await new Promise((e=>requestAnimationFrame(e)))}async clear(){this._container&&(this._container.innerHTML="")}_draw(){if(this._settings.data&&this.isConnected){let t=(0,Ve.select)(this._container),n=`chart ${e}`;this._settings.size=this._container.getBoundingClientRect(),this._settings.data.length>0?this._chart(t.attr("class",n),this._settings):t.attr("class",`${n} disabled`)}}async resize(){this.isConnected&&this._draw()}async restyle(...e){let t=this._settings;t&&(delete t.colorStyles,await this.draw(...e))}async delete(){this._container.innerHTML=""}getContainer(){return this._container}save(){let e={...this._settings};return Ul.forEach((t=>{delete e[t]})),e}restore(e){let t={};for(let e of Ul)t[e]=this._settings?.[e];this._settings={...t,...e},this._draw()}}),customElements.whenDefined("perspective-viewer").then((()=>function(e){customElements.get("perspective-viewer").registerPlugin(e)}(n)))}}))}()},92105:(e,t,n)=>{"use strict";n(67722);var r,a=n(65792),i=n.n(a),o=Object.create,l=Object.defineProperty,c=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,u=Object.getPrototypeOf,f=Object.prototype.hasOwnProperty,d=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),h=d(((e,t)=>{t.exports.default={types:{float:{filter_operator:"==",aggregate:"sum",format:{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}},string:{filter_operator:"==",aggregate:"count"},integer:{filter_operator:"==",aggregate:"sum",format:{}},boolean:{filter_operator:"==",aggregate:"count"},datetime:{filter_operator:"==",aggregate:"count",format:{week:"numeric",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},null_value:-1},date:{filter_operator:"==",aggregate:"count",format:{week:"numeric",year:"numeric",month:"numeric",day:"numeric"},null_value:-1}}}})),g=d(((e,t)=>{var n=h().default;function r(e){return e&&"object"==typeof e&&!Array.isArray(e)}function a(e,...t){if(!t.length)return e;let n=t.shift();if(r(e)&&r(n))for(let t in n)r(n[t])?(e[t]||Object.assign(e,{[t]:{}}),a(e[t],n[t])):Object.assign(e,{[t]:n[t]});return a(e,...t)}t.exports.get_types=function(){return Object.keys(t.exports.get_config().types)},t.exports.get_type_config=function(e){let n={};if(t.exports.get_config().types[e]&&Object.assign(n,t.exports.get_config().types[e]),n.type){let e=t.exports.get_type_config(n.type);return Object.assign(e,n),e}return n},window.__PERSPECTIVE_CONFIG__=void 0,t.exports.override_config=function(e){window.__PERSPECTIVE_CONFIG__&&console.warn("Config already initialized!"),window.__PERSPECTIVE_CONFIG__=a(n,e)},t.exports.get_config=function(){return window.__PERSPECTIVE_CONFIG__||(window.__PERSPECTIVE_CONFIG__=a(n,window.__TEMPLATE_CONFIG__||{})),window.__PERSPECTIVE_CONFIG__}})),p=(r=g(),((e,t,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of s(t))!f.call(e,r)&&"default"!==r&&l(e,r,{get:()=>t[r],enumerable:!(n=c(t,r))||n.enumerable});return e})((e=>l(e,"__esModule",{value:!0}))(l(null!=r?o(u(r)):{},"default",r&&r.__esModule&&"default"in r?{get:()=>r.default,enumerable:!0}:{value:r,enumerable:!0})),r)),b=Symbol("Plugin Symbol");function _(e){let[t,n,r]=e.rgb(),[a,i,o]=e.set("hsl.h",(e.get("hsl.h")-15)%360).rgb(),[l,c,s]=e.set("hsl.h",(e.get("hsl.h")+15)%360).rgb();return`linear-gradient(to right top,rgb(${a},${i},${o}),rgb(${t},${n},${r}) 50%,rgb(${l},${c},${s}))`}function m(e,t,n){let r,a=void 0!==n,o=document.createElement(`perspective-${a?"number":"string"}-column-style`),l=e.getMeta(t),c=l.column_header[l.column_header.length-1],s=this._schema[c];if(r=a?{gradient:n,pos_color:this._pos_color[0],neg_color:this._neg_color[0],number_color_mode:"foreground"}:{color:this._color[0]},"string"!==s)if("float"===s)r.fixed=2;else{if("integer"!==s)return this._open_column_styles_menu.pop(),void e.draw({preserve_width:!0});r.fixed=0}let u=()=>o.blur(),f=t=>{let n=t.detail;n.pos_color&&(n.pos_color=[n.pos_color,...i()(n.pos_color).rgb(),_(i()(n.pos_color))],n.neg_color=[n.neg_color,...i()(n.neg_color).rgb(),_(i()(n.neg_color))]),n.color&&(n.color=[n.color,...i()(n.color).rgb(),_(i()(n.color))]),e[b]=e[b]||{},e[b][c]=n,e.draw({preserve_width:!0}),e.parentElement.parentElement.dispatchEvent(new Event("perspective-config-update"))},d=async()=>{e.removeEventListener("regular-table-scroll",u),o.removeEventListener("perspective-column-style-change",f),o.removeEventListener("blur",d),o.destroy(),this._open_column_styles_menu.pop(),await e.draw({preserve_width:!0}),e.parentElement.parentElement.dispatchEvent(new Event("perspective-config-update"))};o.addEventListener("perspective-column-style-change",f),o.addEventListener("blur",d),e.addEventListener("regular-table-scroll",u);let h=e[b]||{},g=Object.assign({},h[c]=h[c]||{});g.pos_color&&(g.pos_color=g.pos_color[0],g.neg_color=g.neg_color[0]),g.color&&(g.color=g.color[0]),o.open(t,g,r)}function v([e,t,n,r],a=[255,255,255]){function i(e,t){return 255*((1-r)*(a[e]/255)+r*(t/255))}return[i(0,e),i(1,t),i(2,n)]}function y([e,t,n]){return Math.sqrt(e*e*.299+t*t*.587+n*n*.114)>130?"#161616":"#ffffff"}function w(e){let t=e._view_cache.config.row_pivots.length-1,n=Array.from(e.children[0].children[0].children),r=e[b]||{};if(n.length>0){let[r]=n.splice(n.length-1,1);for(let n of r?.children){let r=e.getMeta(n),a=r.column_header?.[r.column_header?.length-1],i=this._config.sort.find((e=>e[0]===a)),o=r.row_header_x===t,l=void 0===r.x;o=o||(r.x+1)%this._config.columns.length==0,n.classList.toggle("psp-header-border",o),n.classList.toggle("psp-header-group",!1),n.classList.toggle("psp-header-leaf",!0),n.classList.toggle("psp-is-top",!1),n.classList.toggle("psp-header-corner",l),n.classList.toggle("psp-header-sort-asc",!!i&&"asc"===i[1]),n.classList.toggle("psp-header-sort-desc",!!i&&"desc"===i[1]),n.classList.toggle("psp-header-sort-col-asc",!!i&&"col asc"===i[1]),n.classList.toggle("psp-header-sort-col-desc",!!i&&"col desc"===i[1]);let c=j.call(this,r),s="integer"===c||"float"===c,u="string"===c;n.classList.toggle("psp-align-right",s),n.classList.toggle("psp-align-left",!s),n.classList.toggle("psp-menu-open",this._open_column_styles_menu[0]===r._virtual_x),n.classList.toggle("psp-menu-enabled",(u||s)&&!l),n.classList.toggle("psp-is-width-override",void 0!==e._column_sizes?.override[r.size_key])}}let a=[],o=new Set,l=e.children[0];for(let r=0;r<n.length;r++){let n=l.rows[r],i=new Set;for(let l=0;l<n.cells.length;l++){let c=n.cells[l];c.style.backgroundColor="";let s=e.getMeta(c),u=s.row_header_x===t||s.x>=0;c.classList.toggle("psp-align-right",!1),c.classList.toggle("psp-align-left",!1),c.classList.toggle("psp-header-group",!0),c.classList.toggle("psp-header-leaf",!1),c.classList.toggle("psp-header-border",u),c.classList.toggle("psp-header-group-corner",void 0===s.x),c.classList.toggle("psp-color-mode-bar",!1),c.classList.toggle("psp-header-sort-asc",!1),c.classList.toggle("psp-header-sort-desc",!1),c.classList.toggle("psp-header-sort-col-asc",!1),c.classList.toggle("psp-header-sort-col-desc",!1);let f,d,h=n.cells[l],g=l;for(;a[r]&&a[r][g];++g);for(i.add(g),f=g;f<g+h.colSpan;++f)for(d=r;d<r+h.rowSpan;++d)a[d]||(a[d]=[]),a[d][f]=!0;h.classList.toggle("psp-is-top",0===r||!o.has(f))}o=i}for(let t of e.children[0].children[1].children)for(let n of t.children){let t=e.getMeta(n),a=t.column_header?.[t.column_header?.length-1],o=j.call(this,t),l=r[a],c="integer"===o||"float"===o;if(c){let e=t.user>0,r=t.user<0,[a,i,o,c,s]=(()=>void 0!==l?.pos_color?e?l.pos_color:r?l.neg_color:["",0,0,0,""]:e?this._pos_color:r?this._neg_color:["",0,0,0,""])();if(n.style.position="","background"===l?.number_color_mode){let e=y(v([i,o,c,1],this._plugin_background));n.style.color=e,n.style.backgroundColor=a}else if("gradient"===l?.number_color_mode){let e=Math.max(0,Math.min(1,Math.abs(t.user/l.gradient))),r=y(v([i,o,c,e],this._plugin_background));n.style.color=r,n.style.backgroundColor=`rgba(${i},${o},${c},${e})`}else"disabled"===l?.number_color_mode?(n.style.backgroundColor="",n.style.color=""):"bar"===l?.number_color_mode?(n.style.backgroundColor="",n.style.color="",n.style.position="relative",""!==s&&n.children.length>0&&n.children[0].nodeType===Node.ELEMENT_NODE&&(n.children[0].style.background=s)):(n.style.backgroundColor="",n.style.color=a)}else if("boolean"===o){let[e]=!0===t.user?this._pos_color:!1===t.user?this._neg_color:["",0,0,0,""];n.style.backgroundColor="",n.style.color=e}else if("string"===o){let[e,r,o,c,s]=(()=>void 0!==l?.color?l.color:this._color)();if("foreground"===l?.string_color_mode&&null!==t.user)n.style.color=e,n.style.backgroundColor="","link"===l?.format&&(n.children[0].style.color=e);else if("background"===l?.string_color_mode&&null!==t.user){let t=y(v([r,o,c,1],this._plugin_background));n.style.color=t,n.style.backgroundColor=e}else if("series"===l?.string_color_mode&&null!==t.user){this._series_color_map.has(a)||(this._series_color_map.set(a,new Map),this._series_color_seed.set(a,0));let r=this._series_color_map.get(a);if(!r.has(t.user)){let e=this._series_color_seed.get(a);r.set(t.user,e),this._series_color_seed.set(a,e+1)}let o=r.get(t.user),[l,c,s]=i()(e).hsl();l+=150*o%360;let u=i()(l,c,s,"hsl"),[f,d,h]=u.rgb(),g=u.hex(),p=y(v([f,d,h,1],this._plugin_background));n.style.color=p,n.style.backgroundColor=g}else n.style.backgroundColor="",n.style.color=""}else n.style.backgroundColor="",n.style.color="";n.classList.toggle("psp-bool-type","boolean"===o&&null!==t.user);let s="TH"===n.tagName;if(s){let r=null!=typeof t.value&&null!=typeof t.value&&t.value?.toString()?.trim().length>0,a=t.row_header_x>=this._config.group_by.length,i=e.getMeta({dx:0,dy:t.y-t.y0+1}),o=i&&i.row_header&&void 0!==i.row_header[t.row_header_x+1];n.classList.toggle("psp-tree-label",r&&!a),n.classList.toggle("psp-tree-label-expand",r&&!a&&!o),n.classList.toggle("psp-tree-label-collapse",r&&!a&&o),n.classList.toggle("psp-tree-leaf",r&&a)}n.classList.toggle("psp-align-right",!s&&c),n.classList.toggle("psp-align-left",s||!c),n.classList.toggle("psp-color-mode-bar","bar"===l?.number_color_mode&&c)}}async function x(e,t,n){let r=e.getMeta(n),a=r.column_header[r.column_header.length-1],i=(t.shiftKey?S:k).call(this,a);e.dispatchEvent(new CustomEvent("regular-table-psp-sort",{detail:{sort:i}}))}function S(e){let t=[],n=!1;for(let r of this._config.sort){let[a,i]=r;if(a===e){n=!0;let r=A.call(this,e,i);r&&t.push(r)}else t.push(r)}return n||t.push([e,"desc"]),t}function k(e){for(let[t,n]of this._config.sort)if(t===e){let t=A.call(this,e,n);return t?[t]:[]}return[[e,"desc"]]}function A(e,t){let n=this._config.split_by.length>0?M:E,r=t?n[t]:"desc";if(r)return[e,r]}var E={desc:"asc",asc:void 0},M={desc:"asc",asc:"col desc","col desc":"col asc","col asc":void 0};async function V(e,t){let n=e.getMeta(t.target),r=t.target.classList.contains("psp-tree-label-collapse");t.shiftKey&&r?this._view.set_depth(n.row_header.filter((e=>void 0!==e)).length-2):t.shiftKey?this._view.set_depth(n.row_header.filter((e=>void 0!==e)).length-1):r?this._view.collapse(n.y):this._view.expand(n.y),this._num_rows=await this._view.num_rows(),this._num_columns=await this._view.num_columns(),e.draw()}async function C(e,t){if(1!==t.which)return;let n=t.target;if("A"===n.tagName)return;for(;"TD"!==n.tagName&&"TH"!==n.tagName;)if(n=n.parentElement,!e.contains(n))return;if(n.classList.contains("psp-tree-label")&&t.offsetX<26)return V.call(this,e,t),void t.stopImmediatePropagation();let r=n.getBoundingClientRect();if(n.classList.contains("psp-menu-enabled")&&t.clientY-r.top>16){let r=e.getMeta(n),a=r.column_header?.[r.column_header?.length-1],i=this._schema[a];if(this._open_column_styles_menu.unshift(r._virtual_x),"string"===i)e.draw({preserve_width:!0}),m.call(this,e,n);else{let[,t]=await this._view.get_min_max(a);e.draw({preserve_width:!0}),m.call(this,e,n,t)}t.preventDefault(),t.stopImmediatePropagation()}else n.classList.contains("psp-header-leaf")&&!n.classList.contains("psp-header-corner")&&(x.call(this,e,t,n),t.stopImmediatePropagation())}function z(e,t){if(1!==t.which)return;let n=t.target;for(;"TD"!==n.tagName&&"TH"!==n.tagName;)if(n=n.parentElement,!e.contains(n))return;(n.classList.contains("psp-tree-label")&&t.offsetX<26||n.classList.contains("psp-header-leaf")&&!n.classList.contains("psp-header-corner"))&&t.stopImmediatePropagation()}var T={},N={datetime:Intl.DateTimeFormat,date:Intl.DateTimeFormat,integer:Intl.NumberFormat,float:Intl.NumberFormat,boolean:class{format(e){return e?"check":"close"}}},P=T;function O(e,t,n={},r=!1){if(null===t)return"-";let a=e[e.length-1],i=r&&this._table_schema[a]||this._schema[a]||"string",o=n[a],l="integer"===i||"float"===i;if(l&&"bar"===o?.number_color_mode){let e=Math.max(0,Math.min(.95,.95*Math.abs(t/o.gradient))),n=this._div_factory.get(),r=t>=0?"left":"right";return n.setAttribute("style",`width:${(100*e).toFixed(2)}%;position:absolute;${r}:0;height:80%;top:10%;pointer-events:none;`),n}if("link"===o?.format&&"string"===i){let e=document.createElement("a");return e.setAttribute("href",t),e.setAttribute("target","_blank"),e.textContent=t,e}if("bold"===o?.format&&"string"===i){let e=document.createElement("b");return e.textContent=t,e}if("italics"===o?.format&&"string"===i){let e=document.createElement("i");return e.textContent=t,e}{let e=l&&o&&void 0!==o.fixed,n=e?`${i}${o.fixed}`:i;if(void 0===T[n]){let t=(0,p.get_type_config)(i);if(e){let e={minimumFractionDigits:o.fixed,maximumFractionDigits:o.fixed};T[n]=new N[i]("en-us",e)}else N[i]?T[n]=new N[i]("en-us",t.format):T[n]=!1}return T[n]?T[n].format(t):t}}function*D(e=[],t,n){let r=n[b];for(let n of e){n=["TOTAL",...n];let e=n[n.length-1];n=n.slice(0,n.length-1).fill("");let a=O.call(this,[t[n.length-1]],e,r,!0);n=a instanceof HTMLElement?n.concat(a):n.concat({toString:()=>a}),n.length=t.length+1,yield n}}async function L(e,t,n,r,a){let i={};r-t>0&&a-n>0?(i=await this._view.to_columns({start_row:n,start_col:t,end_row:a,end_col:r,id:!0}),this._ids=i.__ID__):this._div_factory.clear();let o=[],l=[],c=[];for(let s of this._column_paths.slice(t,r)){let t=s.split("|"),r=i[s]||new Array(a-n).fill(null);o.push(r.map((n=>O.call(this,t,n,e[b])))),l.push(r),c.push(t)}return{num_rows:this._num_rows,num_columns:this._column_paths.length,row_headers:Array.from(D.call(this,i.__ROW_PATH__,this._config.group_by,e)),column_headers:c,data:o,metadata:l}}function I(e,t,n){let r=window.getComputedStyle(e).getPropertyValue(t).trim();return r.length>0?r:n}function R(e){let t=i()(e),n=_(t);return[e,...t.rgb(),n]}async function B(e,t,n,r={}){let a=await n.get_config(),o=a.expressions.map((e=>e[1])),[l,c,s,u,f,d]=await Promise.all([t.schema(),t.validate_expressions(o),n.num_rows(),n.schema(),n.expression_schema(),n.column_paths()]),h=i()(I(e,"--plugin--background","#FFFFFF")).rgb(),g=R(I(e,"--rt-pos-cell--color","#338DCD")),p=R(I(e,"--rt-neg-cell--color","#FF5942")),b=R(I(e,"--active--color","#ff0000")),_={...u,...f},m={...l,...c.expression_schema},v=d.filter((e=>"__ROW_PATH__"!==e&&"__ID__"!==e)),y=[],w=[];for(let e of v){let t=e.split("|"),n=t[t.length-1];w.push(_[n]),y.push(!!l[n])}let x=Object.assign(r,{_view:n,_table:t,_table_schema:m,_config:a,_num_rows:s,_schema:_,_ids:[],_open_column_styles_menu:[],_plugin_background:h,_color:b,_pos_color:g,_neg_color:p,_column_paths:v,_column_types:w,_is_editable:y,_row_header_types:a.group_by.map((e=>m[e])),_series_color_map:new Map,_series_color_seed:new Map,get_psp_type:j});return x._div_factory=x._div_factory||new class{constructor(e){this._name=e,this._elements=[],this._index=0}clear(){this._index=0}get(){this._elements[this._index]||(this._elements[this._index]=document.createElement(this._name));let e=this._elements[this._index];return this._index+=1,e}}("div"),e.setDataListener(L.bind(x,e),{virtual_mode:window.getComputedStyle(e).getPropertyValue("--datagrid-virtual-mode")?.trim()||"both"}),x}function j(e){return e.x>=0?this._column_types[e.x]:this._row_header_types[e.row_header_x-1]}async function Z(e,t){e.addStyleListener(w.bind(t,e)),e.addEventListener("mousedown",C.bind(t,e)),e.addEventListener("click",z.bind(t,e))}async function H({_view:e,_config:t},n,r){let a=t.group_by,i=t.split_by,o=n>=0?n:0,l=o+1,c=await e.to_json({start_row:o,end_row:l}),s=c.map((e=>e.__ROW_PATH__))[0]||[],u=a.map(((e,t)=>{let n=s[t];return n?[e,"==",n]:void 0})).filter((e=>e)),f=a.length>0?r+1:r,d=Object.keys(c[0])[f],h={row:c[0]},g=[];if(d){let e=d.split("|");h.column_names=[e[e.length-1]],g=i.map(((t,n)=>{let r=e[n];return r?[t,"==",r]:void 0})).filter((e=>e)).filter((([,,e])=>"__ROW_PATH__"!==e))}let p=t.filter.concat(u).concat(g);return h.config={filter:p},h}var F=new WeakMap;async function W(e,t,n){let r=e.getMeta(n.target);if(!t.hasAttribute("selectable")||n.handled||1!==n.which||!r)return;let a=this._ids[r.y-r.y0];if(r&&r.y>=0){let i=F.get(e),o=!!i&&i.reduce(((e,t,n)=>e&&t===a[n]),!0),l=!!i&&a.length===i.length&&o,c=[];l?F.delete(e):(F.set(e,a),c=await H(this,r.y,r.x),c=c.config.filter),await e.draw({preserve_width:!0}),n.handled=!0,t.dispatchEvent(new CustomEvent("perspective-select",{bubbles:!0,composed:!0,detail:{selected:!l,config:{filter:c}}}))}}function Y(e,t){if(!t.hasAttribute("selectable"))return;let n=F.has(e),r=F.get(e);for(let t of e.querySelectorAll("td"))if(n){let n=e.getMeta(t),a=this._ids[n.y-n.y0],i=r.reduce(((e,t,n)=>e&&t===a[n]),!0);t.classList.toggle("psp-row-selected",a.length===r.length&&i),t.classList.toggle("psp-row-subselected",a.length!==r.length&&i)}else t.classList.toggle("psp-row-selected",!1),t.classList.toggle("psp-row-subselected",!1);for(let t of e.querySelectorAll("tbody th")){let a=e.getMeta(t),i=this._ids[a.y-a.y0];if(!n||i[a.row_header_x])t.classList.toggle("psp-row-selected",!1),t.classList.toggle("psp-row-subselected",!1);else{let e=r.reduce(((e,t,n)=>e&&t===i[n]),!0);t.classList.toggle("psp-row-selected",i.length===r.length&&e),t.classList.toggle("psp-row-subselected",i.length!==r.length&&e)}}}function q(e,t){e.addStyleListener(Y.bind(this,e,t)),e.addEventListener("mousedown",W.bind(this,e,t))}async function U(e,t,n){let r=e.getMeta(n.target);if(!r)return;let{x:a,y:i}=r,{row:o,column_names:l,config:c}=await H(this,i,a);t.dispatchEvent(new CustomEvent("perspective-click",{bubbles:!0,composed:!0,detail:{row:o,column_names:l,config:c}}))}function $(e,t){e.addEventListener("click",U.bind(this,e,t))}var G=new WeakMap;function X(){if(this.isContentEditable){let e=document.getSelection().getRangeAt(0),t=e.cloneRange();return t.selectNodeContents(this),t.setEnd(e.endContainer,e.endOffset),t.toString().length}return this.target.selectionStart}function Q(e,t,n){let r=e.getMeta(n),a=t._schema[t._column_paths[r.x]];if(r){let e=n.textContent,i=t._ids[r.y-r.y0];if("float"===a||"integer"===a){if(e=parseFloat(e.replace(/,/g,"")),isNaN(e))return!1}else if("date"===a||"datetime"===a){if(e=Date.parse(e),isNaN(e))return!1}else"boolean"===a&&(e="check"!==e&&("close"===e||null));let o={__INDEX__:i,[t._column_paths[r.x]]:e};return t._table.update([o],{port_id:t._edit_port}),!0}}function K(e,t=!1){let n=0===this._config.group_by.length&&0===this._config.split_by.length,r=e.hasAttribute("selectable"),a=t||!!e.children[0]._is_edit_mode;return n&&!r&&a}var J=function(e){let t;return async function(...n){if(t&&await t&&t)return;let r;t=new Promise((e=>r=e)),await e.apply(this,n),t=void 0,r()}}((async function(e,t,n,r){let a=e.getMeta(t),i=this._column_paths.length,o=this._num_rows,l=G.get(e);if(!l)return;a.x+n<i&&0<=a.x+n&&(l.x=a.x+n),a.y+r<o&&0<=a.y+r&&(l.y=a.y+r);let c=Math.max(a.x0-10,0),s=Math.min(a.x0+10,i),u=Math.max(a.y0-5,0),f=Math.min(a.y0+10,o),d=a.x0+n,h=a.y0+r;for(;!te(e)&&d>=c&&d<s&&h>=u&&h<f;)await e.scrollToCell(d,h,i,o),G.set(e,l),d+=n,h+=r}));function ee(e,t){let n=e[b]||{},r=K.call(this,t);e.parentElement.classList.toggle("edit-mode-allowed",K.call(this,t,!0));for(let t of e.querySelectorAll("td")){let a=e.getMeta(t),i=this.get_psp_type(a);if(this._is_editable[a.x]){let e=a.column_header[a.column_header.length-1];"string"===i&&"link"===n[e]?.format?(t.toggleAttribute("contenteditable",!1),t.classList.toggle("boolean-editable",!1)):"boolean"===i?(t.toggleAttribute("contenteditable",!1),t.classList.toggle("boolean-editable",null!==a.user)):(r!==t.hasAttribute("contenteditable")&&t.toggleAttribute("contenteditable",r),t.classList.toggle("boolean-editable",!1))}else t.toggleAttribute("contenteditable",!1),t.classList.toggle("boolean-editable",!1)}}var te=e=>{let t=e.querySelectorAll("td"),n=G.get(e);if(n){for(let r of t){let t=e.getMeta(r);if(t.x===n.x&&t.y===n.y)return document.activeElement!==r&&r.focus({preventScroll:!0}),!0}document.activeElement!==document.body&&e.contains(document.activeElement)&&document.activeElement.blur()}};function ne(e,t,n){if(!K.call(this,t))return;let r=document.activeElement;switch(n.target.classList.remove("psp-error"),n.keyCode){case 13:n.preventDefault(),n.shiftKey?J.call(this,e,r,0,-1):J.call(this,e,r,0,1);break;case 37:0==X.call(r)&&(n.preventDefault(),J.call(this,e,r,-1,0));break;case 38:n.preventDefault(),J.call(this,e,r,0,-1);break;case 39:X.call(r)==r.textContent.length&&(n.preventDefault(),J.call(this,e,r,1,0));break;case 40:n.preventDefault(),J.call(this,e,r,0,1)}}function re(e,t,n){if(K.call(this,t)&&G.has(e)){n.target.classList.remove("psp-error");let t=G.get(e);G.delete(e),t.content!==n.target.textContent&&(Q(e,this,n.target)||(n.target.textContent=t.content,n.target.classList.add("psp-error"),n.target.focus()))}}function ae(e,t,n){let r=e.getMeta(n.target);if(r){let t={x:r.x,y:r.y,content:n.target.textContent};G.set(e,t)}}function ie(e,t,n){let r=e.getMeta(n.target);if(void 0!==r?.x){let t=this._is_editable[r.x],a="boolean"===this.get_psp_type(r),i="-"===n.target.textContent;t&&a&&!i&&Q(e,this,n.target)}}async function oe(e,t){this._edit_port=await t.getEditPort(),e.addStyleListener(ee.bind(this,e,t)),e.addStyleListener(te.bind(this,e,t)),e.addEventListener("click",ie.bind(this,e,t)),e.addEventListener("focusin",ae.bind(this,e,t)),e.addEventListener("focusout",re.bind(this,e,t)),e.addEventListener("keydown",ne.bind(this,e,t))}async function le(e,t){e.addEventListener("regular-table-psp-sort",(e=>{this._preserve_focus_state=!0,t.restore({sort:e.detail.sort})}))}var ce=class extends HTMLElement{constructor(){super(),this.datagrid=document.createElement("regular-table"),this.datagrid.formatters=P,this._is_scroll_lock=!0}connectedCallback(){this._toolbar||(this._toolbar=document.createElement("perspective-viewer-datagrid-toolbar"),this._toolbar.setAttribute("slot","plugin-settings"),this._toolbar.attachShadow({mode:"open"}),this._toolbar.shadowRoot.innerHTML='\n                <style>\n                    :host{position:relative;display:block}:host #container{position:absolute;display:flex;flex-direction:column;justify-content:stretch;align-items:stretch;top:0;left:0;right:0;bottom:0}:host #toolbar{display:flex;align-items:center;height:36px}:host #slot-container{flex:1;position:relative}#scroll_lock.lock-scroll:before{content:var(--toolbar-scroll-lock-active--content)}#scroll_lock:before{content:var(--toolbar-scroll-lock--content)}#select_mode:before{content:"highlight_alt"}#edit_mode:before{content:var(--toolbar-edit-mode--content)}#edit_mode.editable:before{content:var(--toolbar-edit-mode-active--content)}:host(.aggregated) #toolbar #edit_mode{display:none}.button:before{color:var(--inactive--color, #ccc);line-height:36px;font-size:14px;font-family:var(--button--font-family, "Material Icons Outlined");vertical-align:bottom;margin:0 11px}.button.editable:before,.button.lock-scroll:before{color:inherit}.button{user-select:none;width:36px;box-sizing:border-box}.button>span{display:none;margin:0;padding:0}.button:hover{opacity:1;display:flex;align-items:center;color:inherit;cursor:pointer;min-width:105px;background-color:#0000000d}.button:hover:before{margin:0 6px 0 11px}.button:hover>span{display:contents;font-size:12px;font-weight:300;line-height:36px}\n\n                </style>\n                <div id="toolbar">\n                    <span id="scroll_lock" class="lock-scroll button"><span>Align Scroll</span></span>\n                    <span id="edit_mode" class="button"><span>Read Only</span></span>\n                </div>\n            ',this._scroll_lock=this._toolbar.shadowRoot.querySelector("#scroll_lock"),this._scroll_lock.addEventListener("click",(()=>this._toggle_scroll_lock())),this._edit_mode=this._toolbar.shadowRoot.querySelector("#edit_mode"),this._edit_mode.addEventListener("click",(()=>{this._toggle_edit_mode(),this.datagrid.draw()}))),this.parentElement.appendChild(this._toolbar)}disconnectedCallback(){this._toolbar.parentElement.removeChild(this._toolbar)}_toggle_edit_mode(e){void 0===e&&(e=!this._is_edit_mode),this._is_edit_mode=e,this.classList.toggle("editable",e),void 0!==this._edit_mode&&(this._edit_mode.classList.toggle("editable",e),this._edit_mode.children[0].textContent=e?"Editable":"Read Only")}_toggle_scroll_lock(e){void 0===e&&(e=!this._is_scroll_lock),this._is_scroll_lock=e,this.classList.toggle("sub-cell-scroll-enabled",!e),void 0!==this._scroll_lock&&(this._scroll_lock.classList.toggle("lock-scroll",e),this._scroll_lock.children[0].textContent=e?"Align Scroll":"Free Scroll")}async activate(e){let t=this.parentElement,n=await t.getTable(!0);this._initialized?await B(this.datagrid,n,e,this.model):(this.innerHTML="",this.appendChild(this.datagrid),this.model=await B(this.datagrid,n,e),Z(this.datagrid,this.model),await q.call(this.model,this.datagrid,t),await $.call(this.model,this.datagrid,t),await oe.call(this.model,this.datagrid,t),await le.call(this.model,this.datagrid,t),this._initialized=!0)}get name(){return"Datagrid"}get select_mode(){return"toggle"}get min_config_columns(){}get config_column_names(){}async draw(e){if(this.parentElement&&await this.activate(e),!this.isConnected||null==this.offsetParent)return;let t=this._save_column_size_overrides(),n=(this.parentElement,this.datagrid.draw({invalid_columns:!0}));this.model._preserve_focus_state?this.model._preserve_focus_state=!1:(this.datagrid.scrollTop=0,this.datagrid.scrollLeft=0,async function(e){F.delete(e);for(let t of e.querySelectorAll("td,th"))t.classList.toggle("psp-row-selected",!1),t.classList.toggle("psp-row-subselected",!1)}(this.datagrid),this.datagrid._resetAutoSize()),this._restore_column_size_overrides(t),await n,this._toolbar.classList.toggle("aggregated",this.model._config.group_by.length>0||this.model._config.split_by.length>0)}async update(e){this.model._num_rows=await e.num_rows(),await this.datagrid.draw()}async resize(){!this.isConnected||null==this.offsetParent||this._initialized&&await this.datagrid.draw()}async clear(){this.datagrid._resetAutoSize(),this.datagrid.clear()}save(){if(this.datagrid){let e=this.datagrid,t={columns:{},scroll_lock:!!this._is_scroll_lock,editable:!!this._is_edit_mode};for(let n of Object.keys(e[b]||{})){let r=Object.assign({},e[b][n]);r?.pos_color&&(r.pos_color=r.pos_color[0],r.neg_color=r.neg_color[0]),r?.color&&(r.color=r.color[0]),t.columns[n]=r}let n=this._save_column_size_overrides();for(let e of Object.keys(n||{}))t.columns[e]||(t.columns[e]={}),t.columns[e].column_size_override=n[e];return JSON.parse(JSON.stringify(t))}return{}}restore(e){let t={};if((e=JSON.parse(JSON.stringify(e))).columns)for(let n of Object.keys(e.columns)){let r=e.columns[n];void 0!==r.column_size_override&&(t[n]=r.column_size_override,delete r.column_size_override),r?.pos_color&&(r.pos_color=R(r.pos_color),r.neg_color=R(r.neg_color)),r?.color&&(r.color=R(r.color)),0===Object.keys(r).length&&delete e.columns[n]}"editable"in e&&this._toggle_edit_mode(e.editable),"scroll_lock"in e&&this._toggle_scroll_lock(e.scroll_lock);let n=this.datagrid;try{n._resetAutoSize()}catch{}this._restore_column_size_overrides(t,!0),n[b]=e.columns}async restyle(e){this.draw(e)}delete(){this.datagrid.table_model&&this.datagrid._resetAutoSize(),this.datagrid.clear()}_save_column_size_overrides(){if(!this._initialized)return[];if(this._cached_column_sizes){let e=this._cached_column_sizes;return this._cached_column_sizes=void 0,e}let e=this.datagrid._column_sizes.override,{group_by:t,columns:n}=this.model._config,r=t?.length>0?t.length+1:0,a={};for(let t of Object.keys(e))if(void 0!==e[t]){let n=t-r;n>-1?a[this.model._column_paths[n]]=e[t]:-1===n&&(a.__ROW_PATH__=e[t])}return a}_restore_column_size_overrides(e,t=!1){if(!this._initialized)return;t&&(this._cached_column_sizes=e);let n={},{group_by:r,columns:a}=this.model._config,i=r?.length>0?r.length+1:0;for(let t of Object.keys(e))if("__ROW_PATH__"===t)n[i-1]=e[t];else{n[this.model._column_paths.indexOf(t)+i]=e[t]}this.datagrid._column_sizes.override=n}};customElements.define("perspective-viewer-datagrid",ce),customElements.whenDefined("perspective-viewer").then((function(){customElements.get("perspective-viewer").registerPlugin("perspective-viewer-datagrid")})),function(){let e=document.createElement("style");e.textContent='regular-table{padding:0;margin:12px 0 0 12px;scrollbar-color:transparent transparent;scrollbar-width:thin;outline:none}regular-table:hover{scrollbar-color:rgba(0,0,0,.3) transparent}.sub-cell-scroll-enabled regular-table table tbody td,.sub-cell-scroll-enabled regular-table table thead th:not(.rt-group-corner){transform:translate(var(--regular-table--transform-x, 0px))}.sub-cell-scroll-enabled regular-table table tbody{transform:translateY(var(--regular-table--transform-y, 0px))}.sub-cell-scroll-enabled regular-table table tbody tr:first-child td,.sub-cell-scroll-enabled regular-table table tbody tr:first-child th{clip-path:polygon(0 var(--regular-table--clip-y, 0),0 200%,200% 200%,200% var(--regular-table--clip-y, 0))}.sub-cell-scroll-enabled regular-table table thead th.rt-group-corner{background:var(--plugin--background, white);z-index:1}.sub-cell-scroll-enabled regular-table table tbody tr td:first-of-type{clip-path:polygon(var(--regular-table--clip-x, 0) 0,var(--regular-table--clip-x, 0) 200%,200% 200%,200% 0)}.sub-cell-scroll-enabled regular-table table tbody tr:first-child td:first-of-type{clip-path:polygon(var(--regular-table--clip-x, 0) var(--regular-table--clip-y, 0),var(--regular-table--clip-x, 0) 200%,200% 200%,200% var(--regular-table--clip-y, 0))}regular-table{font-family:inherit}regular-table div[tabindex]{outline:none}regular-table>div{position:absolute;top:0;left:0;right:0;bottom:0;overflow:hidden}regular-table th{text-align:center}regular-table thead tr:not(:last-child) th{overflow:hidden;max-width:0px}regular-table thead tr:last-child .rt-float,regular-table tbody .rt-float{text-align:right}regular-table thead .rt-integer,regular-table tbody .rt-integer{text-align:right}regular-table tbody th{text-align:left}regular-table span.rt-tree-container{display:flex;align-items:center;height:100%}regular-table thead .rt-string,regular-table tbody .rt-string,regular-table thead .rt-date,regular-table tbody .rt-date,regular-table thead .rt-datetime,regular-table tbody .rt-datetime{text-align:left}regular-table thead tr:last-child th{border-bottom:1px solid #eaedef}regular-table tbody tr:first-child td,regular-table tbody tr:first-child th{border-top:1px solid transparent!important}regular-table th{position:relative}regular-table tr th span.rt-tree-group{margin-left:5px;margin-right:15px;border-left:1px solid #eee;height:100%}regular-table td,regular-table th{white-space:nowrap;font-size:12px;padding:0 5px;height:19px}regular-table tr:hover td{background:#eee;opacity:1}regular-table tr:hover{color:#333}regular-table table *{box-sizing:border-box}regular-table table{position:absolute;overflow:hidden;color:#666;outline:none}regular-table span.rt-row-header-icon{color:#aaa;padding-right:4px;font-family:var(--button--font-family, "Material Icons")}regular-table span.rt-column-header-icon{font-size:10px;padding-left:3px;display:inline-block;width:10px;font-family:var(--button--font-family, "Material Icons")}regular-table span.rt-row-header-icon:hover{color:#1a7da1;text-shadow:0px 0px 3px #1a7da1}regular-table .rt-selected td{background-color:#eee}regular-table .rt-cell-clip{overflow:hidden;text-overflow:ellipsis}regular-table td span.rt-group-name,regular-table th span.rt-group-name{margin-right:-5px;padding-right:5px;padding-left:8px;flex:1;height:100%}regular-table th span.rt-group-name{text-align:left}regular-table td th span.rt-group-leaf,regular-table th span.rt-group-leaf{margin-left:16px;height:100%}regular-table .rt-column-resize{height:100%;width:10px;position:absolute;top:0;right:0;cursor:col-resize}regular-table a{color:var(--rt-pos-cell--color)}regular-table a:visited{color:var(--active--color)}regular-table::-webkit-scrollbar,regular-table::-webkit-scrollbar-corner{background-color:transparent;height:12px;width:12px}regular-table::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#0000;border-radius:5px}regular-table::-webkit-scrollbar-thumb:horizontal{border-bottom:2px solid transparent;border-top:2px solid transparent}regular-table::-webkit-scrollbar-thumb:vertical{border-left:2px solid transparent;border-right:2px solid transparent}regular-table:hover::-webkit-scrollbar-thumb{background-color:#00000026}regular-table::-webkit-scrollbar-thumb:hover{background-color:#0000004d}.psp-header-border:not(.psp-is-top):not(.psp-header-leaf){box-shadow:1px 0 var(--inactive--color, #eaedef)}.psp-header-group{box-shadow:0 10px 0 -9px var(--inactive--color, #eaedef)}.psp-is-top{box-shadow:5px 4px 0 -4px var(--inactive--color, #eaedef)}.psp-is-top.psp-header-group:not(.psp-header-group-corner){box-shadow:5px 4px 0 -4px var(--inactive--color, #eaedef),0 10px 0 -9px var(--inactive--color, #eaedef)}.psp-header-border.psp-header-group:not(.psp-is-top):not(.psp-header-group-corner){box-shadow:1px 0 var(--inactive--color, #eaedef),0 10px 0 -9px var(--inactive--color, #eaedef)}.psp-header-leaf.psp-header-border{box-shadow:5px -4px 0 -4px var(--inactive--color, #eaedef)}tr:only-child th{box-shadow:none!important}regular-table tbody tr:hover th.psp-tree-leaf:not(.psp-row-selected):not(.psp-row-subselected),regular-table tbody tr:hover th.psp-tree-label:not(.psp-row-selected):not(.psp-row-subselected),regular-table tbody tr:hover td:not(.psp-row-selected):not(.psp-row-subselected){border-color:var(--rt-hover--border-color, #c5c9d080)!important;background-color:transparent;box-shadow:0 1px 0 var(--rt-hover--border-color, #c5c9d080),0 3px #0000000d,0 5px #00000003}regular-table tbody tr:hover+tr th.psp-tree-leaf:not(.psp-row-selected):not(.psp-row-subselected),regular-table tbody tr:hover+tr th.psp-tree-label:not(.psp-row-selected):not(.psp-row-subselected),regular-table tbody tr:hover+tr td:not(.psp-row-selected):not(.psp-row-subselected){border-top-color:transparent}regular-table tbody tr th:first-child:not(:empty),regular-table tbody tr th:first-child:empty+th:not(:empty),regular-table tbody tr th:first-child:empty~th:empty+th:not(:empty),regular-table tbody tr td:first-child{border-left-width:1px;border-left-color:transparent}regular-table tbody tr th:last-child,regular-table tbody tr td:last-child{border-right-width:1px;border-right-color:transparent}regular-table tbody tr:hover{color:#161616}regular-table tbody tr:hover th:first-child:not(:empty),regular-table tbody tr:hover th:first-child:empty+th:not(:empty),regular-table tbody tr:hover th:first-child:empty~th:empty+th:not(:empty),regular-table tbody tr:hover td:first-child{border-left-color:var(--rt-hover--border-color, #c5c9d080)!important}regular-table tbody tr:hover th:last-child,regular-table tbody tr:hover td:last-child{border-right-color:var(--rt-hover--border-color, #c5c9d080)!important}perspective-viewer[settings] regular-table .psp-header-leaf{height:36px;vertical-align:top;padding-top:2px}perspective-viewer[settings] regular-table .psp-header-leaf:not(.psp-header-corner):before{font-family:var(--button--font-family, inherit);content:var(--column-style-open-button--content, var(--config-button-icon--content, "\\1f527"));position:absolute;width:calc(100% - 8px);left:5px;bottom:0px;color:var(--inactive--color, #b4b7be)}perspective-viewer[settings] regular-table .psp-header-leaf.psp-menu-enabled:not(.psp-header-corner):before{color:inherit;cursor:pointer}perspective-viewer[settings] regular-table .psp-header-leaf.psp-menu-open:not(.psp-header-corner){pointer-events:none}perspective-viewer[settings] regular-table .psp-header-leaf.psp-menu-open:not(.psp-header-corner):before{content:var(--column-style-close-button--content, "X")}perspective-viewer[settings] regular-table .psp-header-leaf.psp-menu-enabled:hover:before{color:#338dcd}perspective-viewer[settings] regular-table .psp-header-leaf .rt-column-resize{height:18px}.psp-row-selected,:hover .psp-row-selected,:hover th.psp-tree-leaf.psp-row-selected,:hover th.psp-tree-label.psp-row-selected{color:#fff!important;background-color:#ea7319!important;border-color:#ea7319!important}.psp-row-selected.psp-tree-label:not(:hover):before{color:#fff}.psp-row-subselected,:hover .psp-row-subselected,:hover th.psp-tree-leaf.psp-row-subselected,:hover th.psp-tree-label.psp-row-subselected{background:rgba(234,115,25,.2)!important}.psp-error{color:red}td:focus{outline:#666;outline-style:dotted;outline-width:1px}perspective-viewer.dragging regular-table{pointer-events:none}.psp-header-border:last-child{border-right-width:0px}.psp-header-sort-desc:after{font-family:var(--button--font-family, inherit);font-size:10px;content:var(--sort-order-desc--content, "\\2193")}.psp-header-sort-asc:after{font-family:var(--button--font-family, inherit);font-size:10px;content:var(--sort-order-asc--content, "\\2191")}.psp-header-sort-col-desc:after{font-family:var(--button--font-family, inherit);font-size:10px;content:var(--sort-order-col-desc--content, "\\2190")}.psp-header-sort-col-asc:after{font-family:var(--button--font-family, inherit);font-size:10px;content:var(--sort-order-col-asc--content, "\\2192")}tbody th:last-of-type{border-right:1px solid #eaedef;overflow:hidden;text-overflow:ellipsis}tbody th:empty{background-image:linear-gradient(to right,transparent 9px,#eee 10px,transparent 11px);background-repeat:no-repeat;min-width:20px;max-width:20px;pointer-events:none}.psp-tree-label{max-width:0px;min-width:0px}.psp-tree-label:before{color:#ccc;font-family:var(--button--font-family, inherit);padding-right:11px;vertical-align:-1px}.psp-tree-label-expand:before{content:var(--tree-label-expand--content, "+")}.psp-tree-label-collapse:before{content:var(--tree-label-collapse--content, "-")}.psp-tree-label:hover:before{color:#338dcd;text-shadow:0px 0px 5px #338dcd}regular-table thead tr:last-child th{border-bottom-width:1px;border-bottom-color:var(--inactive--color, #eaedef)}.psp-tree-leaf{padding-left:24px}.psp-align-right{text-align:right}.psp-align-left{text-align:left}.psp-positive:not(:focus){color:var(--rt-pos-cell--color, #338dcd)}.psp-negative:not(:focus){color:var(--rt-neg-cell--color, #ff5942)}regular-table table tbody td{min-width:52px!important}.psp-is-width-override .rt-column-resize,.rt-column-resize:hover{border:1px dashed #999;border-bottom-width:0px;border-left-width:0px}.psp-bool-type{font-family:var(--button--font-family, "Material Icons")}.boolean-editable{cursor:pointer}regular-table table{user-select:none;color:#161616;border-collapse:separate}regular-table table th{font-weight:400}regular-table table td,regular-table table th{border-color:#eaedef;height:23px}regular-table table .psp-header-group{text-overflow:ellipsis}regular-table table .psp-header-leaf{border-bottom-width:0px}regular-table table td,regular-table table th.psp-tree-label,regular-table table th.psp-tree-label,regular-table table th.psp-tree-leaf,regular-table table tbody tr:first-child th{border-style:solid;border-width:0px;border-top-width:1px}regular-table table tbody th:empty{background-position:0px -10px}\n',document.head.insertBefore(e,document.head.firstChild)}()},2687:(e,t,n)=>{"use strict";const r=window.ClipboardItem;async function a(){return await new Worker(n.p+"editor.worker.js")}const i=window.ResizeObserver;let o,l=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});l.decode();let c=null;function s(){return null!==c&&c.buffer===o.memory.buffer||(c=new Uint8Array(o.memory.buffer)),c}function u(e,t){return l.decode(s().subarray(e,e+t))}const f=new Array(32).fill(void 0);f.push(void 0,null,!0,!1);let d=f.length;function h(e){d===f.length&&f.push(f.length+1);const t=d;return d=f[t],f[t]=e,t}function g(e){return f[e]}let p=0,b=new TextEncoder("utf-8");const _="function"==typeof b.encodeInto?function(e,t){return b.encodeInto(e,t)}:function(e,t){const n=b.encode(e);return t.set(n),{read:e.length,written:n.length}};function m(e,t,n){if(void 0===n){const n=b.encode(e),r=t(n.length);return s().subarray(r,r+n.length).set(n),p=n.length,r}let r=e.length,a=t(r);const i=s();let o=0;for(;o<r;o++){const t=e.charCodeAt(o);if(t>127)break;i[a+o]=t}if(o!==r){0!==o&&(e=e.slice(o)),a=n(a,r,r=o+3*e.length);const t=s().subarray(a+o,a+r);o+=_(e,t).written}return p=o,a}let v=null;function y(){return null!==v&&v.buffer===o.memory.buffer||(v=new Int32Array(o.memory.buffer)),v}function w(e){const t=g(e);return function(e){e<36||(f[e]=d,d=e)}(e),t}function x(e){return null==e}let S=null;function k(e,t,n,r){const a={a:e,b:t,cnt:1,dtor:n},i=(...e)=>{a.cnt++;const t=a.a;a.a=0;try{return r(t,a.b,...e)}finally{0==--a.cnt?o.__wbindgen_export_2.get(a.dtor)(t,a.b):a.a=t}};return i.original=a,i}function A(e,t,n){return w(o.__wbindgen_export_3(e,t,h(n)))}function E(e,t,n,r){const a={a:e,b:t,cnt:1,dtor:n},i=(...e)=>{a.cnt++;try{return r(a.a,a.b,...e)}finally{0==--a.cnt&&(o.__wbindgen_export_2.get(a.dtor)(a.a,a.b),a.a=0)}};return i.original=a,i}function M(e,t,n){return w(o.__wbindgen_export_4(e,t,h(n)))}function V(e,t){o.__wbindgen_export_5(e,t)}function C(e,t,n,r,a){return w(o.__wbindgen_export_6(e,t,h(n),h(r),h(a)))}function z(e,t,n){o.__wbindgen_export_7(e,t,h(n))}function T(e,t,n){o.__wbindgen_export_8(e,t,h(n))}function N(e,t,n){o.__wbindgen_export_9(e,t,h(n))}function P(e,t,n){o.__wbindgen_export_10(e,t,h(n))}function O(e,t){o.__wbindgen_export_11(e,t)}function D(e,t,n){o.__wbindgen_export_12(e,t,h(n))}let L=32;function I(e,t,n){try{o.__wbindgen_export_13(e,t,function(e){if(1==L)throw new Error("out of js stack");return f[--L]=e,L}(n))}finally{f[L++]=void 0}}function R(e,t){try{return e.apply(this,t)}catch(e){o.__wbindgen_export_14(h(e))}}let B=null;function j(e,t){const n=(null!==B&&B.buffer===o.memory.buffer||(B=new Uint32Array(o.memory.buffer)),B).subarray(e/4,e/4+t),r=[];for(let e=0;e<n.length;e++)r.push(w(n[e]));return r}class Z{static __wrap(e){const t=Object.create(Z.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();o.__wbg_copydropdownmenuelement_free(e)}constructor(e){var t=o.copydropdownmenuelement_new(h(e));return Z.__wrap(t)}open(e){o.copydropdownmenuelement_open(this.ptr,h(e))}hide(){o.copydropdownmenuelement_hide(this.ptr)}unsafe_set_model(e){o.copydropdownmenuelement_unsafe_set_model(this.ptr,e)}connected_callback(){o.copydropdownmenuelement_connected_callback(this.ptr)}}class H{static __wrap(e){const t=Object.create(H.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();o.__wbg_exportdropdownmenuelement_free(e)}constructor(e){var t=o.exportdropdownmenuelement_new(h(e));return H.__wrap(t)}open(e){o.exportdropdownmenuelement_open(this.ptr,h(e))}hide(){o.exportdropdownmenuelement_hide(this.ptr)}unsafe_set_model(e){o.exportdropdownmenuelement_unsafe_set_model(this.ptr,e)}connected_callback(){o.exportdropdownmenuelement_connected_callback(this.ptr)}}class F{static __wrap(e){const t=Object.create(F.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();o.__wbg_perspectivenumbercolumnstyleelement_free(e)}constructor(e,t,n){var r=o.perspectivenumbercolumnstyleelement_new(h(e),h(t),h(n));return F.__wrap(r)}reset(e,t){o.perspectivenumbercolumnstyleelement_reset(this.ptr,h(e),h(t))}open(e){o.perspectivenumbercolumnstyleelement_open(this.ptr,h(e))}close(){o.perspectivenumbercolumnstyleelement_close(this.ptr)}destroy(){const e=this.__destroy_into_raw();o.perspectivenumbercolumnstyleelement_destroy(e)}connected_callback(){o.perspectivenumbercolumnstyleelement_connected_callback(this.ptr)}}class W{static __wrap(e){const t=Object.create(W.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();o.__wbg_perspectivestringcolumnstyleelement_free(e)}constructor(e,t,n){var r=o.perspectivestringcolumnstyleelement_new(h(e),h(t),h(n));return W.__wrap(r)}reset(e){o.perspectivestringcolumnstyleelement_reset(this.ptr,h(e))}open(e){o.perspectivestringcolumnstyleelement_open(this.ptr,h(e))}close(){o.perspectivestringcolumnstyleelement_close(this.ptr)}destroy(){const e=this.__destroy_into_raw();o.perspectivestringcolumnstyleelement_destroy(e)}connected_callback(){o.perspectivestringcolumnstyleelement_connected_callback(this.ptr)}}class Y{static __wrap(e){const t=Object.create(Y.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();o.__wbg_perspectiveviewerelement_free(e)}constructor(e){var t=o.perspectiveviewerelement_new(h(e));return Y.__wrap(t)}connected_callback(){o.perspectiveviewerelement_connected_callback(this.ptr)}js_load(e){return w(o.perspectiveviewerelement_js_load(this.ptr,h(e)))}js_delete(){return w(o.perspectiveviewerelement_js_delete(this.ptr))}js_get_view(){return w(o.perspectiveviewerelement_js_get_view(this.ptr))}js_get_table(e){return w(o.perspectiveviewerelement_js_get_table(this.ptr,e))}js_flush(){return w(o.perspectiveviewerelement_js_flush(this.ptr))}js_restore(e){return w(o.perspectiveviewerelement_js_restore(this.ptr,h(e)))}js_save(e){return w(o.perspectiveviewerelement_js_save(this.ptr,h(e)))}js_download(e){return w(o.perspectiveviewerelement_js_download(this.ptr,e))}js_copy(e){return w(o.perspectiveviewerelement_js_copy(this.ptr,e))}js_reset(e){return w(o.perspectiveviewerelement_js_reset(this.ptr,h(e)))}js_resize(e){return w(o.perspectiveviewerelement_js_resize(this.ptr,e))}js_set_auto_size(e){o.perspectiveviewerelement_js_set_auto_size(this.ptr,e)}js_get_edit_port(){return o.perspectiveviewerelement_js_get_edit_port(this.ptr)}js_restyle_element(){return w(o.perspectiveviewerelement_js_restyle_element(this.ptr))}js_reset_themes(e){return w(o.perspectiveviewerelement_js_reset_themes(this.ptr,h(e)))}js_set_throttle(e){o.perspectiveviewerelement_js_set_throttle(this.ptr,!x(e),x(e)?0:e)}js_toggle_config(e){return w(o.perspectiveviewerelement_js_toggle_config(this.ptr,x(e)?16777215:e?1:0))}js_get_all_plugins(){return w(o.perspectiveviewerelement_js_get_all_plugins(this.ptr))}js_get_plugin(e){var t=x(e)?0:m(e,o.__wbindgen_export_0,o.__wbindgen_export_1),n=p;return w(o.perspectiveviewerelement_js_get_plugin(this.ptr,t,n))}js_unsafe_get_model(){return o.perspectiveviewerelement_js_unsafe_get_model(this.ptr)}}const q=async function e(t){void 0===t&&(t=new URL(n(78227),n.b));const l={wbg:{}};l.wbg.__wbindgen_json_parse=function(e,t){return h(JSON.parse(u(e,t)))},l.wbg.__wbindgen_json_serialize=function(e,t){const n=g(t);var r=m(JSON.stringify(void 0===n?null:n),o.__wbindgen_export_0,o.__wbindgen_export_1),a=p;y()[e/4+1]=a,y()[e/4+0]=r},l.wbg.__wbindgen_object_drop_ref=function(e){w(e)},l.wbg.__wbindgen_object_clone_ref=function(e){return h(g(e))},l.wbg.__wbindgen_jsval_eq=function(e,t){return g(e)===g(t)},l.wbg.__wbindgen_cb_drop=function(e){const t=w(e).original;if(1==t.cnt--)return t.a=0,!0;return!1},l.wbg.__wbindgen_string_new=function(e,t){return h(u(e,t))},l.wbg.__wbg_restore_f1fbc066c9637e24=function(e,t){g(e).restore(g(t))},l.wbg.__wbg_tocsv_2ec429ab1e0bb451=function(){return R((function(e,t){return h(g(e).to_csv(w(t)))}),arguments)},l.wbg.__wbg_numcolumns_6a8d86bb12e88692=function(){return R((function(e){return h(g(e).num_columns())}),arguments)},l.wbg.__wbg_register_1a0bbab9f7619662=function(e,t){g(e).register(w(t))},l.wbg.__wbg_setMonarchTokensProvider_1fa51a80d68f1ac1=function(e,t,n,r){g(e).setMonarchTokensProvider(u(t,n),w(r))},l.wbg.__wbg_setLanguageConfiguration_d6c86e31029d9ef5=function(e,t,n,r){g(e).setLanguageConfiguration(u(t,n),w(r))},l.wbg.__wbg_registerCompletionItemProvider_61ecf83f366d2e16=function(e,t,n,r){g(e).registerCompletionItemProvider(u(t,n),w(r))},l.wbg.__wbg_columns_b15d8d6c4a353055=function(){return R((function(e){return h(g(e).columns())}),arguments)},l.wbg.__wbg_toarrow_e23fb00f4ad5e9f8=function(){return R((function(e){return h(g(e).to_arrow())}),arguments)},l.wbg.__wbg_schema_ad095ebcdb4dd76f=function(){return R((function(e){return h(g(e).schema())}),arguments)},l.wbg.__wbg_size_ea3857b7b9c01a01=function(){return R((function(e){return h(g(e).size())}),arguments)},l.wbg.__wbg_draw_f7001e36a5451367=function(){return R((function(e,t,n,r,a,i,o){return h(g(e).draw(g(t),0===n?void 0:r>>>0,0===a?void 0:i>>>0,0!==o))}),arguments)},l.wbg.__wbg_delete_cd3c8d59be8fee68=function(){return R((function(e){return h(g(e).delete())}),arguments)},l.wbg.__wbg_tocolumns_d45b3454003d346b=function(){return R((function(e){return h(g(e).to_columns())}),arguments)},l.wbg.__wbg_numrows_dfd6ed430e0147ff=function(){return R((function(e){return h(g(e).num_rows())}),arguments)},l.wbg.__wbg_validateexpressions_eca5656ca2844419=function(){return R((function(e,t){return h(g(e).validate_expressions(w(t)))}),arguments)},l.wbg.__wbg_monacomodule_9d24db234e2e1549=function(){return h(async function(){return await n.e(6641).then(n.bind(n,94689))}())},l.wbg.__wbg_default_3edfeada4cfc405b=function(){return h(a())},l.wbg.__wbg_restyle_d98bfa634bd438a3=function(){return R((function(e,t){return h(g(e).restyle(g(t)))}),arguments)},l.wbg.__wbg_schema_b1cd087318fe451d=function(){return R((function(e){return h(g(e).schema())}),arguments)},l.wbg.__wbg_view_e3b1f5dab63015c7=function(){return R((function(e,t){return h(g(e).view(g(t)))}),arguments)},l.wbg.__wbg_resize_8a11e82f499e6d89=function(){return R((function(e){return h(g(e).resize())}),arguments)},l.wbg.__wbg_makeport_8c752476acd3fe27=function(){return R((function(e){return h(g(e).make_port())}),arguments)},l.wbg.__wbg_update_b0b2df3342b63ce2=function(){return R((function(e,t,n,r,a,i,o){return h(g(e).update(g(t),0===n?void 0:r>>>0,0===a?void 0:i>>>0,0!==o))}),arguments)},l.wbg.__wbindgen_is_null=function(e){return null===g(e)},l.wbg.__wbg_lineNumber_6b2a1c0159871238=function(e){return g(e).lineNumber},l.wbg.__wbg_column_885264f87b0a4a0b=function(e){return g(e).column},l.wbg.__wbg_findTokenIndexAtOffset_847b202bf8c16c65=function(e,t){return g(e).findTokenIndexAtOffset(t>>>0)},l.wbg.__wbg_getClassName_5bc865fe97705383=function(e,t){return h(g(e).getClassName(t>>>0))},l.wbg.__wbg_triggerKind_9e780becc9ed4ce7=function(e){return g(e).triggerKind},l.wbg.__wbg_delete_55c2b041a4419d5d=function(e){g(e).delete()},l.wbg.__wbg_setrenderwarning_2b6ccbc5a0b49b4f=function(e,t){g(e).render_warning=0!==t},l.wbg.__wbindgen_is_undefined=function(e){return void 0===g(e)},l.wbg.__wbg_new_fa9aa30b261aba73=function(e){return h(new r(g(e)))},l.wbg.__wbg_editor_91084c85a69a3fde=function(e){return h(g(e).editor)},l.wbg.__wbg_languages_aca44d3eda97078c=function(e){return h(g(e).languages)},l.wbg.__wbg_create_806f286d290f99c8=function(e,t,n){return h(g(e).create(w(t),w(n)))},l.wbg.__wbg_defineTheme_c4f18cdd46a4014d=function(e,t,n,r){g(e).defineTheme(u(t,n),w(r))},l.wbg.__wbg_setTheme_7cb365ba1d2ad549=function(e,t,n){g(e).setTheme(u(t,n))},l.wbg.__wbg_setModelMarkers_f49dfc56a0816242=function(e,t,n,r,a){g(e).setModelMarkers(g(t),u(n,r),g(a))},l.wbg.__wbg_layout_901473f7828d2488=function(e,t){g(e).layout(g(t))},l.wbg.__wbg_getModel_4ba1a741bc1eaaff=function(e){return h(g(e).getModel())},l.wbg.__wbg_getValue_e8d4002de327ab32=function(e){return h(g(e).getValue())},l.wbg.__wbg_setValue_464f1cd5da0d99d4=function(e,t,n){g(e).setValue(u(t,n))},l.wbg.__wbg_setPosition_53889da2861e22f4=function(e,t){g(e).setPosition(g(t))},l.wbg.__wbg_addCommand_0087418877d24153=function(e,t,n){g(e).addCommand(t>>>0,g(n))},l.wbg.__wbg_focus_d1521065885d8ced=function(e){g(e).focus()},l.wbg.__wbg_onDidChangeContent_333bdbf90ce64b26=function(e,t){g(e).onDidChangeContent(g(t))},l.wbg.__wbg_getLineTokens_6c81bc0a3f533604=function(e,t){return h(g(e).getLineTokens(t>>>0))},l.wbg.__wbg_onupdate_b8cf42908fc20235=function(e,t){g(e).on_update(g(t))},l.wbg.__wbg_removeupdate_77fe2a7740d00e48=function(e,t){g(e).remove_update(g(t))},l.wbg.__wbg_errors_20c512f8dca36c8d=function(e){return h(g(e).errors)},l.wbg.__wbg_expressionschema_7a07dfdf1c19fa1f=function(e){return h(g(e).expression_schema)},l.wbg.__wbg_expressionalias_c0691678ddeeed2e=function(e){return h(g(e).expression_alias)},l.wbg.__wbg_name_4e59ce156796a1db=function(e,t){var n=m(g(t).name,o.__wbindgen_export_0,o.__wbindgen_export_1),r=p;y()[e/4+1]=r,y()[e/4+0]=n},l.wbg.__wbg_maxcolumns_41c0acb329b63f5a=function(e,t){var n=g(t).max_columns;y()[e/4+1]=x(n)?0:n,y()[e/4+0]=!x(n)},l.wbg.__wbg_maxcells_240ed21a2cc23a45=function(e,t){var n=g(t).max_cells;y()[e/4+1]=x(n)?0:n,y()[e/4+0]=!x(n)},l.wbg.__wbg_renderwarning_28b6ae4b73e78f68=function(e){var t=g(e).render_warning;return x(t)?16777215:t?1:0},l.wbg.__wbg_selectmode_2d072add5bfb5e92=function(e){return h(g(e).select_mode)},l.wbg.__wbg_minconfigcolumns_fc8660538ce7232d=function(e,t){var n=g(t).min_config_columns;y()[e/4+1]=x(n)?0:n,y()[e/4+0]=!x(n)},l.wbg.__wbg_configcolumnnames_1a26628997420d20=function(e){var t=g(e).config_column_names;return x(t)?0:h(t)},l.wbg.__wbg_save_5742b4ec09ae0d34=function(e){return h(g(e).save())},l.wbg.__wbg_new_fcda59553629199d=function(e){return h(new i(g(e)))},l.wbg.__wbg_observe_86c9286ddb2080e3=function(e,t){g(e).observe(g(t))},l.wbg.__wbg_unobserve_6d276eada6182ea1=function(e,t){g(e).unobserve(g(t))},l.wbg.__wbg_contentRect_3f8cd97f6e2969a6=function(e){return h(g(e).contentRect)},l.wbg.__wbg_listenerid_25425097ae5fdb72=function(e,t){var n=g(t).__yew_listener_id;y()[e/4+1]=x(n)?0:n,y()[e/4+0]=!x(n)},l.wbg.__wbg_setlistenerid_007d4751f70f0e32=function(e,t){g(e).__yew_listener_id=t>>>0},l.wbg.__wbg_setsubtreeid_6966527169be2ec4=function(e,t){g(e).__yew_subtree_id=t>>>0},l.wbg.__wbg_setcachekey_a9744e4c550ca52b=function(e,t){g(e).__yew_subtree_cache_key=t>>>0},l.wbg.__wbg_subtreeid_05e7e8ba671b1a4e=function(e,t){var n=g(t).__yew_subtree_id;y()[e/4+1]=x(n)?0:n,y()[e/4+0]=!x(n)},l.wbg.__wbg_cachekey_57f0ac7b26342cf7=function(e,t){var n=g(t).__yew_subtree_cache_key;y()[e/4+1]=x(n)?0:n,y()[e/4+0]=!x(n)},l.wbg.__wbg_new_693216e109162396=function(){return h(new Error)},l.wbg.__wbg_stack_0ddaca5d1abfb52f=function(e,t){var n=m(g(t).stack,o.__wbindgen_export_0,o.__wbindgen_export_1),r=p;y()[e/4+1]=r,y()[e/4+0]=n},l.wbg.__wbg_error_09919627ac0992f5=function(e,t){try{console.error(u(e,t))}finally{o.__wbindgen_export_15(e,t)}},l.wbg.__wbindgen_number_new=function(e){return h(e)},l.wbg.__wbg_warn_2aa0e7178e1d35f6=function(e,t){var n=j(e,t).slice();o.__wbindgen_export_15(e,4*t),console.warn(...n)},l.wbg.__wbg_newwithu8arraysequence_fdc7895dacd60d21=function(){return R((function(e){return h(new Blob(g(e)))}),arguments)},l.wbg.__wbg_newwithstrsequenceandoptions_becd1cf522768c06=function(){return R((function(e,t){return h(new Blob(g(e),g(t)))}),arguments)},l.wbg.__wbg_write_10adfe8afa301d18=function(e,t){return h(g(e).write(g(t)))},l.wbg.__wbg_length_294c22a18ede524b=function(e){return g(e).length},l.wbg.__wbg_item_8eca8b8cdf63f525=function(e,t){var n=g(e).item(t>>>0);return x(n)?0:h(n)},l.wbg.__wbg_length_d2057dfdd5fdecf4=function(e){return g(e).length},l.wbg.__wbg_getPropertyValue_937a708feb88202f=function(){return R((function(e,t,n,r){var a=m(g(t).getPropertyValue(u(n,r)),o.__wbindgen_export_0,o.__wbindgen_export_1),i=p;y()[e/4+1]=i,y()[e/4+0]=a}),arguments)},l.wbg.__wbg_item_dfcc92ceae8b4304=function(e,t,n){var r=m(g(t).item(n>>>0),o.__wbindgen_export_0,o.__wbindgen_export_1),a=p;y()[e/4+1]=a,y()[e/4+0]=r},l.wbg.__wbg_setProperty_dccccce3a52c26db=function(){return R((function(e,t,n,r,a){g(e).setProperty(u(t,n),u(r,a))}),arguments)},l.wbg.__wbg_instanceof_CssStyleRule_e93e1152e50f8d9b=function(e){return g(e)instanceof CSSStyleRule},l.wbg.__wbg_selectorText_56b42d9cf7c91aa1=function(e,t){var n=m(g(t).selectorText,o.__wbindgen_export_0,o.__wbindgen_export_1),r=p;y()[e/4+1]=r,y()[e/4+0]=n},l.wbg.__wbg_style_dbd768c92c03ab2c=function(e){return h(g(e).style)},l.wbg.__wbg_cssRules_b1206f989651c44d=function(){return R((function(e){return h(g(e).cssRules)}),arguments)},l.wbg.__wbg_new_3af016a292a0ea38=function(){return R((function(e,t){return h(new CustomEvent(u(e,t)))}),arguments)},l.wbg.__wbg_newwitheventinitdict_183544aa2c542424=function(){return R((function(e,t,n){return h(new CustomEvent(u(e,t),g(n)))}),arguments)},l.wbg.__wbg_setDragImage_97e7f5b52f6e9f92=function(e,t,n,r){g(e).setDragImage(g(t),n,r)},l.wbg.__wbg_readyState_be8f2b804adc7ff6=function(e,t){var n=m(g(t).readyState,o.__wbindgen_export_0,o.__wbindgen_export_1),r=p;y()[e/4+1]=r,y()[e/4+0]=n},l.wbg.__wbg_body_525168d9e773c3f8=function(e){var t=g(e).body;return x(t)?0:h(t)},l.wbg.__wbg_styleSheets_a23fea89b8b91939=function(e){return h(g(e).styleSheets)},l.wbg.__wbg_fonts_62f407546d8daeb4=function(e){return h(g(e).fonts)},l.wbg.__wbg_createElement_ac65a6ce60c4812c=function(){return R((function(e,t,n){return h(g(e).createElement(u(t,n)))}),arguments)},l.wbg.__wbg_createElementNS_267edeea0c97331c=function(){return R((function(e,t,n,r,a){return h(g(e).createElementNS(0===t?void 0:u(t,n),u(r,a)))}),arguments)},l.wbg.__wbg_createTextNode_442392ad92e75695=function(e,t,n){return h(g(e).createTextNode(u(t,n)))},l.wbg.__wbg_width_a04d387a0e0ffe94=function(e){return g(e).width},l.wbg.__wbg_height_f7c5c956730ab37a=function(e){return g(e).height},l.wbg.__wbg_width_4a83a800a544b73a=function(e){return g(e).width},l.wbg.__wbg_height_76d64c7ff32eb400=function(e){return g(e).height},l.wbg.__wbg_top_22e7024d271b5677=function(e){return g(e).top},l.wbg.__wbg_left_f2f24ba3851b8295=function(e){return g(e).left},l.wbg.__wbg_get_dc5a3f4246f4363e=function(e,t,n,r){var a=g(t)[u(n,r)],i=x(a)?0:m(a,o.__wbindgen_export_0,o.__wbindgen_export_1),l=p;y()[e/4+1]=l,y()[e/4+0]=i},l.wbg.__wbg_set_6bc5ebabff049b08=function(){return R((function(e,t,n,r,a){g(e)[u(t,n)]=u(r,a)}),arguments)},l.wbg.__wbg_delete_bdb7962606ab7ffc=function(e,t,n){delete g(e)[u(t,n)]},l.wbg.__wbg_add_3b4cecc512643e9f=function(){return R((function(e,t,n){g(e).add(u(t,n))}),arguments)},l.wbg.__wbg_remove_c15603553c81dc31=function(){return R((function(e,t,n){g(e).remove(u(t,n))}),arguments)},l.wbg.__wbg_dataTransfer_7916d51ea966dcb4=function(e){var t=g(e).dataTransfer;return x(t)?0:h(t)},l.wbg.__wbg_instanceof_Element_8143882371652178=function(e){return g(e)instanceof Element},l.wbg.__wbg_namespaceURI_f65a7a956acf4bc5=function(e,t){var n=g(t).namespaceURI,r=x(n)?0:m(n,o.__wbindgen_export_0,o.__wbindgen_export_1),a=p;y()[e/4+1]=a,y()[e/4+0]=r},l.wbg.__wbg_classList_bbb57a7d3cc23c85=function(e){return h(g(e).classList)},l.wbg.__wbg_scrollTop_03d79a099b9a21e7=function(e){return g(e).scrollTop},l.wbg.__wbg_setscrollTop_b9abc042a6938811=function(e,t){g(e).scrollTop=t},l.wbg.__wbg_clientWidth_acc83939b1545b91=function(e){return g(e).clientWidth},l.wbg.__wbg_clientHeight_95c707ac8248c652=function(e){return g(e).clientHeight},l.wbg.__wbg_children_283b5c3c4312d771=function(e){return h(g(e).children)},l.wbg.__wbg_attachShadow_f0d8083616f120aa=function(){return R((function(e,t){return h(g(e).attachShadow(g(t)))}),arguments)},l.wbg.__wbg_getAttribute_0754c52f6bcda842=function(e,t,n,r){var a=g(t).getAttribute(u(n,r)),i=x(a)?0:m(a,o.__wbindgen_export_0,o.__wbindgen_export_1),l=p;y()[e/4+1]=l,y()[e/4+0]=i},l.wbg.__wbg_getBoundingClientRect_dbd899b7c945c55d=function(e){return h(g(e).getBoundingClientRect())},l.wbg.__wbg_hasAttribute_4c5fc91198e862c3=function(e,t,n){return g(e).hasAttribute(u(t,n))},l.wbg.__wbg_matches_7e22d2c3664b9d8d=function(){return R((function(e,t,n){return g(e).matches(u(t,n))}),arguments)},l.wbg.__wbg_removeAttribute_16e5bf3866aa53e8=function(){return R((function(e,t,n){g(e).removeAttribute(u(t,n))}),arguments)},l.wbg.__wbg_setAttribute_27ca65e30a1c3c4a=function(){return R((function(e,t,n,r,a){g(e).setAttribute(u(t,n),u(r,a))}),arguments)},l.wbg.__wbg_toggleAttribute_8cf952af952c2cc5=function(){return R((function(e,t,n,r){return g(e).toggleAttribute(u(t,n),0!==r)}),arguments)},l.wbg.__wbg_target_2dfa485f32a6d005=function(e){var t=g(e).target;return x(t)?0:h(t)},l.wbg.__wbg_cancelBubble_185bb624c1c2e4ee=function(e){return g(e).cancelBubble},l.wbg.__wbg_composedPath_85cb5c926bd8d924=function(e){return h(g(e).composedPath())},l.wbg.__wbg_preventDefault_7c4d18eb2bb1a26a=function(e){g(e).preventDefault()},l.wbg.__wbg_stopPropagation_11ccdc30c46ad19a=function(e){g(e).stopPropagation()},l.wbg.__wbg_addEventListener_936431894dca4639=function(){return R((function(e,t,n,r){g(e).addEventListener(u(t,n),g(r))}),arguments)},l.wbg.__wbg_addEventListener_6d9a78a5d277bdaf=function(){return R((function(e,t,n,r,a){g(e).addEventListener(u(t,n),g(r),g(a))}),arguments)},l.wbg.__wbg_dispatchEvent_bacbc3eeb0d17fcd=function(){return R((function(e,t){return g(e).dispatchEvent(g(t))}),arguments)},l.wbg.__wbg_removeEventListener_6e1e9e37bdc74923=function(){return R((function(e,t,n,r){g(e).removeEventListener(u(t,n),g(r))}),arguments)},l.wbg.__wbg_instanceof_FontFace_095633da5a60e4d1=function(e){return g(e)instanceof FontFace},l.wbg.__wbg_family_8b33871beb47388b=function(e,t){var n=m(g(t).family,o.__wbindgen_export_0,o.__wbindgen_export_1),r=p;y()[e/4+1]=r,y()[e/4+0]=n},l.wbg.__wbg_weight_cb1f0ded9c3fcd29=function(e,t){var n=m(g(t).weight,o.__wbindgen_export_0,o.__wbindgen_export_1),r=p;y()[e/4+1]=r,y()[e/4+0]=n},l.wbg.__wbg_loaded_b07b4ee5c31f9abc=function(){return R((function(e){return h(g(e).loaded)}),arguments)},l.wbg.__wbg_values_705706cce046e96c=function(e){return h(g(e).values())},l.wbg.__wbg_next_c7f69285044a0543=function(){return R((function(e){return h(g(e).next())}),arguments)},l.wbg.__wbg_item_5a5f92bba46832d3=function(e,t){var n=g(e).item(t>>>0);return x(n)?0:h(n)},l.wbg.__wbg_dataset_7f3bc0a0cd4f7382=function(e){return h(g(e).dataset)},l.wbg.__wbg_style_25309daade79abb3=function(e){return h(g(e).style)},l.wbg.__wbg_offsetParent_21a2a48c194cfe05=function(e){var t=g(e).offsetParent;return x(t)?0:h(t)},l.wbg.__wbg_offsetWidth_7dd96a3df070d552=function(e){return g(e).offsetWidth},l.wbg.__wbg_offsetHeight_fe07e4498698e768=function(e){return g(e).offsetHeight},l.wbg.__wbg_blur_b336d41728268f5a=function(){return R((function(e){g(e).blur()}),arguments)},l.wbg.__wbg_click_a22518ab89bfd9b8=function(e){g(e).click()},l.wbg.__wbg_focus_2fac919cca20d33b=function(){return R((function(e){g(e).focus()}),arguments)},l.wbg.__wbg_checked_dc000202a8fa9328=function(e){return g(e).checked},l.wbg.__wbg_setchecked_dc7daac77dc0e73e=function(e,t){g(e).checked=0!==t},l.wbg.__wbg_value_f4c762446c572119=function(e,t){var n=m(g(t).value,o.__wbindgen_export_0,o.__wbindgen_export_1),r=p;y()[e/4+1]=r,y()[e/4+0]=n},l.wbg.__wbg_setvalue_65a652cfd99c8a4a=function(e,t,n){g(e).value=u(t,n)},l.wbg.__wbg_value_265001c20fda4531=function(e,t){var n=m(g(t).value,o.__wbindgen_export_0,o.__wbindgen_export_1),r=p;y()[e/4+1]=r,y()[e/4+0]=n},l.wbg.__wbg_setvalue_a46eeb72562081c1=function(e,t,n){g(e).value=u(t,n)},l.wbg.__wbg_value_d8dfe9a459c6ea2a=function(e,t){var n=m(g(t).value,o.__wbindgen_export_0,o.__wbindgen_export_1),r=p;y()[e/4+1]=r,y()[e/4+0]=n},l.wbg.__wbg_setvalue_b1b2f2945b1cb6ef=function(e,t,n){g(e).value=u(t,n)},l.wbg.__wbg_keyCode_218ac9c01e06b3d5=function(e){return g(e).keyCode},l.wbg.__wbg_clientX_5bbce6c078e1510e=function(e){return g(e).clientX},l.wbg.__wbg_clientY_af6c4369507b54f0=function(e){return g(e).clientY},l.wbg.__wbg_shiftKey_257c3f6b1ca35555=function(e){return g(e).shiftKey},l.wbg.__wbg_relatedTarget_c63203073e65b8de=function(e){var t=g(e).relatedTarget;return x(t)?0:h(t)},l.wbg.__wbg_clipboard_a304e2b83d0400c6=function(e){return h(g(e).clipboard)},l.wbg.__wbg_isConnected_021a4fb42a3d7537=function(e){return g(e).isConnected},l.wbg.__wbg_parentNode_e1dd029be06cee39=function(e){var t=g(e).parentNode;return x(t)?0:h(t)},l.wbg.__wbg_parentElement_b8943ca3eef7678d=function(e){var t=g(e).parentElement;return x(t)?0:h(t)},l.wbg.__wbg_lastChild_60bd092ff114802e=function(e){var t=g(e).lastChild;return x(t)?0:h(t)},l.wbg.__wbg_setnodeValue_ef88f21c4f2101f5=function(e,t,n){g(e).nodeValue=0===t?void 0:u(t,n)},l.wbg.__wbg_appendChild_6ed236bb79c198df=function(){return R((function(e,t){return h(g(e).appendChild(g(t)))}),arguments)},l.wbg.__wbg_contains_11705db278357c60=function(e,t){return g(e).contains(g(t))},l.wbg.__wbg_insertBefore_7159f24556965e30=function(){return R((function(e,t,n){return h(g(e).insertBefore(g(t),g(n)))}),arguments)},l.wbg.__wbg_removeChild_f633f19eb895b696=function(){return R((function(e,t){return h(g(e).removeChild(g(t)))}),arguments)},l.wbg.__wbg_now_44a034aa2e1d73dd=function(e){return g(e).now()},l.wbg.__wbg_instanceof_ShadowRoot_17fc69013b5c44c6=function(e){return g(e)instanceof ShadowRoot},l.wbg.__wbg_host_786667ae381479f7=function(e){return h(g(e).host)},l.wbg.__wbg_length_568451d1cca15a65=function(e){return g(e).length},l.wbg.__wbg_item_48316bfa2c39d796=function(e,t){var n=g(e).item(t>>>0);return x(n)?0:h(n)},l.wbg.__wbg_createObjectURL_a97d76bcc0a4968c=function(){return R((function(e,t){var n=m(URL.createObjectURL(g(t)),o.__wbindgen_export_0,o.__wbindgen_export_1),r=p;y()[e/4+1]=r,y()[e/4+0]=n}),arguments)},l.wbg.__wbg_instanceof_Window_11e25482011fc506=function(e){return g(e)instanceof Window},l.wbg.__wbg_document_5aff8cd83ef968f5=function(e){var t=g(e).document;return x(t)?0:h(t)},l.wbg.__wbg_navigator_5c90643c2a2b6cda=function(e){return h(g(e).navigator)},l.wbg.__wbg_innerWidth_8c5001da2fdd6a9e=function(){return R((function(e){return h(g(e).innerWidth)}),arguments)},l.wbg.__wbg_innerHeight_03d3f1d9eb5f7034=function(){return R((function(e){return h(g(e).innerHeight)}),arguments)},l.wbg.__wbg_performance_9d1ecf711183e1d5=function(e){var t=g(e).performance;return x(t)?0:h(t)},l.wbg.__wbg_getComputedStyle_344a4d9212ebf966=function(){return R((function(e,t){var n=g(e).getComputedStyle(g(t));return x(n)?0:h(n)}),arguments)},l.wbg.__wbg_requestAnimationFrame_1fb079d39e1b8a26=function(){return R((function(e,t){return g(e).requestAnimationFrame(g(t))}),arguments)},l.wbg.__wbg_setTimeout_ce28a603906ebcbb=function(){return R((function(e,t,n){return g(e).setTimeout(g(t),n)}),arguments)},l.wbg.__wbg_error_d95afd6217cfd219=function(e){console.error(g(e))},l.wbg.__wbg_error_0147c5cf9d9745cf=function(e,t,n){console.error(g(e),g(t),g(n))},l.wbg.__wbg_log_9a99fb1af846153b=function(e){console.log(g(e))},l.wbg.__wbg_warn_b39e749f1dc02058=function(e){console.warn(g(e))},l.wbg.__wbg_self_bb69a836a72ec6e9=function(){return R((function(){return h(self.self)}),arguments)},l.wbg.__wbg_window_3304fc4b414c9693=function(){return R((function(){return h(window.window)}),arguments)},l.wbg.__wbg_globalThis_e0d21cabc6630763=function(){return R((function(){return h(globalThis.globalThis)}),arguments)},l.wbg.__wbg_global_8463719227271676=function(){return R((function(){return h(n.g.global)}),arguments)},l.wbg.__wbg_newnoargs_9fdd8f3961dd1bee=function(e,t){return h(new Function(u(e,t)))},l.wbg.__wbg_new_515b65a8e7699d00=function(){return h(new Array)},l.wbg.__wbg_get_b7bbf50adcc94294=function(e,t){return h(g(e)[t>>>0])},l.wbg.__wbg_length_555f836564bf148d=function(e){return g(e).length},l.wbg.__wbg_push_b7f68478f81d358b=function(e,t){return g(e).push(g(t))},l.wbg.__wbg_instanceof_ArrayBuffer_1ae2a91a8421001f=function(e){return g(e)instanceof ArrayBuffer},l.wbg.__wbg_slice_3563f88f39165260=function(e,t,n){return h(g(e).slice(t>>>0,n>>>0))},l.wbg.__wbg_instanceof_Error_2ef86611e2afab04=function(e){return g(e)instanceof Error},l.wbg.__wbg_message_e440fbd911a845a2=function(e){return h(g(e).message)},l.wbg.__wbg_call_ba36642bd901572b=function(){return R((function(e,t){return h(g(e).call(g(t)))}),arguments)},l.wbg.__wbg_call_3fc07b7d5fc9022d=function(){return R((function(e,t,n){return h(g(e).call(g(t),g(n)))}),arguments)},l.wbg.__wbg_getTimezoneOffset_baab8599eeb15f06=function(e){return g(e).getTimezoneOffset()},l.wbg.__wbg_new_f994c74215dcdb52=function(e){return h(new Date(g(e)))},l.wbg.__wbg_is_a973b4c0e9019083=function(e,t){return Object.is(g(e),g(t))},l.wbg.__wbg_keys_a56f3f1587eb77e9=function(e){return h(Object.keys(g(e)))},l.wbg.__wbg_new_edbe38a4e21329dd=function(){return h(new Object)},l.wbg.__wbg_get_800098c980b31ea2=function(){return R((function(e,t){return h(Reflect.get(g(e),g(t)))}),arguments)},l.wbg.__wbg_has_9fa0c068863afd36=function(){return R((function(e,t){return Reflect.has(g(e),g(t))}),arguments)},l.wbg.__wbg_set_73349fc4814e0fc6=function(){return R((function(e,t,n){return Reflect.set(g(e),g(t),g(n))}),arguments)},l.wbg.__wbg_buffer_9e184d6f785de5ed=function(e){return h(g(e).buffer)},l.wbg.__wbg_stringify_08a99e601b91c4a7=function(){return R((function(e){return h(JSON.stringify(g(e)))}),arguments)},l.wbg.__wbg_instanceof_Promise_b2dc9a259c6bc079=function(e){return g(e)instanceof Promise},l.wbg.__wbg_new_c143a4f563f78c4e=function(e,t){try{var n={a:e,b:t},r=new Promise(((e,t)=>{const r=n.a;n.a=0;try{return function(e,t,n,r){o.__wbindgen_export_16(e,t,h(n),h(r))}(r,n.b,e,t)}finally{n.a=r}}));return h(r)}finally{n.a=n.b=0}},l.wbg.__wbg_resolve_cae3d8f752f5db88=function(e){return h(Promise.resolve(g(e)))},l.wbg.__wbg_then_c2361a9d5c9a4fcb=function(e,t){return h(g(e).then(g(t)))},l.wbg.__wbg_then_6c9a4bf55755f9b8=function(e,t,n){return h(g(e).then(g(t),g(n)))},l.wbg.__wbg_newwithbyteoffsetandlength_e57ad1f2ce812c03=function(e,t,n){return h(new Uint8Array(g(e),t>>>0,n>>>0))},l.wbg.__wbg_new_e8101319e4cf95fc=function(e){return h(new Uint8Array(g(e)))},l.wbg.__wbg_buffer_1c5918a4ab656ff7=function(e){return h(g(e).buffer)},l.wbg.__wbg_length_2d56cb37075fcfb1=function(e){return g(e).length},l.wbg.__wbg_byteLength_e0515bc94cfc5dee=function(e){return g(e).byteLength},l.wbg.__wbg_byteOffset_77eec84716a2e737=function(e){return g(e).byteOffset},l.wbg.__wbg_set_e8ae7b27314e8b98=function(e,t,n){g(e).set(g(t),n>>>0)},l.wbg.__wbindgen_number_get=function(e,t){const n=g(t);var r="number"==typeof n?n:void 0;(null!==S&&S.buffer===o.memory.buffer||(S=new Float64Array(o.memory.buffer)),S)[e/8+1]=x(r)?0:r,y()[e/4+0]=!x(r)},l.wbg.__wbindgen_is_string=function(e){return"string"==typeof g(e)},l.wbg.__wbindgen_string_get=function(e,t){const n=g(t);var r="string"==typeof n?n:void 0,a=x(r)?0:m(r,o.__wbindgen_export_0,o.__wbindgen_export_1),i=p;y()[e/4+1]=i,y()[e/4+0]=a},l.wbg.__wbindgen_boolean_get=function(e){const t=g(e);return"boolean"==typeof t?t?1:0:2},l.wbg.__wbindgen_throw=function(e,t){throw new Error(u(e,t))},l.wbg.__wbindgen_rethrow=function(e){throw w(e)},l.wbg.__wbindgen_memory=function(){return h(o.memory)},l.wbg.__wbindgen_closure_wrapper3427=function(e,t,n){return h(k(e,t,33,A))},l.wbg.__wbindgen_closure_wrapper3429=function(e,t,n){return h(E(e,t,25,M))},l.wbg.__wbindgen_closure_wrapper3431=function(e,t,n){return h(k(e,t,39,V))},l.wbg.__wbindgen_closure_wrapper3433=function(e,t,n){return h(E(e,t,37,C))},l.wbg.__wbindgen_closure_wrapper3435=function(e,t,n){return h(k(e,t,35,z))},l.wbg.__wbindgen_closure_wrapper3437=function(e,t,n){return h(E(e,t,31,T))},l.wbg.__wbindgen_closure_wrapper3439=function(e,t,n){return h(k(e,t,27,N))},l.wbg.__wbindgen_closure_wrapper3441=function(e,t,n){return h(E(e,t,29,P))},l.wbg.__wbindgen_closure_wrapper10911=function(e,t,n){return h(k(e,t,2428,O))},l.wbg.__wbindgen_closure_wrapper10932=function(e,t,n){return h(k(e,t,2432,D))},l.wbg.__wbindgen_closure_wrapper11009=function(e,t,n){return h(k(e,t,2450,I))},("string"==typeof t||"function"==typeof Request&&t instanceof Request||"function"==typeof URL&&t instanceof URL)&&(t=fetch(t));const{instance:c,module:s}=await async function(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(t){if("application/wasm"==e.headers.get("Content-Type"))throw t;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t)}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}(await t,l);return o=c.exports,e.__wbindgen_wasm_module=s,o};var U=n(93778),$=n(78227),G=(n(82245),class extends HTMLElement{constructor(){super()}get name(){return"Debug"}get select_mode(){return"select"}get min_config_columns(){}get config_column_names(){}async update(e){return this.draw(e)}async draw(e){this.style.backgroundColor="#fff";let t=await e.to_csv();this.innerHTML=`<pre style='margin:0;overflow:scroll;position:absolute;width:100%;height:100%'>${t}</pre>`}async clear(){this.innerHTML=""}async resize(){}async restyle(){}async save(){}async restore(){}async delete(){}});function X(e){return 559903==new Uint32Array(e.slice(0,4))[0]}document.createElement("perspective-viewer-plugin").constructor===HTMLElement&&window.customElements.define("perspective-viewer-plugin",G),window.addEventListener("unhandledrejection",(e=>{"View method cancelled"===e.reason?.message&&e.preventDefault()}));var Q=async function(){let e=await $,t=[],n=0,r=new U.Q1((e=>{e&&(n+=e.byteLength,t.push(e))}));if(e instanceof URL||"string"==typeof e){let a=(await fetch(e.toString())).body.getReader(),i=0;for(;;){let{value:e,done:o}=await a.read();if(o)break;0===i&&X(e.buffer)||1===i?(i=1,r.push(e,o)):(i=2,n+=e.byteLength,t.push(e))}}else if(e instanceof Uint8Array)X(e.buffer)?r.push(e,!0):(n=e.byteLength,t=[e]);else{let a=new Uint8Array(e);X(e)?r.push(a,!0):(n=a.byteLength,t=[a])}let a=0,i=new Uint8Array(n);for(let e of t)i.set(e,a),a+=e.byteLength;return await q(i)}(),K=class extends HTMLElement{constructor(){super(),this.load_wasm()}async load_wasm(){await Q,this.instance||(this.instance=new Y(this))}async connectedCallback(){await this.load_wasm(),this.instance.connected_callback()}static async registerPlugin(e){var t,n;await Q,t=m(e,o.__wbindgen_export_0,o.__wbindgen_export_1),n=p,o.register_plugin(t,n)}async load(e){await this.load_wasm(),await this.instance.js_load(e)}async notifyResize(e=!1){await this.load_wasm(),await this.instance.js_resize(e)}async setAutoSize(e=!0){await this.load_wasm(),await this.instance.js_set_auto_size(e)}async getTable(e){return await this.load_wasm(),await this.instance.js_get_table(!!e)}async getView(){return await this.load_wasm(),await this.instance.js_get_view()}async restore(e){await this.load_wasm(),await this.instance.js_restore(e)}async save(e){return await this.load_wasm(),await this.instance.js_save(e)}async flush(){await this.load_wasm(),await this.instance.js_flush()}async reset(e=!1){await this.load_wasm(),await this.instance.js_reset(e)}async delete(){await this.load_wasm(),await this.instance.js_delete()}async download(e){await this.load_wasm(),await this.instance.js_download(e)}async copy(e){await this.load_wasm(),await this.instance.js_copy(e)}async restyleElement(){await this.load_wasm(),await this.instance.js_restyle_element()}async resetThemes(e){await this.load_wasm(),await this.instance.js_reset_themes(e)}async getEditPort(){return await this.load_wasm(),await this.instance.js_get_edit_port()}async setThrottle(e){await this.load_wasm(),await this.instance.js_set_throttle(e)}async toggleConfig(e){await this.load_wasm(),await this.instance.js_toggle_config(e)}async getPlugin(e){return await this.load_wasm(),await this.instance.js_get_plugin(e)}async unsafe_get_model(){return await this.load_wasm(),await this.instance.js_unsafe_get_model()}async getAllPlugins(){return await this.load_wasm(),await this.instance.js_get_all_plugins()}};function J(e,t){return function(n,r){let a=0;for(let i of t)if(i in n){if(a++>0)throw new Error(`Duplicate "${e}" fields`);n[e]=n[i],i!==e&&(delete n[i],r.warn&&console.warn(`Deprecated perspective attribute "${i}" renamed "${e}"`))}return n}}document.createElement("perspective-viewer").constructor===HTMLElement&&window.customElements.define("perspective-viewer",K);J("group_by",["group_by","row_pivots","row-pivot","row-pivots","row_pivot"]),J("split_by",["split_by","column_pivots","column-pivot","column-pivots","column_pivot","col_pivots","col-pivot","col-pivots","col_pivot"]),J("filter",["filter","filters"]);var ee=class extends HTMLElement{constructor(){super()}async open(e,t,n){this.instance?this.instance.reset(t,n):this.instance=new F(this,t,n),this.instance.open(e)}destroy(){this.instance.destroy()}};document.createElement("perspective-number-column-style").constructor===HTMLElement&&window.customElements.define("perspective-number-column-style",ee);var te=class extends HTMLElement{constructor(){super()}async open(e,t,n){this.instance?this.instance.reset(t):this.instance=new W(this,t,n),this.instance.open(e)}destroy(){this.instance.destroy()}};document.createElement("perspective-string-column-style").constructor===HTMLElement&&window.customElements.define("perspective-string-column-style",te);var ne=class extends HTMLElement{constructor(){super(),this.instance=new H(this)}open(e){this.instance.open(e)}unsafe_set_model(e){this.instance.unsafe_set_model(e)}};document.createElement("perspective-export-menu").constructor===HTMLElement&&window.customElements.define("perspective-export-menu",ne);var re=class extends HTMLElement{constructor(){super(),this.instance=new Z(this)}open(e){this.instance.open(e)}unsafe_set_model(e){this.instance.unsafe_set_model(e)}};document.createElement("perspective-copy-menu").constructor===HTMLElement&&window.customElements.define("perspective-copy-menu",re)},48775:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>G});var r=n(93778);const a=n.p+"222ec8d25f16c8d747dd.wasm";var i=Object.create,o=Object.defineProperty,l=Object.getOwnPropertyDescriptor,c=Object.getOwnPropertyNames,s=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty,f=e=>o(e,"__esModule",{value:!0}),d=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),h=e=>((e,t,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of c(t))!u.call(e,r)&&"default"!==r&&o(e,r,{get:()=>t[r],enumerable:!(n=l(t,r))||n.enumerable});return e})(f(o(null!=e?i(s(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),g=d(((e,t)=>{t.exports.default={types:{float:{filter_operator:"==",aggregate:"sum",format:{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}},string:{filter_operator:"==",aggregate:"count"},integer:{filter_operator:"==",aggregate:"sum",format:{}},boolean:{filter_operator:"==",aggregate:"count"},datetime:{filter_operator:"==",aggregate:"count",format:{week:"numeric",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},null_value:-1},date:{filter_operator:"==",aggregate:"count",format:{week:"numeric",year:"numeric",month:"numeric",day:"numeric"},null_value:-1}}}})),p=d(((e,t)=>{var n=g().default;function r(e){return e&&"object"==typeof e&&!Array.isArray(e)}function a(e,...t){if(!t.length)return e;let n=t.shift();if(r(e)&&r(n))for(let t in n)r(n[t])?(e[t]||Object.assign(e,{[t]:{}}),a(e[t],n[t])):Object.assign(e,{[t]:n[t]});return a(e,...t)}t.exports.get_types=function(){return Object.keys(t.exports.get_config().types)},t.exports.get_type_config=function(e){let n={};if(t.exports.get_config().types[e]&&Object.assign(n,t.exports.get_config().types[e]),n.type){let e=t.exports.get_type_config(n.type);return Object.assign(e,n),e}return n},window.__PERSPECTIVE_CONFIG__=void 0,t.exports.override_config=function(e){window.__PERSPECTIVE_CONFIG__&&console.warn("Config already initialized!"),window.__PERSPECTIVE_CONFIG__=a(n,e)},t.exports.get_config=function(){return window.__PERSPECTIVE_CONFIG__||(window.__PERSPECTIVE_CONFIG__=a(n,window.__TEMPLATE_CONFIG__||{})),window.__PERSPECTIVE_CONFIG__}})),b={};((e,t)=>{for(var n in f(e),t)o(e,n,{get:t[n],enumerable:!0})})(b,{COLUMN_SEPARATOR_STRING:()=>z,CONFIG_ALIASES:()=>m,CONFIG_VALID_KEYS:()=>v,DATA_TYPES:()=>_,FILTER_OPERATORS:()=>A,SORT_ORDERS:()=>x,SORT_ORDER_IDS:()=>S,TYPE_AGGREGATES:()=>k,TYPE_FILTERS:()=>T});var _={integer:"integer",float:"float",string:"string",boolean:"boolean",date:"date",datetime:"datetime",object:"object"},m={row_pivot:"group_by","row-pivot":"group_by","row-pivots":"group_by",col_pivot:"split_by",col_pivots:"split_by",column_pivot:"split_by","column-pivot":"split_by","column-pivots":"split_by",filters:"filter",sorts:"sort"},v=["viewport","group_by","split_by","aggregates","columns","filter","sort","computed_columns","expressions","group_by_depth","split_by_depth","filter_op"],y=["any","avg","abs sum","count","distinct count","dominant","first by index","last by index","last minus first","last","high","join","low","high minus low","mean","median","pct sum parent","pct sum grand total","stddev","sum","sum abs","sum not null","unique","var"],w=["any","count","distinct count","distinct leaf","dominant","first by index","join","last by index","last","unique"],x=["none","asc","desc","col asc","col desc","asc abs","desc abs","col asc abs","col desc abs"],S=[2,0,1,0,1,3,4,3,4],k={string:w,float:y,integer:y,boolean:["any","count","distinct count","distinct leaf","dominant","first by index","last by index","last","unique"],datetime:w,date:w},A={lessThan:"<",greaterThan:">",equals:"==",lessThanOrEquals:"<=",greaterThanOrEquals:">=",doesNotEqual:"!=",isNull:"is null",isNotNull:"is not null",isIn:"in",isNotIn:"not in",contains:"contains",bitwiseAnd:"&",bitwiseOr:"|",and:"and",or:"or",beginsWith:"begins with",endsWith:"ends with"},E=[A.bitwiseAnd,A.bitwiseOr,A.equals,A.doesNotEqual,A.or,A.and,A.isNull,A.isNotNull],M=[A.lessThan,A.greaterThan,A.equals,A.lessThanOrEquals,A.greaterThanOrEquals,A.doesNotEqual,A.isNull,A.isNotNull],V=[A.equals,A.contains,A.doesNotEqual,A.isIn,A.isNotIn,A.beginsWith,A.endsWith,A.isNull,A.isNotNull],C=[A.lessThan,A.greaterThan,A.equals,A.lessThanOrEquals,A.greaterThanOrEquals,A.doesNotEqual,A.isNull,A.isNotNull],z="|",T={string:V,float:M,integer:M,boolean:E,datetime:C,date:C},N=h(p()),P=new WeakMap,O=0;function D(e,t){return function(){let n,r=()=>{},a=Array.prototype.slice.call(arguments,0,arguments.length);for(let e=a.length-1;e>=0;e--)"function"==typeof a[e]&&(n=a.splice(e,1)[0]);let i=P.get(n);P.delete(n);let o={cmd:t||"view_method",name:this._name,method:e,args:a,subscribe:!0,callback_id:i};this._worker.post(o,n,r),this._worker.unsubscribe(t,n)}}function L(e,t){return function(){let n,r=()=>{},a=Array.prototype.slice.call(arguments,0,arguments.length);for(let e=a.length-1;e>=0;e--)"function"==typeof a[e]&&(n=a.splice(e,1)[0]);O++,P.set(n,O);let i={cmd:t||"view_method",name:this._name,method:e,args:a,subscribe:!0,callback_id:O};this._worker.post(i,n,r,!0)}}function I(e,t){return function(){var n=Array.prototype.slice.call(arguments,0,arguments.length);return new Promise(function(r,a){var i={cmd:t||"view_method",name:this._name,method:e,args:n,subscribe:!1};this._worker.post(i,r,a)}.bind(this))}}function R(e,t,n){return new Promise(((r,a)=>{this._worker=e,this._name=Math.random()+"",this._worker.post({cmd:"view",view_name:this._name,table_name:t,config:n},(()=>{r(this)}),a),!0===this._worker._initialized&&!this._worker._features?.wait_for_response&&r(this)}))}function B(e){let t=e;do{for(let n of Object.getOwnPropertyNames(t)){let t=e[n];"constructor"!==n&&"function"==typeof t&&(e[n]=t.bind(e))}}while(t=t!==Object&&Object.getPrototypeOf(t))}function j(e,t,n){return new Promise(((r,a)=>{this._worker=e,this._name=n.name||Math.random()+"",B(this),t.to_arrow?(this._worker.post({cmd:"table",name:this._name,args:[],options:n||{}}),t.to_arrow().then((e=>{this._worker.post({cmd:"table",name:this._name,args:[e],options:n||{}},(()=>{t.on_update((e=>{this.update(e.delta)}),{mode:"row"}),r(this)}),a)}))):this._worker.post({cmd:"table",name:this._name,args:[t],options:n||{}},(()=>{r(this)}),a),!0===this._worker._initialized&&!this._worker._features?.wait_for_response&&r(this)}))}function Z(e,t){this._worker=e,this._name=t}R.prototype,R.prototype.get_config=I("get_config"),R.prototype.get_min_max=I("get_min_max"),R.prototype.to_json=I("to_json"),R.prototype.to_arrow=I("to_arrow"),R.prototype.to_columns=I("to_columns"),R.prototype.to_csv=I("to_csv"),R.prototype.schema=I("schema"),R.prototype.expression_schema=I("expression_schema"),R.prototype.column_paths=I("column_paths"),R.prototype.num_columns=I("num_columns"),R.prototype.num_rows=I("num_rows"),R.prototype.set_depth=I("set_depth"),R.prototype.get_row_expanded=I("get_row_expanded"),R.prototype.expand=I("expand"),R.prototype.collapse=I("collapse"),R.prototype.delete=I("delete"),R.prototype.col_to_js_typed_array=I("col_to_js_typed_array"),R.prototype.on_update=L("on_update","view_method"),R.prototype.remove_update=D("remove_update","view_method"),R.prototype.on_delete=L("on_delete","view_method"),R.prototype.remove_delete=D("remove_delete","view_method"),String.prototype.includes||(String.prototype.includes=function(e,t){return"number"!=typeof t&&(t=0),!(t+e.length>this.length)&&-1!==this.indexOf(e,t)}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),r=n.length>>>0;if(0===r)return!1;var a,i,o=0|t,l=Math.max(o>=0?o:r-Math.abs(o),0);for(;l<r;){if((a=n[l])===(i=e)||"number"==typeof a&&"number"==typeof i&&isNaN(a)&&isNaN(i))return!0;l++}return!1}}),j.prototype.type="table",Z.prototype=j.prototype,j.prototype.view=function(e){return new R(this._worker,this._name,e)},j.prototype.get_index=I("get_index","table_method"),j.prototype.get_limit=I("get_limit","table_method"),j.prototype.make_port=I("make_port","table_method"),j.prototype.remove_port=I("remove_port","table_method"),j.prototype.schema=I("schema","table_method"),j.prototype.validate_expressions=I("validate_expressions","table_method"),j.prototype.is_valid_filter=I("is_valid_filter","table_method"),j.prototype.size=I("size","table_method"),j.prototype.columns=I("columns","table_method"),j.prototype.clear=I("clear","table_method"),j.prototype.replace=I("replace","table_method"),j.prototype.delete=I("delete","table_method"),j.prototype.on_delete=L("on_delete","table_method"),j.prototype.remove=I("remove","table_method"),j.prototype.remove_delete=D("remove_delete","table_method"),j.prototype.update=function(e,t){return new Promise(((n,r)=>{this._worker.post({name:this._name,cmd:"table_method",method:"update",args:[e,t||{}]},n,r,!1)}))},j.prototype.execute=function(e){this._worker.post({cmd:"table_execute",name:this._name,f:e.toString()})};var H=class{constructor(){this._initialized=!1,this._worker={initialized:{value:!1},transferable:!1,msg_id:0,handlers:{},messages:[]},B(this)}unsubscribe(e,t){for(let e of Object.keys(this._worker.handlers))this._worker.handlers[e].resolve===t&&delete this._worker.handlers[e]}post(e,t,n,r=!1){++this._worker.msg_id,(t||n)&&(this._worker.handlers[this._worker.msg_id]={resolve:t,reject:n,keep_alive:r}),e.id=this._worker.msg_id,this._worker.initialized.value?this.send(e):this._worker.messages.push((()=>{this.send(e),("table"===e.cmd||"view"===e.cmd)&&!this._features?.wait_for_response&&t&&t()}))}async memory_usage(){return await new Promise(((e,t)=>{this.post({cmd:"memory_usage"},e,t)}))}initialize_profile_thread(){this._worker.initialized.value?this.send({id:-1,cmd:"init_profile_thread"}):this._worker.messages.push((()=>this.send({id:-1,cmd:"init_profile_thread"})))}send(){throw new Error("send() not implemented")}async open_table(e){return new Z(this,e)}_handle(e){if(!this._worker.initialized.value){if(!this._initialized&&"undefined"!=typeof document&&document&&void 0!==typeof window&&window){try{let e=document.createEvent("Event");e.initEvent("perspective-ready",!1,!0),window.dispatchEvent(e)}catch{}this._initialized=!0}let t=this._worker.messages;if(this._worker.initialized.value=!0,this._worker.messages=[],e.data?.data){this._features={};for(let t of e.data.data)this._features[t]=!0}if(t)for(let e in t)t.hasOwnProperty(e)&&t[e]()}if(e.data.id){let t=this._worker.handlers[e.data.id];t&&(e.data.error?t.reject(e.data.error):t.resolve(e.data.data),t.keep_alive||delete this._worker.handlers[e.data.id])}}table(e,t){return new j(this,e,t||{})}terminate(){this._worker.terminate(),this._worker=void 0}},F=class extends H{constructor(e){super(),this._ws=e,this._ws.binaryType="arraybuffer",this._full_binary,this._total_chunk_length=0,this._pending_binary_length=0,this._ws.onopen=()=>{this.send({id:-1,cmd:"init"})};let t=()=>{this._ws.send("ping"),setTimeout(t,3e4)};setTimeout(t,3e4),this._ws.onmessage=e=>{if("pong"!==e.data)if(this._pending_binary){let t=e.data;if(this._full_binary.set(new Uint8Array(t),this._total_chunk_length),this._total_chunk_length+=t.byteLength,this._total_chunk_length!==this._pending_binary_length)return;t=this._full_binary.buffer;let n={data:{id:this._pending_binary,data:t}};if(void 0!==this._pending_port_id){let e={port_id:this._pending_port_id,delta:t};n.data.data=e}this._handle(n),delete this._pending_binary,delete this._pending_binary_length,delete this._pending_port_id,this._total_chunk_length=0,this._full_binary=null}else(e=JSON.parse(e.data)).binary_length?(this._pending_binary=e.id,this._pending_binary_length=e.binary_length,e.data&&void 0!==e.data.port_id&&(this._pending_port_id=e.data.port_id),this._full_binary=new Uint8Array(this._pending_binary_length)):this._handle({data:e})}}send(e){if(e.args&&e.args.length>0&&e.args[0]instanceof ArrayBuffer&&void 0!==e.args[0].byteLength){let t=e;return e.binary_length=e.args[0].byteLength,this._ws.send(JSON.stringify(t)),void this._ws.send(e.args[0])}this._ws.send(JSON.stringify(e))}terminate(){return new Promise((e=>{this._ws.onclose=e,this._ws.close()}))}},W=h(p());function Y(e){return 559903==new Uint32Array(e.slice(0,4))[0]}var q=function(){let e;return function(){return e||(e=new class{async worker(){return await new Worker(n.p+"perspective.worker.js")}async wasm(){let e=await a,t=[],n=0,i=new r.Q1((e=>{e&&(n+=e.byteLength,t.push(e))}));if(e.buffer&&e.buffer instanceof ArrayBuffer)console.warn('Perspective has been compiled in "inline" mode.  While Perspective\'s runtime performance is not affected, you may see smaller assets size and faster engine initial load time using "@finos/perspective-webpack-plugin" to build your application.\nhttps://perspective.finos.org/docs/md/js.html'),Y(e.buffer)?i.push(e,!0):(n=e.byteLength,t=[e]);else if(e instanceof ArrayBuffer)n=e.byteLength,t=[new Uint8Array(e)];else{let r=(await fetch(e)).body.getReader(),a=0;for(;;){let{value:e,done:o}=await r.read();if(o)break;0===a&&Y(e.buffer)||1===a?(a=1,i.push(e,o)):(a=2,n+=e.byteLength,t.push(e))}}let o=0,l=new Uint8Array(n);for(let e of t)l.set(e,o),o+=e.byteLength;return this._wasm=l.buffer,this._wasm}}),e}}(),U=class extends H{constructor(e){e&&(0,W.override_config)(e),super(),this.register()}async register(){let e,t={cmd:"init",config:(0,N.get_config)()};if("undefined"==typeof WebAssembly)throw new Error("WebAssembly not supported.");for(var n in[e,t.buffer]=await Promise.all([q().worker(),q().wasm()]),this._worker)e[n]=this._worker[n];this._worker=e,this._worker.addEventListener("message",this._handle.bind(this)),this._worker.postMessage(t),this._detect_transferable()}send(e){this._worker.transferable&&e.args&&e.args[0]instanceof ArrayBuffer?this._worker.postMessage(e,[e.args[0]]):this._worker.postMessage(e)}terminate(){this._worker.terminate(),this._worker=void 0}_detect_transferable(){var e=new ArrayBuffer(1);this._worker.postMessage(e,[e]),this._worker.transferable=0===e.byteLength,this._worker.transferable?console.debug("Transferable support detected"):console.warn("Transferable support not detected")}},$=function(){let e,t;return{getInstance:function(n){void 0===e&&(e=new U(n));let r=JSON.stringify(n);if(t&&r!==t)throw new Error("Configuration object for shared_worker() has changed - this is probably a bug in your application.");return t=r,e}}}();N.get_type_config;var G={override:function(e){return q().set(e)},worker:function(e){return new U(e)},websocket:function(e=window.location.origin.replace("http","ws")){return new F(new WebSocket(e))},shared_worker:function(e){return $.getInstance(e)},...Object.keys(b)}},25573:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Adder:()=>b.dU,InternMap:()=>_.L,InternSet:()=>_.H,ascending:()=>a.Z,bin:()=>L,bisect:()=>r.ZP,bisectCenter:()=>r.ZR,bisectLeft:()=>r.Nw,bisectRight:()=>r.ml,bisector:()=>i.Z,count:()=>o,cross:()=>u,cumsum:()=>f,descending:()=>d,deviation:()=>g,difference:()=>ge,disjoint:()=>pe,every:()=>ce,extent:()=>p,fcumsum:()=>b.Kd,filter:()=>ue,fsum:()=>b.e3,greatest:()=>J,greatestIndex:()=>ee,group:()=>v,groupSort:()=>C,groups:()=>y,histogram:()=>L,index:()=>S,indexes:()=>k,intersection:()=>_e,least:()=>Q,leastIndex:()=>K,map:()=>fe,max:()=>j.Z,maxIndex:()=>Z,mean:()=>H,median:()=>F,merge:()=>W.Z,min:()=>Y.Z,minIndex:()=>q,nice:()=>O,pairs:()=>U,permute:()=>M,quantile:()=>I.Z,quantileSorted:()=>I.s,quickselect:()=>G.Z,range:()=>X.Z,reduce:()=>de,reverse:()=>he,rollup:()=>w,rollups:()=>x,scan:()=>te,shuffle:()=>ne,shuffler:()=>re,some:()=>se,sort:()=>V,subset:()=>ve,sum:()=>ae,superset:()=>me,thresholdFreedmanDiaconis:()=>R,thresholdScott:()=>B,thresholdSturges:()=>D,tickIncrement:()=>P.G9,tickStep:()=>P.ly,ticks:()=>P.ZP,transpose:()=>ie,union:()=>ye,variance:()=>h,zip:()=>le});var r=n(44355),a=n(91077),i=n(29173);function o(e,t){let n=0;if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&++n;else{let r=-1;for(let a of e)null!=(a=t(a,++r,e))&&(a=+a)>=a&&++n}return n}function l(e){return 0|e.length}function c(e){return!(e>0)}function s(e){return"object"!=typeof e||"length"in e?e:Array.from(e)}function u(...e){const t="function"==typeof e[e.length-1]&&function(e){return t=>e(...t)}(e.pop()),n=(e=e.map(s)).map(l),r=e.length-1,a=new Array(r+1).fill(0),i=[];if(r<0||n.some(c))return i;for(;;){i.push(a.map(((t,n)=>e[n][t])));let o=r;for(;++a[o]===n[o];){if(0===o)return t?i.map(t):i;a[o--]=0}}}function f(e,t){var n=0,r=0;return Float64Array.from(e,void 0===t?e=>n+=+e||0:a=>n+=+t(a,r++,e)||0)}function d(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function h(e,t){let n,r=0,a=0,i=0;if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(n=t-a,a+=n/++r,i+=n*(t-a));else{let o=-1;for(let l of e)null!=(l=t(l,++o,e))&&(l=+l)>=l&&(n=l-a,a+=n/++r,i+=n*(l-a))}if(r>1)return i/(r-1)}function g(e,t){const n=h(e,t);return n?Math.sqrt(n):n}function p(e,t){let n,r;if(void 0===t)for(const t of e)null!=t&&(void 0===n?t>=t&&(n=r=t):(n>t&&(n=t),r<t&&(r=t)));else{let a=-1;for(let i of e)null!=(i=t(i,++a,e))&&(void 0===n?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)))}return[n,r]}var b=n(75801),_=n(28419);function m(e){return e}function v(e,...t){return E(e,m,m,t)}function y(e,...t){return E(e,Array.from,m,t)}function w(e,t,...n){return E(e,m,t,n)}function x(e,t,...n){return E(e,Array.from,t,n)}function S(e,...t){return E(e,m,A,t)}function k(e,...t){return E(e,Array.from,A,t)}function A(e){if(1!==e.length)throw new Error("duplicate key");return e[0]}function E(e,t,n,r){return function e(a,i){if(i>=r.length)return n(a);const o=new _.L,l=r[i++];let c=-1;for(const e of a){const t=l(e,++c,a),n=o.get(t);n?n.push(e):o.set(t,[e])}for(const[t,n]of o)o.set(t,e(n,i));return t(o)}(e,0)}function M(e,t){return Array.from(t,(t=>e[t]))}function V(e,...t){if("function"!=typeof e[Symbol.iterator])throw new TypeError("values is not iterable");e=Array.from(e);let[n=a.Z]=t;if(1===n.length||t.length>1){const r=Uint32Array.from(e,((e,t)=>t));return t.length>1?(t=t.map((t=>e.map(t))),r.sort(((e,n)=>{for(const r of t){const t=(0,a.Z)(r[e],r[n]);if(t)return t}}))):(n=e.map(n),r.sort(((e,t)=>(0,a.Z)(n[e],n[t])))),M(e,r)}return e.sort(n)}function C(e,t,n){return(1===t.length?V(w(e,t,n),(([e,t],[n,r])=>(0,a.Z)(t,r)||(0,a.Z)(e,n))):V(v(e,n),(([e,n],[r,i])=>t(n,i)||(0,a.Z)(e,r)))).map((([e])=>e))}var z=Array.prototype,T=z.slice;z.map;function N(e){return function(){return e}}var P=n(67614);function O(e,t,n){let r;for(;;){const a=(0,P.G9)(e,t,n);if(a===r||0===a||!isFinite(a))return[e,t];a>0?(e=Math.floor(e/a)*a,t=Math.ceil(t/a)*a):a<0&&(e=Math.ceil(e*a)/a,t=Math.floor(t*a)/a),r=a}}function D(e){return Math.ceil(Math.log(o(e))/Math.LN2)+1}function L(){var e=m,t=p,n=D;function a(a){Array.isArray(a)||(a=Array.from(a));var i,o,l=a.length,c=new Array(l);for(i=0;i<l;++i)c[i]=e(a[i],i,a);var s=t(c),u=s[0],f=s[1],d=n(c,u,f);if(!Array.isArray(d)){const e=f,n=+d;if(t===p&&([u,f]=O(u,f,n)),(d=(0,P.ZP)(u,f,n))[d.length-1]>=f)if(e>=f&&t===p){const e=(0,P.G9)(u,f,n);isFinite(e)&&(e>0?f=(Math.floor(f/e)+1)*e:e<0&&(f=(Math.ceil(f*-e)+1)/-e))}else d.pop()}for(var h=d.length;d[0]<=u;)d.shift(),--h;for(;d[h-1]>f;)d.pop(),--h;var g,b=new Array(h+1);for(i=0;i<=h;++i)(g=b[i]=[]).x0=i>0?d[i-1]:u,g.x1=i<h?d[i]:f;for(i=0;i<l;++i)u<=(o=c[i])&&o<=f&&b[(0,r.ZP)(d,o,0,h)].push(a[i]);return b}return a.value=function(t){return arguments.length?(e="function"==typeof t?t:N(t),a):e},a.domain=function(e){return arguments.length?(t="function"==typeof e?e:N([e[0],e[1]]),a):t},a.thresholds=function(e){return arguments.length?(n="function"==typeof e?e:Array.isArray(e)?N(T.call(e)):N(e),a):n},a}var I=n(41461);function R(e,t,n){return Math.ceil((n-t)/(2*((0,I.Z)(e,.75)-(0,I.Z)(e,.25))*Math.pow(o(e),-1/3)))}function B(e,t,n){return Math.ceil((n-t)/(3.5*g(e)*Math.pow(o(e),-1/3)))}var j=n(98823);function Z(e,t){let n,r=-1,a=-1;if(void 0===t)for(const t of e)++a,null!=t&&(n<t||void 0===n&&t>=t)&&(n=t,r=a);else for(let i of e)null!=(i=t(i,++a,e))&&(n<i||void 0===n&&i>=i)&&(n=i,r=a);return r}function H(e,t){let n=0,r=0;if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(++n,r+=t);else{let a=-1;for(let i of e)null!=(i=t(i,++a,e))&&(i=+i)>=i&&(++n,r+=i)}if(n)return r/n}function F(e,t){return(0,I.Z)(e,.5,t)}var W=n(83502),Y=n(47622);function q(e,t){let n,r=-1,a=-1;if(void 0===t)for(const t of e)++a,null!=t&&(n>t||void 0===n&&t>=t)&&(n=t,r=a);else for(let i of e)null!=(i=t(i,++a,e))&&(n>i||void 0===n&&i>=i)&&(n=i,r=a);return r}function U(e,t=$){const n=[];let r,a=!1;for(const i of e)a&&n.push(t(r,i)),r=i,a=!0;return n}function $(e,t){return[e,t]}var G=n(64781),X=n(96047);function Q(e,t=a.Z){let n,r=!1;if(1===t.length){let i;for(const o of e){const e=t(o);(r?(0,a.Z)(e,i)<0:0===(0,a.Z)(e,e))&&(n=o,i=e,r=!0)}}else for(const a of e)(r?t(a,n)<0:0===t(a,a))&&(n=a,r=!0);return n}function K(e,t=a.Z){if(1===t.length)return q(e,t);let n,r=-1,i=-1;for(const a of e)++i,(r<0?0===t(a,a):t(a,n)<0)&&(n=a,r=i);return r}function J(e,t=a.Z){let n,r=!1;if(1===t.length){let i;for(const o of e){const e=t(o);(r?(0,a.Z)(e,i)>0:0===(0,a.Z)(e,e))&&(n=o,i=e,r=!0)}}else for(const a of e)(r?t(a,n)>0:0===t(a,a))&&(n=a,r=!0);return n}function ee(e,t=a.Z){if(1===t.length)return Z(e,t);let n,r=-1,i=-1;for(const a of e)++i,(r<0?0===t(a,a):t(a,n)>0)&&(n=a,r=i);return r}function te(e,t){const n=K(e,t);return n<0?void 0:n}const ne=re(Math.random);function re(e){return function(t,n=0,r=t.length){let a=r-(n=+n);for(;a;){const r=e()*a--|0,i=t[a+n];t[a+n]=t[r+n],t[r+n]=i}return t}}function ae(e,t){let n=0;if(void 0===t)for(let t of e)(t=+t)&&(n+=t);else{let r=-1;for(let a of e)(a=+t(a,++r,e))&&(n+=a)}return n}function ie(e){if(!(a=e.length))return[];for(var t=-1,n=(0,Y.Z)(e,oe),r=new Array(n);++t<n;)for(var a,i=-1,o=r[t]=new Array(a);++i<a;)o[i]=e[i][t];return r}function oe(e){return e.length}function le(){return ie(arguments)}function ce(e,t){if("function"!=typeof t)throw new TypeError("test is not a function");let n=-1;for(const r of e)if(!t(r,++n,e))return!1;return!0}function se(e,t){if("function"!=typeof t)throw new TypeError("test is not a function");let n=-1;for(const r of e)if(t(r,++n,e))return!0;return!1}function ue(e,t){if("function"!=typeof t)throw new TypeError("test is not a function");const n=[];let r=-1;for(const a of e)t(a,++r,e)&&n.push(a);return n}function fe(e,t){if("function"!=typeof e[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!=typeof t)throw new TypeError("mapper is not a function");return Array.from(e,((n,r)=>t(n,r,e)))}function de(e,t,n){if("function"!=typeof t)throw new TypeError("reducer is not a function");const r=e[Symbol.iterator]();let a,i,o=-1;if(arguments.length<3){if(({done:a,value:n}=r.next()),a)return;++o}for(;({done:a,value:i}=r.next()),!a;)n=t(n,i,++o,e);return n}function he(e){if("function"!=typeof e[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(e).reverse()}function ge(e,...t){e=new Set(e);for(const n of t)for(const t of n)e.delete(t);return e}function pe(e,t){const n=t[Symbol.iterator](),r=new Set;for(const t of e){if(r.has(t))return!1;let e,a;for(;({value:e,done:a}=n.next())&&!a;){if(Object.is(t,e))return!1;r.add(e)}}return!0}function be(e){return e instanceof Set?e:new Set(e)}function _e(e,...t){e=new Set(e),t=t.map(be);e:for(const n of e)for(const r of t)if(!r.has(n)){e.delete(n);continue e}return e}function me(e,t){const n=e[Symbol.iterator](),r=new Set;for(const e of t){if(r.has(e))continue;let t,a;for(;({value:t,done:a}=n.next());){if(a)return!1;if(r.add(t),Object.is(e,t))break}}return!0}function ve(e,t){return me(t,e)}function ye(...e){const t=new Set;for(const n of e)for(const e of n)t.add(e);return t}},88258:(e,t,n)=>{"use strict";n.r(t),n.d(t,{dispatch:()=>r.Z});var r=n(92626)},40549:(e,t,n)=>{"use strict";n.r(t),n.d(t,{path:()=>r.Z});var r=n(11108)},42796:(e,t,n)=>{"use strict";n.r(t),n.d(t,{timeDay:()=>c.Z,timeDays:()=>c.a,timeFriday:()=>s.mC,timeFridays:()=>s.b$,timeHour:()=>l.Z,timeHours:()=>l.i,timeInterval:()=>r.Z,timeMillisecond:()=>a.Z,timeMilliseconds:()=>a.m,timeMinute:()=>o.Z,timeMinutes:()=>o.L,timeMonday:()=>s.wA,timeMondays:()=>s.bJ,timeMonth:()=>u.Z,timeMonths:()=>u.e,timeSaturday:()=>s.EY,timeSaturdays:()=>s.Ff,timeSecond:()=>i.Z,timeSeconds:()=>i.m,timeSunday:()=>s.OM,timeSundays:()=>s.vm,timeThursday:()=>s.bL,timeThursdays:()=>s.$t,timeTickInterval:()=>m._g,timeTicks:()=>m.jK,timeTuesday:()=>s.sy,timeTuesdays:()=>s.aU,timeWednesday:()=>s.zg,timeWednesdays:()=>s.Ld,timeWeek:()=>s.OM,timeWeeks:()=>s.vm,timeYear:()=>f.Z,timeYears:()=>f.g,utcDay:()=>g.Z,utcDays:()=>g.y,utcFriday:()=>p.QQ,utcFridays:()=>p.fz,utcHour:()=>h.Z,utcHours:()=>h.X,utcMillisecond:()=>a.Z,utcMilliseconds:()=>a.m,utcMinute:()=>d.Z,utcMinutes:()=>d.N,utcMonday:()=>p.l6,utcMondays:()=>p.$3,utcMonth:()=>b.Z,utcMonths:()=>b.K,utcSaturday:()=>p.g4,utcSaturdays:()=>p.Q_,utcSecond:()=>i.Z,utcSeconds:()=>i.m,utcSunday:()=>p.Ox,utcSundays:()=>p.SU,utcThursday:()=>p.hB,utcThursdays:()=>p.xj,utcTickInterval:()=>m.jo,utcTicks:()=>m.WG,utcTuesday:()=>p.J1,utcTuesdays:()=>p.DK,utcWednesday:()=>p.b3,utcWednesdays:()=>p.uy,utcWeek:()=>p.Ox,utcWeeks:()=>p.SU,utcYear:()=>_.Z,utcYears:()=>_.D});var r=n(11829),a=n(98179),i=n(15086),o=n(7197),l=n(42784),c=n(69478),s=n(22776),u=n(4584),f=n(82209),d=n(74878),h=n(60590),g=n(89692),p=n(67519),b=n(47512),_=n(31181),m=n(41955)},72127:function(e,t,n){!function(e,t,n,r,a,i,o,l,c,s,u,f,d){"use strict";var h=function(e,t,n){var r=t[n];if("function"!=typeof r)throw new Error("Attempt to rebind ".concat(n," which isn't a function on the source object"));return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=r.apply(t,a);return o===t?e:o}},g=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];for(var i=0,o=r;i<o.length;i++){var l=o[i];e[l]=h(e,t,l)}return e},p=function(e){return function(t){return e.reduce((function(e,t){return e&&t(e)}),t)}},b=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];for(var i=p(r),o=0,l=Object.keys(t);o<l.length;o++){var c=l[o],s=i(c);s&&(e[s]=h(e,t,c))}return e},_=function(e){return e.map((function(e){return"string"==typeof e?new RegExp("^".concat(e,"$")):e}))},m=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t=_(t),function(e){return t.every((function(t){return!t.test(e)}))&&e}},v=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t=_(t),function(e){return t.some((function(t){return t.test(e)}))&&e}},y=function(e){return function(t){return e[t]}},w=function(e){return e[0].toUpperCase()+e.slice(1)},x=function(e){return function(t){return e+w(t)}};function S(e){return e}function k(e){}function A(e){return"function"==typeof e?e:function(){return e}}function E(e){return"number"==typeof e&&isNaN(e)?void 0:e}function M(){var e=function(){return 10},t=k,n=S,r=function(e){return null!=e},a=function(a){var i=e.apply(this,arguments),o=a.slice(0,i).map(n);return a.map((function(e,a){return a>=i&&(o.shift(),o.push(n(e,a))),a<i-1||o.some((function(e){return!r(e)}))?t(void 0,a):t(o,a)}))};return a.period=function(){return arguments.length?(e=A(arguments.length<=0?void 0:arguments[0]),a):e},a.accumulator=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],a):t},a.defined=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],a):r},a.value=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],a):n},a}function V(){var e=2,n=M().accumulator((function(n){var r=n&&t.deviation(n),a=n&&t.mean(n);return{average:a,upper:E(a+e*r),lower:E(a-e*r)}})),r=function(e){return n(e)};return r.multiplier=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],r):e},g(r,n,"period","value"),r}function C(){var e=S,n=function(){return 9},r=function(e){var n=[];return function(r){var a;return n.length<e&&(null!=r?n.push(r):n=[]),n.length>=e&&(a=t.mean(n)),a}},a=function(t){var a,i=n.apply(this,arguments),o=2/(i+1),l=r(i);return t.map((function(t,n){var r=e(t,n);return E(a=void 0===a?l(r):r*o+(1-o)*a)}))};return a.period=function(){return arguments.length?(n=A(arguments.length<=0?void 0:arguments[0]),a):n},a.value=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],a):e},a}function z(){var e=S,n=C().period(12),r=C().period(26),a=C().period(9),i=function(i){n.value(e),r.value(e);var o=t.zip(n(i),r(i)).map((function(e){return void 0!==e[0]&&void 0!==e[1]?e[0]-e[1]:void 0})),l=a(o);return t.zip(o,l).map((function(e){return{macd:e[0],signal:e[1],divergence:void 0!==e[0]&&void 0!==e[1]?e[0]-e[1]:void 0}}))};return i.value=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],i):e},b(i,n,y({period:"fastPeriod"})),b(i,r,y({period:"slowPeriod"})),b(i,a,y({period:"signalPeriod"})),i}function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t,n){return t&&P(e.prototype,t),n&&P(e,n),e}function D(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}function L(e){return L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},L(e)}function I(e,t){return I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},I(e,t)}function R(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function B(e,t,n){return B=R()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&I(a,n.prototype),a},B.apply(null,arguments)}function j(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function Z(e){var t="function"==typeof Map?new Map:void 0;return Z=function(e){if(null===e||!j(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return B(e,arguments,L(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),I(n,e)},Z(e)}function H(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?H(e):t}function W(e){var t=R();return function(){var n,r=L(e);if(t){var a=L(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return F(this,n)}}function Y(e,t){return G(e)||Q(e,t)||K(e,t)||te()}function q(e){return G(e)||X(e)||K(e)||te()}function U(e){return $(e)||X(e)||K(e)||ee()}function $(e){if(Array.isArray(e))return J(e)}function G(e){if(Array.isArray(e))return e}function X(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function Q(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}}function K(e,t){if(e){if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J(e,t):void 0}}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ee(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function te(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ne(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=K(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}function re(){var e=M().period(14),n=function(e,t){return t+(e[e.length-1]-t)/e.length},r=function(e){var t=Y(e,2),n=t[0],r=t[1];return n<r?0:n-r},a=function(e){var t=Y(e,2),n=t[0],r=t[1];return n>r?0:r-n},i=function(e,r){return void 0!==r?n(e,r):t.mean(e)},o=function(){var e,n,o;return function(l){if(l){if(void 0!==e){var c=t.pairs([e].concat(U(l)));return n=i(c.map(r),n),o=i(c.map(a),o),E(100-100/(1+(isNaN(e)?NaN:o/n)))}e=l[0]}else void 0!==e&&(e=NaN)}},l=function(t){var n=o();return e.accumulator(n),e(t)};return g(l,e,"period","value"),l}function ae(){var e=M().accumulator((function(e){return e&&t.mean(e)})),n=function(t){return e(t)};return g(n,e,"period","value"),n}function ie(){var e=function(e,t){return e.close},n=function(e,t){return e.high},r=function(e,t){return e.low},a=M().period(5).defined((function(t){return null!=e(t)&&null!=n(t)&&null!=r(t)})).accumulator((function(a){var i=a&&t.max(a,n),o=a&&t.min(a,r);return E(a&&100*(e(a[a.length-1])-o)/(i-o))})),i=ae().period(3),o=function(e){var t=a(e),n=i(t);return t.map((function(e,t){return{k:e,d:n[t]}}))};return o.closeValue=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],o):e},o.highValue=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},o.lowValue=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],o):r},b(o,a,y({period:"kPeriod"})),b(o,i,y({period:"dPeriod"})),o}function oe(){var e=function(e,t){return e.volume},t=function(e,t){return e.close},n=C().period(13),r=M().period(2).defined((function(n){return null!=t(n)&&null!=e(n)})).accumulator((function(n){return n&&E((t(n[1])-t(n[0]))*e(n[1]))})),a=function(e){var t=r(e);return n(t)};return a.volumeValue=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],a):e},a.closeValue=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],a):t},g(a,n,"period"),a}function le(){var e=.1,t=S,n=function(n){return n.map((function(n){return{lower:E(t(n)*(1-e)),upper:E(t(n)*(1+e))}}))};return n.factor=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],n):e},n.value=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],n):t},n}function ce(){var e=function(e,t){return e.close},n=function(e,t){return e.high},r=function(e,t){return e.low},a=C().period(13),i=function(i){return a.value(e),t.zip(i,a(i)).map((function(e){return{bullPower:E(n(e[0])-e[1]),bearPower:E(r(e[0])-e[1])}}))};return i.closeValue=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],i):e},i.highValue=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],i):n},i.lowValue=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],i):r},g(i,a,"period"),i}function se(){var e={distance:function(e,t){return t-e},offset:function(e,t){return e instanceof Date?new Date(e.getTime()+t):e+t},clampUp:function(e){return e},clampDown:function(e){return e},copy:function(){return e}};return e}function ue(e,t){var n=e.map(t.clampUp);return n.length!==new Set(n.map((function(e){return null==e?void 0:e.valueOf()}))).size&&console.warn("There are multiple ticks that fall within a discontinuity, which has led to them being rendered on top of each other. Consider using scale.ticks to explicitly specify the ticks for the scale."),n}function fe(e){var t=this;arguments.length||(e=n.scaleIdentity());var r=se(),a=function(t){var n=e.domain(),a=e.range(),i=r.distance(n[0],n[1]);return r.distance(n[0],t)/i*(a[1]-a[0])+a[0]};return a.invert=function(t){var n=e.domain(),a=e.range(),i=(t-a[0])/(a[1]-a[0])*r.distance(n[0],n[1]);return r.offset(n[0],i)},a.domain=function(){if(!arguments.length)return e.domain();var t=arguments.length<=0?void 0:arguments[0],n=r.clampUp(t[0]),i=r.clampDown(t[1]);return e.domain([n,i]),a},a.nice=function(){e.nice();var t=e.domain(),n=r.clampUp(t[0]),i=r.clampDown(t[1]);return e.domain([n,i]),a},a.ticks=function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return ue(e.ticks.apply(t,a),r)},a.copy=function(){return fe(e.copy()).discontinuityProvider(r.copy())},a.discontinuityProvider=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],a):r},b(a,e,v("range","rangeRound","interpolate","clamp","tickFormat")),a}var de=function(e,t,n,r){var a={sunday:0,monday:1,saturday:6},i=864e5,o=5*i,l=7*i,c={},s=function(t){return 0===e(t)||6===e(t)};return c.clampDown=function(n){if(n&&s(n)){var r=t.ceil(n);return e(r)===a.sunday?t.offset(r,-1):e(r)===a.monday?t.offset(r,-2):r}return n},c.clampUp=function(n){if(n&&s(n)){var r=t.floor(n);return e(r)===a.saturday?t.offset(r,2):e(r)===a.sunday?t.offset(r,1):r}return n},c.distance=function(e,t){e=c.clampUp(e),t=c.clampDown(t);var r=n.ceil(e);if(t<r)return t.getTime()-e.getTime();var a=r.getTime()-e.getTime(),i=n.ceil(t),s=i.getTime()-t.getTime();return Math.round((i.getTime()-r.getTime())/l)*o+a-s},c.offset=function(e,a){var i=s(e)?c.clampUp(e):e;if(0===a)return i;var l=a<0,u=a>0,f=a,d=l?r.floor(i):n.ceil(i);if(f-=d.getTime()-i.getTime(),l&&f>0||u&&f<0)return new Date(i.getTime()+a);i=l?d:t.offset(d,2);var h=Math.floor(f/o);return i=t.offset(i,7*h),f-=h*o,i=new Date(i.getTime()+f)},c.copy=function(){return c},c},he=function(){return de((function(e){return e.getDay()}),r.timeDay,r.timeSaturday,r.timeMonday)},ge=function(){return de((function(e){return e.getUTCDay()}),r.utcDay,r.utcSaturday,r.utcMonday)},pe=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=function(e,t){return e>t[0]&&e<t[1]},a=function(e,t){return e[0]>=t[0]&&e[1]<=t[1]},i={distance:function(e,n){e=i.clampUp(e),n=i.clampDown(n);var r=t.filter((function(t){return a(t,[e,n])})).map((function(e){return e[1]-e[0]}));return n-e-r.reduce((function(e,t){return e+t}),0)}},o=function(e,t){return e instanceof Date?new Date(e.getTime()+t):e+t};return i.offset=function(e,n){if(n>0){var r=function(){for(var r=i.clampUp(e),a=n;a>0;){var l=t.filter((function(e){return e[0]>r})).sort((function(e,t){return e[0]-t[0]}));if(l.length){var c=l[0],s=c[0]-r;s>a?(r=o(r,a),a=0):(r=c[1],a-=s)}else r=o(r,a),a=0}return{v:r}}();if("object"===T(r))return r.v}else{var a=function(){for(var r=i.clampDown(e),a=n;a<0;){var l=t.filter((function(e){return e[1]<r})).sort((function(e,t){return t[0]-e[0]}));if(l.length){var c=l[0],s=c[1]-r;s<a?(r=o(r,a),a=0):(r=c[0],a-=s)}else r=o(r,a),a=0}return{v:r}}();if("object"===T(a))return a.v}},i.clampUp=function(e){return t.reduce((function(e,t){return r(e,t)?t[1]:e}),e)},i.clampDown=function(e){return t.reduce((function(e,t){return r(e,t)?t[0]:e}),e)},i.copy=function(){return i},i};function be(){var e=[function(e){return e}],n=[0,0],r="percent",a=null,i=[],o=function(o){var l,c=new Array(o.length),s=ne(e);try{for(s.s();!(l=s.n()).done;)for(var u=l.value,f=0;f<o.length;f++){var d=u(o[f],f);Array.isArray(d)?c.push.apply(c,U(d)):c.push(d)}}catch(e){s.e(e)}finally{s.f()}var h=[t.min(c),t.max(c)];if(h[0]=null==h[0]?t.min(i):t.min([h[0]].concat(U(i))),h[1]=null==h[1]?t.max(i):t.max([h[1]].concat(U(i))),null!=a){var g=Math.max(Math.abs(h[1]-a),Math.abs(h[0]-a));h[0]=a-g,h[1]=a+g}switch(r){case"domain":h[0]-=n[0],h[1]+=n[1];break;case"percent":var p=h[1]-h[0];h[0]-=n[0]*p,h[1]+=n[1]*p;break;default:throw new Error("Unknown padUnit: ".concat(r))}return h};return o.accessors=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],o):e},o.pad=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},o.padUnit=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],o):r},o.include=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],o):i},o.symmetricalAbout=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],o):a},o}function _e(){var e=[],t=[0,0],n="percent",r=null,a=[],i=be(),o=function(e){return null!=e?e.valueOf():null},l=function(l){var c=e.map((function(e){return function(){var t=e.apply(void 0,arguments);return Array.isArray(t)?t.map(o):o(t)}}));return i.accessors(c).pad(t).padUnit(n).symmetricalAbout(null!=r?r.valueOf():null).include(a.map((function(e){return e.valueOf()}))),i(l).map((function(e){return new Date(e)}))};return l.accessors=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],l):e},l.pad=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],l):t},l.padUnit=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],l):n},l.include=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],l):a},l.symmetricalAbout=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],l):r},l}function me(){var e=1,t=20,n=.1,r=.1,i=a.randomNormal(),o=function(){for(var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=e/t,l=[],c=0;c<t+1;c++){l.push(a);var s=i()*Math.sqrt(o)*r+(n-r*r/2)*o;a*=Math.exp(s)}return l};return o.period=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],o):e},o.steps=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],o):t},o.mu=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},o.sigma=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],o):r},o.random=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],o):i},o}function ve(e){return"function"==typeof e?e:function(){return e}}function ye(){var e=new Date,t=100,n=r.timeDay,i=1,o=r.timeYear,l=1,c=null,s=function(){var e=a.randomNormal(1,.1);return Math.ceil(1e3*e())},u=me(),f=function(e){var t=o.offset(e,l)-e;return(n.offset(e,i)-e)/t},d=function(e,t){var n=f(e),r=u.period(n)(t),a={date:e,open:r[0],high:Math.max.apply(Math,r),low:Math.min.apply(Math,r),close:r[u.steps()]};return a.volume=s(a),a},h=function(r){var a,o,l;do{a=r?n.offset(r.date,i):new Date(e.getTime()),o=r?r.close:t,r=d(a,o),l=c&&!c(r)}while(l);return r},g=function(){var e,t={next:function(){var t=h(e);return e=t,t},take:function(e){return t.until((function(t,n){return!e||e<0||n===e}))},until:function(t){for(var n=[],r=0,a=h(e),i=t&&!t(a,r);i;)n.push(a),a=h(e=a),r+=1,i=t&&!t(a,r);return n}};return t},p=function(e){return g().take(e)};if(p.stream=g,"function"!=typeof Symbol||"symbol"!==T(Symbol.iterator))throw new Error("d3fc-random-data depends on Symbol. Make sure that you load a polyfill in older browsers. See README.");return p[Symbol.iterator]=function(){var e=g();return{next:function(){return{value:e.next(),done:!1}}}},p.startDate=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],p):e},p.startPrice=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],p):t},p.interval=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],p):n},p.intervalStep=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],p):i},p.unitInterval=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],p):o},p.unitIntervalStep=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],p):l},p.filter=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],p):c},p.volume=function(){return arguments.length?(s=ve(arguments.length<=0?void 0:arguments[0]),p):s},b(p,u),p}function we(e){var t=e.date.getDay();return!(0===t||6===t)}function xe(){var e="BTC-USD",t=null,n=null,r=null,a=function(){var a=[];null!=t&&a.push("start="+t.toISOString()),null!=n&&a.push("end="+n.toISOString()),null!=r&&a.push("granularity="+r);var o="https://api.gdax.com/products/"+e+"/candles?"+a.join("&");return i.json(o).then((function(e){return e.map((function(e){return{date:new Date(1e3*e[0]),open:e[3],high:e[2],low:e[1],close:e[4],volume:e[5]}}))}))};return a.product=function(t){return arguments.length?(e=t,a):e},a.start=function(e){return arguments.length?(t=e,a):t},a.end=function(e){return arguments.length?(n=e,a):n},a.granularity=function(e){return arguments.length?(r=e,a):r},a}function Se(){var e=10,n=function(n){return e<=1?n.map((function(e){return[e]})):t.range(0,Math.ceil(n.length/e)).map((function(t){return n.slice(t*e,(t+1)*e)}))};return n.bucketSize=function(t){return arguments.length?(e=t,n):e},n}function ke(){var e=Se(),n=function(e){return e},r=function(e){return e},a=function(n){if(e.bucketSize()>=n.length)return n;var r=i(n),a=e(r),o=e(n.slice(1,n.length-1)).map((function(e,n){var r=a[n],i=t.max(r);return e[r.indexOf(i)]}));return[].concat([n[0]],o,[n[n.length-1]])};function i(e){var a=e.map((function(e){return[n(e),r(e)]}));return t.range(1,a.length-1).map((function(e){var t=a[e-1],n=a[e],r=a[e+1];return.5*Math.abs((t[0]-r[0])*(n[1]-t[1])-(t[0]-n[0])*(r[1]-t[1]))}))}return g(a,e,"bucketSize"),a.x=function(e){return arguments.length?(n=e,a):n},a.y=function(e){return arguments.length?(r=e,a):r},a}function Ae(){var e=function(e){return e},n=function(e){return e},r=Se(),a=function(a){if(r.bucketSize()>=a.length)return a;var i=r(a.slice(1,a.length-1)),o=a[0],l=a[a.length-1],c=[].concat([o],i,[l]),s=e(o),u=n(o),f=i.map((function(r,a){var i=t.mean(c[a+1],e),o=t.mean(c[a+1],n),l=r.map((function(t){return[e(t),n(t)]})),f=l.map((function(e){return.5*Math.abs((s-i)*(e[1]-u)-(s-e[0])*(o-u))})),d=f.indexOf(t.max(f)),h=l[d];return s=h[0],u=h[1],r[d]}));return[].concat([a[0]],f,[a[a.length-1]])};return g(a,r,"bucketSize"),a.x=function(t){return arguments.length?(e=t,a):e},a.y=function(e){return arguments.length?(n=e,a):n},a}function Ee(){var e=Se(),n=function(e){return e},r=function(r){if(e.bucketSize()>r.length)return r;var a=t.extent(r,n),i=e(r.slice(1,r.length-1)).map((function(e,t){var r,i,o={},l=!0,c=e.map(n),s=c.filter((function(e){return e===a[0]||e===a[1]})).map((function(e){return c.indexOf(e)}))[0];return void 0!==s?e[s]:(c.forEach((function(e,t){void 0===o[e]&&(o[e]=0),o[e]++,o[e]>o[r]||void 0===r?(r=e,i=t,l=!0):o[e]===o[r]&&(l=!1)})),l?e[i]:e[Math.floor(e.length/2)])}));return[].concat([r[0]],i,[r[r.length-1]])};return g(r,e,"bucketSize"),r.value=function(e){return arguments.length?(n=e,r):n},r}var Me=function(e){return"function"==typeof e?e:function(){return e}},Ve=function(){var e=null,t=function(e){return e.date},n=function(e){return e.open},r=function(e){return e.high},a=function(e){return e.low},i=function(e){return e.close},l="vertical",c=Me(3),s=function(s){var u=e||o.path();return s.forEach((function(e,o){var s=t(e,o),f=n(e,o),d=r(e,o),h=a(e,o),g=i(e,o),p=c(e,o)/2;"vertical"===l?(u.moveTo(s,h),u.lineTo(s,d),u.moveTo(s,f),u.lineTo(s-p,f),u.moveTo(s,g),u.lineTo(s+p,g)):(u.moveTo(h,s),u.lineTo(d,s),u.moveTo(f,s),u.lineTo(f,s+p),u.moveTo(g,s),u.lineTo(g,s-p))})),e?null:u.toString()};return s.context=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],s):e},s.x=function(){return arguments.length?(t=Me(arguments.length<=0?void 0:arguments[0]),s):t},s.open=function(){return arguments.length?(n=Me(arguments.length<=0?void 0:arguments[0]),s):n},s.high=function(){return arguments.length?(r=Me(arguments.length<=0?void 0:arguments[0]),s):r},s.low=function(){return arguments.length?(a=Me(arguments.length<=0?void 0:arguments[0]),s):a},s.close=function(){return arguments.length?(i=Me(arguments.length<=0?void 0:arguments[0]),s):i},s.width=function(){return arguments.length?(c=Me(arguments.length<=0?void 0:arguments[0]),s):c},s.orient=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],s):l},s},Ce=function(){var e=null,t=function(e){return e.x},n=function(e){return e.y},r="center",a="center",i=function(e){return e.height},l=Me(3),c=function(c,s){var u=e||o.path();return c.forEach((function(e,o){var c,f,d=t.call(this,e,s||o),h=n.call(this,e,s||o),g=i.call(this,e,s||o),p=l.call(this,e,s||o);switch(r){case"left":c=p;break;case"right":c=0;break;case"center":c=p/2;break;default:throw new Error("Invalid horizontal alignment "+r)}switch(a){case"bottom":f=-g;break;case"top":f=0;break;case"center":f=g/2;break;default:throw new Error("Invalid vertical alignment "+a)}u.rect(d-c,h-f,p,g)}),this),e?null:u.toString()};return c.context=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],c):e},c.x=function(){return arguments.length?(t=Me(arguments.length<=0?void 0:arguments[0]),c):t},c.y=function(){return arguments.length?(n=Me(arguments.length<=0?void 0:arguments[0]),c):n},c.width=function(){return arguments.length?(l=Me(arguments.length<=0?void 0:arguments[0]),c):l},c.horizontalAlign=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],c):r},c.height=function(){return arguments.length?(i=Me(arguments.length<=0?void 0:arguments[0]),c):i},c.verticalAlign=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],c):a},c},ze=function(){var e=null,t=function(e){return e.date},n=function(e){return e.open},r=function(e){return e.high},a=function(e){return e.low},i=function(e){return e.close},l=Me(3),c=function(c){var s=e||o.path();return c.forEach((function(e,o){var c=t(e,o),u=n(e,o),f=r(e,o),d=a(e,o),h=i(e,o),g=l(e,o),p=g/2;s.rect(c-p,u,g,h-u),s.moveTo(c,Math.min(h,u)),s.lineTo(c,f),s.moveTo(c,Math.max(h,u)),s.lineTo(c,d)})),e?null:s.toString()};return c.context=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],c):e},c.x=function(){return arguments.length?(t=Me(arguments.length<=0?void 0:arguments[0]),c):t},c.open=function(){return arguments.length?(n=Me(arguments.length<=0?void 0:arguments[0]),c):n},c.high=function(){return arguments.length?(r=Me(arguments.length<=0?void 0:arguments[0]),c):r},c.low=function(){return arguments.length?(a=Me(arguments.length<=0?void 0:arguments[0]),c):a},c.close=function(){return arguments.length?(i=Me(arguments.length<=0?void 0:arguments[0]),c):i},c.width=function(){return arguments.length?(l=Me(arguments.length<=0?void 0:arguments[0]),c):l},c},Te=function(){var e=null,t=function(e){return e.value},n=function(e){return e.median},r=function(e){return e.upperQuartile},a=function(e){return e.lowerQuartile},i=function(e){return e.high},l=function(e){return e.low},c="vertical",s=Me(5),u=Me(.5),f=function(f){var d=e||o.path();return f.forEach((function(e,o){var f=t(e,o),h=s(e,o),g=h/2,p=h*u(e,o)/2,b=i(e,o),_=r(e,o),m=n(e,o),v=a(e,o),y=l(e,o),w=v-_;"vertical"===c?(d.moveTo(f-p,b),d.lineTo(f+p,b),d.moveTo(f,b),d.lineTo(f,_),d.rect(f-g,_,h,w),d.moveTo(f-g,m),d.lineTo(f+g,m),d.moveTo(f,v),d.lineTo(f,y),d.moveTo(f-p,y),d.lineTo(f+p,y)):(d.moveTo(y,f-p),d.lineTo(y,f+p),d.moveTo(y,f),d.lineTo(v,f),d.rect(v,f-g,-w,h),d.moveTo(m,f-g),d.lineTo(m,f+g),d.moveTo(_,f),d.lineTo(b,f),d.moveTo(b,f-p),d.lineTo(b,f+p))})),e?null:d.toString()};return f.context=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],f):e},f.value=function(){return arguments.length?(t=Me(arguments.length<=0?void 0:arguments[0]),f):t},f.median=function(){return arguments.length?(n=Me(arguments.length<=0?void 0:arguments[0]),f):n},f.upperQuartile=function(){return arguments.length?(r=Me(arguments.length<=0?void 0:arguments[0]),f):r},f.lowerQuartile=function(){return arguments.length?(a=Me(arguments.length<=0?void 0:arguments[0]),f):a},f.high=function(){return arguments.length?(i=Me(arguments.length<=0?void 0:arguments[0]),f):i},f.low=function(){return arguments.length?(l=Me(arguments.length<=0?void 0:arguments[0]),f):l},f.width=function(){return arguments.length?(s=Me(arguments.length<=0?void 0:arguments[0]),f):s},f.orient=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],f):c},f.cap=function(){return arguments.length?(u=Me(arguments.length<=0?void 0:arguments[0]),f):u},f},Ne=function(){var e=null,t=function(e){return e.x},n=function(e){return e.high},r=function(e){return e.low},a="vertical",i=Me(5),l=function(l){var c=e||o.path();return l.forEach((function(e,o){var l=t(e,o),s=i(e,o)/2,u=n(e,o),f=r(e,o);"vertical"===a?(c.moveTo(l-s,u),c.lineTo(l+s,u),c.moveTo(l,u),c.lineTo(l,f),c.moveTo(l-s,f),c.lineTo(l+s,f)):(c.moveTo(f,l-s),c.lineTo(f,l+s),c.moveTo(f,l),c.lineTo(u,l),c.moveTo(u,l-s),c.lineTo(u,l+s))})),e?null:c.toString()};return l.context=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],l):e},l.value=function(){return arguments.length?(t=Me(arguments.length<=0?void 0:arguments[0]),l):t},l.high=function(){return arguments.length?(n=Me(arguments.length<=0?void 0:arguments[0]),l):n},l.low=function(){return arguments.length?(r=Me(arguments.length<=0?void 0:arguments[0]),l):r},l.width=function(){return arguments.length?(i=Me(arguments.length<=0?void 0:arguments[0]),l):i},l.orient=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],l):a},l},Pe=function(e){return"function"==typeof e?e:function(){return e}},Oe=1e-6,De=function(e){return e.selection()!==e},Le=function(e,t){e=e||"g";var n=function(e,t){return t},r=null,a=function(a,i){i=i||function(e){return e};var o=a.selection(),l=De(a)?a:null,c=o.selectChildren(null==t?e:"".concat(e,".").concat(t)).data(i,n),s=c.enter().append(e).attr("class",t),u=c.exit();c=c.merge(s);var f=l||r;return f&&(c=c.transition(f).style("opacity",1),s.style("opacity",Oe),u=u.transition(f).style("opacity",Oe)),u.remove(),c.enter=function(){return s},c.exit=function(){return u},c};return a.element=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],a):e},a.className=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],a):t},a.key=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],a):n},a.transition=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],a):r},a},Ie=function(e){var t=function(){},r=function(){return[0,0]},a=function(e,t){return[e.x,e.y]},i=e||function(e){return e},o=function(){},c=n.scaleIdentity(),s=n.scaleIdentity(),u=Le("g","label"),f=function(e){e.each((function(e,n,f){var d=u(l.select(f[n]),e).call(o),h=d.nodes(),g=h.map((function(e,t){var n=l.select(e).datum(),i=a(n,t,h),o=[c(i[0]),s(i[1])],u=r(n,t,h);return{hidden:!1,x:o[0],y:o[1],width:u[0],height:u[1]}})),p=i(g);d.attr("style",(function(e,t){return"display:"+(p[t].hidden?"none":"inherit")})).attr("transform",(function(e,t){return"translate("+p[t].x+", "+p[t].y+")"})).attr("layout-width",(function(e,t){return p[t].width})).attr("layout-height",(function(e,t){return p[t].height})).attr("anchor-x",(function(e,t,n){return g[t].x-p[t].x})).attr("anchor-y",(function(e,t,n){return g[t].y-p[t].y})),d.call(o),t(d,e,n)}))};return b(f,u,v("key")),b(f,i),f.size=function(){return arguments.length?(r=Pe(arguments.length<=0?void 0:arguments[0]),f):r},f.position=function(){return arguments.length?(a=Pe(arguments.length<=0?void 0:arguments[0]),f):a},f.component=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],f):o},f.decorate=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],f):t},f.xScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],f):c},f.yScale=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],f):s},f},Re=function(e){var t=2,n=function(e){return e},r=Le("text"),a=Le("rect"),i=Le("circle"),o=function(e){e.each((function(e,o,c){var s=c[o],u=l.select(s),f=Number(s.getAttribute("layout-width")),d=Number(s.getAttribute("layout-height"));a(u,[e]).attr("width",f).attr("height",d);var h=Number(s.getAttribute("anchor-x")),g=Number(s.getAttribute("anchor-y"));i(u,[e]).attr("r",2).attr("cx",h).attr("cy",g);var p=r(u,[e]);p.enter().attr("dy","0.9em").attr("transform","translate(".concat(t,", ").concat(t,")")),p.text(n)}))};return o.padding=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],o):t},o.value=function(){return arguments.length?(n=Pe(arguments.length<=0?void 0:arguments[0]),o):n},o},Be=function(e,t){return!(e.x>=t.x+t.width||e.x+e.width<=t.x||e.y>=t.y+t.height||e.y+e.height<=t.y)},je=function(e,t){if(Be(e,t)){var n=Math.max(e.x,t.x),r=Math.min(e.x+e.width,t.x+t.width),a=Math.max(e.y,t.y);return(r-n)*(Math.min(e.y+e.height,t.y+t.height)-a)}return 0},Ze=function(e,n){return t.sum(e.map((function(t,r){return n===r?0:je(e[n],t)})))},He=function(e,t,n,r,a){return{x:e,y:t,width:n,height:r,location:a}},Fe=function(e){var t=e.x,n=e.y,r=e.width,a=e.height;return[He(t,n,r,a,"bottom-right"),He(t-r,n,r,a,"bottom-left"),He(t-r,n-a,r,a,"top-left"),He(t,n-a,r,a,"top-right"),He(t,n-a/2,r,a,"middle-right"),He(t-r/2,n,r,a,"bottom-center"),He(t-r,n-a/2,r,a,"middle-left"),He(t-r/2,n-a,r,a,"top-center")]},We=function(e,t,n){return[].concat(U(e.slice(0,t)),[n],U(e.slice(t+1)))},Ye=function(e,t){return e<t},qe=function e(){var n,r=null,a=Ye,i=function(){return 0},o=function(e,t){return r-i(n[t],t,n)+i(e,t,We(n,t,e))},l=function l(c,s){r||(r=t.sum(n.map((function(e,t){return i(e,t,n)}))));var u=o(c,s);return a(u,r)?e().locationScore(i).winningScore(a).score(u).rectangles(We(n,s,c)):l};return l.rectangles=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],l):n},l.score=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],l):r},l.winningScore=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],l):a},l.locationScore=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],l):i},l},Ue=function(){var e,t=function(t){return e?t.width*t.height-je(t,e):0},n=function(e,n,r){return Ze(r,n)+t(e)},r=function(e){var t=qe().locationScore(n).rectangles(e);return e.forEach((function(e,n){Fe(e).forEach((function(e,r){t=t(e,n)}))})),t.rectangles()};return r.bounds=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],r):e},r},$e=function(e){return e[Ge(e)]},Ge=function(e){return Math.floor(Math.random()*e.length)},Xe=function(){var e,t=1e3,n=1,r=function(e){switch(e.location){case"bottom-right":return 0;case"middle-right":case"bottom-center":return e.width*e.height/8}return e.width*e.height/4},a=function(t){return e?t.width*t.height-je(t,e):0},i=function(e,t,n){return Ze(n,t)+a(e)+r(e)},o=function(e){for(var r=t,a=function(e,t){return Math.exp((t-e)/r)>Math.random()},o=qe().locationScore(i).winningScore(a).rectangles(e);r>0;){var l=Ge(e);o=o($e(Fe(e[l])),l),r-=n}return o.rectangles()};return o.temperature=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],o):t},o.cooling=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},o.bounds=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],o):e},o},Qe=function(e,n){return e[t.scan(e,n)]},Ke=function(e){var t=function(t){t=e(t);for(var n=function(){var e=t.filter((function(e){return!e.hidden})),n=e.map((function(t,n){return[t,Ze(e,n)]})),r=Qe(n,(function(e,t){return t[1]-e[1]}));if(!(r[1]>0))return"break";r[0].hidden=!0};"break"!==n(););return t};return b(t,e=e||function(e){return e}),t},Je=function(){var e=[0,0],t=function(t){return t.map((function(t,n){var r=t.x,a=t.y;return r+t.width>e[0]&&(r-=t.width),a+t.height>e[1]&&(a-=t.height),{height:t.height,width:t.width,x:r,y:a}}))};return t.bounds=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],t):e},t},et=function(e){return"function"==typeof e?e:function(){return e}};function tt(){var e=arguments;return function(t,n){for(var r=0,a=e.length;r<a;r++)if(null==e[r](t,n))return!1;return!0}}var nt=function(e,t){switch(e){case"left":return t/2;case"right":return-t/2;default:return 0}},rt=function(e){var t=Object.assign({},e),n=function(){};return Object.keys(t).forEach((function(e){n[e]=function(){return arguments.length?(t[e]=arguments.length<=0?void 0:arguments[0],n):t[e]}})),n},at=function(){var e=function(){return 0},t=function(e){return e.x},r=function(e){return e.y},a="center",i=function(){return 5},o="vertical",l=rt({decorate:function(){},defined:function(n,a){return tt(e,t,r)(n,a)},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()});return l.values=function(n,c){var s=i(n,c),u=nt(a,s),f=l.xScale(),d=l.yScale();if("vertical"===o){var h=d(r(n,c),c),g=d(e(n,c),c),p=f(t(n,c),c)+u;return{d:n,x:p,y:h,y0:g,width:s,height:h-g,origin:[p,h],baseOrigin:[p,g],transposedX:p,transposedY:h}}var b=f(r(n,c),c),_=f(e(n,c),c),m=d(t(n,c),c)+u;return{d:n,x:m,y:b,y0:_,width:s,height:b-_,origin:[b,m],baseOrigin:[_,m],transposedX:b,transposedY:m}},l.xValues=function(){return"vertical"===o?[t]:[e,r]},l.yValues=function(){return"vertical"!==o?[t]:[e,r]},l.baseValue=function(){return arguments.length?(e=et(arguments.length<=0?void 0:arguments[0]),l):e},l.crossValue=function(){return arguments.length?(t=et(arguments.length<=0?void 0:arguments[0]),l):t},l.mainValue=function(){return arguments.length?(r=et(arguments.length<=0?void 0:arguments[0]),l):r},l.bandwidth=function(){return arguments.length?(i=et(arguments.length<=0?void 0:arguments[0]),l):i},l.align=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],l):a},l.orient=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],l):o},l},it={red:"#c60",green:"#6c0",black:"#000",gray:"#ddd",darkGray:"#999"},ot=function(){var e=at(),t=c.line().x((function(t,n){return e.values(t,n).transposedX})).y((function(t,n){return e.values(t,n).transposedY})),n=Le("path","line"),r=function(r){De(r)&&n.transition(r),t.defined(e.defined()),r.each((function(r,a,i){var o=n(l.select(i[a]),[r]);o.enter().attr("fill","none").attr("stroke",it.black),o.attr("d",t),e.decorate()(o,r,a)}))};return b(r,e,m("baseValue","bandwidth","align")),g(r,n,"key"),g(r,t,"curve"),r},lt=function(){var e=at(),t=c.line().x((function(t,n){return e.values(t,n).transposedX})).y((function(t,n){return e.values(t,n).transposedY})),n=function(n){var r=t.context();r.beginPath(),r.strokeStyle=it.black,r.fillStyle="transparent",e.decorate()(r,n),t.defined(e.defined())(n),r.fill(),r.stroke(),r.closePath()};return b(n,e,m("baseValue","bandwidth","align")),g(n,t,"curve","context"),n},ct=function(){var e=[0,1],t=[-1,1],n=function(){};return n.domain=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],n):e},n.range=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],n):t},n},st=function(){var e={},t={},n=null,r=function(r,a){var i=r.context();Object.keys(e).forEach((function(t){var n=e[t];if("function"!=typeof n)throw new Error("Expected an attribute for ".concat(t,", found ").concat(n));var o=i.getAttribLocation(a,t);n.location(o)(r)})),Object.keys(t).forEach((function(e){var n=t[e];if("function"!=typeof n)throw new Error("Expected a uniform for ".concat(e,", found ").concat(n));var o=i.getUniformLocation(a,e);n.location(o)(r)})),null!==n&&n(r)};return r.flush=function(){Object.values(e).forEach((function(e){return e.clear()})),Object.values(t).forEach((function(e){return e.clear()})),null!==n&&n.clear()},r.attribute=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return 1===n.length?e[n[0]]:(e[n[0]]=n[1],r)},r.uniform=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return 1===n.length?t[n[0]]:(t[n[0]]=n[1],r)},r.elementIndices=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],r):n},r},ut=function(e){var t=-1,n=e,r=!0,a=function(e){if(r){var a=e.context();if(Array.isArray(n))switch(n.length){case 1:a.uniform1fv(t,n);break;case 2:a.uniform2fv(t,n);break;case 3:a.uniform3fv(t,n);break;case 4:a.uniform4fv(t,n);break;default:throw new Error("Uniform supports up to 4 elements. ".concat(n.length," provided."))}else a.uniform1f(t,n);r=!1}};return a.clear=function(){r=!0},a.location=function(){return arguments.length?(t!==(arguments.length<=0?void 0:arguments[0])&&(t=arguments.length<=0?void 0:arguments[0],r=!0),a):t},a.data=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],r=!0,a):n},a},ft={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},dt=function(){var e=null,t=null,n=null,r=null,a=null,i=null,o=ft.TRIANGLES,l=0,c=st(),s=!1,u=null,f=!0,d=1,h=function s(h){if(null!=e){var b=n(),_=r();if(g(t,b,_)&&(t=p(b,_),a=b,i=_,f=!1),e.useProgram(t),c.uniform("uScreen",ut([e.canvas.width/d,e.canvas.height/d])),c(s,t),0===l)null==c.elementIndices()?e.drawArrays(o,0,h):e.drawElements(o,h,e.UNSIGNED_SHORT,0);else if(null==c.elementIndices())u.drawArraysInstancedANGLE(o,0,l,h);else{var m=c.elementIndices().data().length;if(l!==m)throw new Error("Expected elementIndices length ".concat(m)+" to match subInstanceCount ".concat(l,"."));u.drawElementsInstancedANGLE(o,l,e.UNSIGNED_SHORT,0,h)}}};return h.extInstancedArrays=function(){return u},h.context=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.length?(null!=n[0]&&n[0]===e||(c.flush(),f=!0),null!=n[0]&&n[0]!==e&&(u=n[0].getExtension("ANGLE_instanced_arrays")),e=n[0],h):e},h.buffers=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],h):c},h.vertexShader=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],h):n},h.fragmentShader=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],h):r},h.mode=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],h):o},h.subInstanceCount=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],h):l},h.debug=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],h):s},h.pixelRatio=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],h):d},h;function g(e,t,n){return!(e&&!f)||t!==a||n!==i}function p(t,n){var r=b(t,e.VERTEX_SHADER),a=b(n,e.FRAGMENT_SHADER),i=e.createProgram();if(e.attachShader(i,r),e.attachShader(i,a),e.linkProgram(i),s&&!e.getProgramParameter(i,e.LINK_STATUS)){var o=e.getProgramInfoLog(i);throw e.deleteProgram(i),new Error("Failed to link program : ".concat(o,"\n            Vertex Shader : ").concat(t,"\n            Fragment Shader : ").concat(n))}return i}function b(t,n){var r=e.createShader(n);if(e.shaderSource(r,t),e.compileShader(r),s&&!e.getShaderParameter(r,e.COMPILE_STATUS)){var a=e.getShaderInfoLog(r);throw e.deleteShader(r),new Error("Failed to compile shader : ".concat(a,"\n            Shader : ").concat(t))}return r}},ht=function(e){var t=[],n=[],r=function(){return e(t.join("\n"),n.join("\n"))};function a(e,t){e.push(t)}function i(e,t,n){var r=e.indexOf(n);e.splice(r>=0?r:e.length,0,t)}function o(e,t){-1===e.indexOf(t)&&e.push(t)}return r.appendHeader=function(e){return a(t,e),r},r.insertHeader=function(e,n){return i(t,e,n),r},r.appendHeaderIfNotExists=function(e){return o(t,e),r},r.appendBody=function(e){return a(n,e),r},r.insertBody=function(e,t){return i(n,e,t),r},r.appendBodyIfNotExists=function(e){return o(n,e),r},r},gt=function(e,t){return"\nprecision mediump float;\nfloat inf = 1.0 / 0.0;\n".concat(e,"\nvoid main() {\n    ").concat(t,"\n}")},pt=function(e,t){return"\nprecision mediump float;\n".concat(e,"\nvoid main() {\n    gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n    ").concat(t,"\n}")},bt={header:"attribute vec4 aFillColor;\n             varying vec4 vFillColor;",body:"vFillColor = aFillColor;"},_t={header:"attribute vec4 aStrokeColor;\n             varying vec4 vStrokeColor;",body:"vStrokeColor = aStrokeColor;"},mt={header:"\n        attribute float aCrossValue;\n        attribute float aMainValue;\n        attribute float aSize;\n        attribute float aDefined;\n\n        uniform float uStrokeWidth;\n\n        varying float vSize;\n        varying float vDefined;",body:"\n        vDefined = aDefined;\n        vSize = 2.0 * sqrt(aSize / 3.14159);\n        gl_PointSize = vSize + uStrokeWidth + 1.0;\n        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);"},vt={header:"\n        attribute float aCrossValue;\n        attribute float aMainValue;\n        attribute float aSize;\n        attribute float aDefined;\n\n        uniform float uStrokeWidth;\n\n        varying float vSize;\n        varying float vDefined;",body:"\n        vDefined = aDefined;\n        vSize = 4.0 * sqrt(aSize / 3.14159);\n        gl_PointSize = vSize + uStrokeWidth + 1.0;\n        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);"},yt={header:"\n        attribute float aCrossValue;\n        attribute float aMainValue;\n        attribute float aSize;\n        attribute float aDefined;\n\n        uniform float uStrokeWidth;\n\n        varying float vSize;\n        varying float vDefined;",body:"\n        vDefined = aDefined;\n        vSize = 3.0 * sqrt(aSize / 3.14159);\n        gl_PointSize = vSize + uStrokeWidth + 1.0;\n        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);"},wt={header:"\n        attribute float aCrossValue;\n        attribute float aMainValue;\n        attribute float aSize;\n        attribute float aDefined;\n\n        uniform float uStrokeWidth;\n\n        varying float vSize;\n        varying float vDefined;",body:"\n        vDefined = aDefined;\n        vSize = sqrt(aSize);\n        gl_PointSize = vSize + uStrokeWidth + 1.0;\n        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);"},xt={header:"\n        attribute float aCrossValue;\n        attribute float aMainValue;\n        attribute float aSize;\n        attribute float aDefined;\n\n        uniform float uStrokeWidth;\n\n        varying float vSize;\n        varying float vDefined;",body:"\n        vDefined = aDefined;\n        vSize = sqrt(aSize);\n        gl_PointSize = 2.0 * (vSize + uStrokeWidth + 1.0);\n        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);"},St={header:"\n        attribute float aCrossValue;\n        attribute float aMainValue;\n        attribute float aSize;\n        attribute float aDefined;\n\n        uniform float uStrokeWidth;\n\n        varying float vSize;\n        varying float vDefined;",body:"\n        vDefined = aDefined;\n        vSize = sqrt((16.0 * aSize) / (3.0 * sqrt(3.0)));\n        gl_PointSize = vSize + uStrokeWidth + 1.0;\n        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);"},kt={header:"\n        attribute float aCrossValue;\n        attribute float aMainValue;\n        attribute float aSize;\n        attribute float aDefined;\n\n        uniform float uStrokeWidth;\n\n        varying float vSize;\n        varying float vStrokeWidthRatio;\n        varying float vDefined;",body:"\n        vDefined = aDefined;\n        vSize = 3.0 * sqrt(aSize / 5.0);\n        vStrokeWidthRatio = uStrokeWidth / (vSize + uStrokeWidth + 1.0);\n        gl_PointSize = vSize + uStrokeWidth + 1.0;\n        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);"},At={header:"\n        attribute float aCrossValue;\n        attribute float aBandwidth;\n        attribute float aHighValue;\n        attribute float aOpenValue;\n        attribute float aCloseValue;\n        attribute float aLowValue;\n        attribute vec3 aCorner;\n        attribute float aDefined;\n\n        uniform vec2 uScreen;\n        uniform float uStrokeWidth;\n\n        varying float vColorIndicator;\n        varying float vDefined;",body:"\n        vDefined = aDefined;\n        vColorIndicator = sign(aCloseValue - aOpenValue);\n\n        float isPositiveY = (sign(aCorner.y) + 1.0) / 2.0;\n        float isNotPositiveY = 1.0 - isPositiveY;\n        float isExtremeY = abs(aCorner.y) - 1.0;\n        float isNotExtremeY = 1.0 - isExtremeY;\n        float yValue =\n         (isPositiveY * isExtremeY * aLowValue) +\n         (isPositiveY * isNotExtremeY * aCloseValue) +\n         (isNotPositiveY * isNotExtremeY * aOpenValue) +\n         (isNotPositiveY * isExtremeY * aHighValue);\n\n        float lineWidthXDirection = (isNotExtremeY * aCorner.x) + (isExtremeY * aCorner.z);\n        float lineWidthYDirection = isNotExtremeY * sign(aCloseValue - aOpenValue) * aCorner.y;\n\n        float bandwidthModifier = aBandwidth * aCorner.x / 2.0;\n\n        float xModifier = (uStrokeWidth * lineWidthXDirection / 2.0) + bandwidthModifier;\n        float yModifier = uStrokeWidth * lineWidthYDirection / 2.0;\n\n        gl_Position = vec4(aCrossValue, yValue, 0, 1);"},Et={header:"\n        attribute float aCrossValue;\n        attribute float aBandwidth;\n        attribute float aHighValue;\n        attribute float aOpenValue;\n        attribute float aCloseValue;\n        attribute float aLowValue;\n        attribute vec3 aCorner;\n        attribute float aDefined;\n\n        uniform vec2 uScreen;\n        uniform float uStrokeWidth;\n\n        varying float vColorIndicator;\n        varying float vDefined;",body:"\n        vDefined = aDefined;\n        vColorIndicator = sign(aCloseValue - aOpenValue);\n\n        float isPositiveY = (sign(aCorner.y) + 1.0) / 2.0;\n        float isNotPositiveY = 1.0 - isPositiveY;\n        float isExtremeY = abs(aCorner.y) - 1.0;\n        float isNotExtremeY = 1.0 - isExtremeY;\n        float yValue =\n            (isPositiveY * isExtremeY * aLowValue) +\n            (isPositiveY * isNotExtremeY * aCloseValue) +\n            (isNotPositiveY * isNotExtremeY * aOpenValue) +\n            (isNotPositiveY * isExtremeY * aHighValue);\n\n        float lineWidthXDirection = isExtremeY * aCorner.z;\n        float lineWidthYDirection = isNotExtremeY * aCorner.z;\n\n        float bandwidthModifier = isNotExtremeY * aCorner.x * aBandwidth / 2.0;\n\n        float xModifier = (uStrokeWidth * lineWidthXDirection / 2.0) + bandwidthModifier;\n        float yModifier = uStrokeWidth * lineWidthYDirection / 2.0;\n\n        gl_Position = vec4(aCrossValue, yValue, 0, 1);"},Mt={header:"\n        attribute float aCrossValue;\n        attribute float aBandwidth;\n        attribute float aMainValue;\n        attribute float aBaseValue;\n        attribute vec2 aCorner;\n        attribute float aDefined;\n\n        uniform vec2 uScreen;\n        uniform float uStrokeWidth;\n\n        varying float vDefined;",body:"\n        vDefined = aDefined;\n        float isBaseline = (1.0 - aCorner.y) / 2.0;\n        float yValue = (isBaseline * aBaseValue) + ((1.0 - isBaseline) * aMainValue);\n\n        float xModifier = aCorner.x * (aBandwidth) / 2.0;\n\n        gl_Position = vec4(aCrossValue, yValue, 0, 1);"},Vt={header:"\n        attribute vec3 aCorner;\n        attribute float aCrossNextNextValue;\n        attribute float aMainNextNextValue;\n        attribute float aCrossNextValue;\n        attribute float aMainNextValue;\n        attribute float aCrossValue;\n        attribute float aMainValue;\n        attribute float aCrossPrevValue;\n        attribute float aMainPrevValue;\n        attribute float aDefined;\n        attribute float aDefinedNext;\n\n        uniform float uStrokeWidth;\n        uniform vec2 uScreen;\n\n        varying float vDefined;",body:"\n        vDefined = aDefined * aDefinedNext;\n        vec4 prev = vec4(aCrossPrevValue, aMainPrevValue, 0, 0);\n        vec4 curr = vec4(aCrossValue, aMainValue, 0, 0);\n        gl_Position = vec4(aCrossNextValue, aMainNextValue, 0, 1);\n        vec4 nextNext = vec4(aCrossNextNextValue, aMainNextNextValue, 0, 0);"},Ct={body:"\n        vec4 currVertexPosition = gl_Position;\n        vec4 nextVertexPosition = gl_Position;\n\n        if (all(equal(curr.xy, prev.xy))) {\n            prev.xy = curr.xy + normalize(curr.xy - currVertexPosition.xy);\n        }\n        if (all(equal(curr.xy, currVertexPosition.xy))) {\n            currVertexPosition.xy = curr.xy + normalize(curr.xy - prev.xy);\n        }\n        vec2 A = normalize(normalize(curr.xy - prev.xy) * uScreen);\n        vec2 B = normalize(normalize(currVertexPosition.xy - curr.xy) * uScreen);\n        vec2 tangent = normalize(A + B);\n        vec2 miter = vec2(-tangent.y, tangent.x);\n        vec2 normalA = vec2(-A.y, A.x);\n        float miterLength = 1.0 / dot(miter, normalA);\n        vec2 point = normalize(A - B);\n        if (miterLength > 10.0 && sign(aCorner.x * dot(miter, point)) > 0.0) {\n            currVertexPosition.xy = curr.xy - (aCorner.x * aCorner.y * uStrokeWidth * normalA) / uScreen.xy;\n        } else {\n            currVertexPosition.xy = curr.xy + (aCorner.x * miter * uStrokeWidth * miterLength) / uScreen.xy;\n        }\n\n        if (all(equal(nextVertexPosition.xy, curr.xy))) {\n            curr.xy = nextVertexPosition.xy + normalize(nextVertexPosition.xy - nextNext.xy);\n        }\n        if (all(equal(nextVertexPosition.xy, nextNext.xy))) {\n            nextNext.xy = nextVertexPosition.xy + normalize(nextVertexPosition.xy - curr.xy);\n        }\n        vec2 C = normalize(normalize(nextVertexPosition.xy - curr.xy) * uScreen);\n        vec2 D = normalize(normalize(nextNext.xy - nextVertexPosition.xy) * uScreen);\n        vec2 tangentCD = normalize(C + D);\n        vec2 miterCD = vec2(-tangentCD.y, tangentCD.x);\n        vec2 normalC = vec2(-C.y, C.x);\n        float miterCDLength = 1.0 / dot(miterCD, normalC);\n        vec2 pointCD = normalize(C - D);\n        if (miterCDLength > 10.0 && sign(aCorner.x * dot(miterCD, pointCD)) > 0.0) {\n            nextVertexPosition.xy = nextVertexPosition.xy - (aCorner.x * aCorner.y * uStrokeWidth * normalC) / uScreen.xy;\n        } else {\n            nextVertexPosition.xy = nextVertexPosition.xy + (aCorner.x * miterCD * uStrokeWidth * miterCDLength) / uScreen.xy;\n        }\n\n        gl_Position.xy = ((1.0 - aCorner.z) * currVertexPosition.xy) + (aCorner.z * nextVertexPosition.xy);"},zt={header:"\n        attribute vec3 aCorner;\n        attribute float aCrossValue;\n        attribute float aBandwidth;\n        attribute float aHighValue;\n        attribute float aLowValue;\n        attribute float aDefined;\n\n        uniform vec2 uScreen;\n        uniform float uStrokeWidth;\n\n        varying float vDefined;",body:"\n        vDefined = aDefined;\n        float isLow = (aCorner.y + 1.0) / 2.0;\n        float yValue = isLow * aLowValue + (1.0 - isLow) * aHighValue;\n\n        float isEdgeCorner = abs(aCorner.x);\n        float lineWidthXDirection = (1.0 - isEdgeCorner) * aCorner.z;\n        float lineWidthYDirection = isEdgeCorner * aCorner.z;\n\n        gl_Position = vec4(aCrossValue, yValue, 0, 1);\n\n        float xModifier = (uStrokeWidth * lineWidthXDirection) + (aBandwidth * aCorner.x / 2.0);\n        float yModifier = (uStrokeWidth * lineWidthYDirection);"},Tt={header:"\n        attribute vec3 aCorner;\n        attribute float aCrossValue;\n        attribute float aMainValue;\n        attribute float aCrossNextValue;\n        attribute float aMainNextValue;\n        attribute float aBaseValue;\n        attribute float aBaseNextValue;\n        attribute float aDefined;\n        attribute float aDefinedNext;\n\n        varying float vDefined;\n\n        float when_lt(float a, float b) {\n            return max(sign(b - a), 0.0);\n        }\n\n        float and(float a, float b) {\n            return a * b;\n        }",body:"\n        vDefined = aDefined * aDefinedNext;\n        gl_Position = vec4(0, 0, 0, 1);\n\n        float hasIntercepted = when_lt((aMainNextValue - aBaseNextValue) * (aMainValue - aBaseValue), 0.0);\n        float useIntercept = and(aCorner.z, hasIntercepted);\n\n        float yGradient = (aMainNextValue - aMainValue) / (aCrossNextValue - aCrossValue);\n        float yConstant = aMainNextValue - (yGradient * aCrossNextValue);\n\n        float y0Gradient = (aBaseNextValue - aBaseValue) / (aCrossNextValue - aCrossValue);\n        float y0Constant = aBaseNextValue - (y0Gradient * aCrossNextValue);\n\n        float denominator = (yGradient - y0Gradient) + step(abs(yGradient - y0Gradient), 0.0);\n        float interceptXValue = (y0Constant - yConstant) / denominator;\n        float interceptYValue = (yGradient * interceptXValue) + yConstant;\n\n        gl_Position = vec4(interceptXValue * useIntercept, interceptYValue * useIntercept, 0, 1);\n\n        gl_Position.x += (1.0 - useIntercept) * ((aCorner.x * aCrossNextValue) + ((1.0 - aCorner.x) * aCrossValue));\n        gl_Position.y += (1.0 - useIntercept) * (1.0 - aCorner.y) * ((aCorner.x * aMainNextValue) + ((1.0 - aCorner.x) * aMainValue));\n        gl_Position.y += (1.0 - useIntercept) * aCorner.y * ((aCorner.x * aBaseNextValue) + ((1.0 - aCorner.x) * aBaseValue));"},Nt={header:"\n        attribute vec4 aCorner;\n        attribute float aCrossValue;\n        attribute float aBandwidth;\n        attribute float aCapWidth;\n        attribute float aHighValue;\n        attribute float aUpperQuartileValue;\n        attribute float aMedianValue;\n        attribute float aLowerQuartileValue;\n        attribute float aLowValue;\n        attribute float aDefined;\n\n        uniform vec2 uScreen;\n        uniform float uStrokeWidth;\n\n        varying float vDefined;\n    ",body:"\n        vDefined = aDefined;\n        float isExtremeY = sign(abs(aCorner.y) - 2.0) + 1.0;\n        float isNotExtremeY = 1.0 - isExtremeY;\n\n        float isNonZeroY = abs(sign(aCorner.y));\n        float isZeroY = 1.0 - isNonZeroY;\n\n        float isQuartileY = isNotExtremeY * isNonZeroY;\n\n        float isPositiveY = (sign(aCorner.y + 0.5) + 1.0) / 2.0;\n        float isNegativeY = 1.0 - isPositiveY;\n\n        float yValue =\n          (isExtremeY * isNegativeY) * aHighValue +\n          (isQuartileY * isNegativeY) * aUpperQuartileValue +\n          isZeroY * aMedianValue +\n          (isQuartileY * isPositiveY) * aLowerQuartileValue +\n          (isExtremeY * isPositiveY) * aLowValue;\n\n        gl_Position = vec4(aCrossValue, yValue, 0, 1);\n\n        float isHorizontal = aCorner.w;\n        float isVertical = 1.0 - isHorizontal;\n\n        float xDisplacement = aCorner.x * (isExtremeY * aCapWidth + isNotExtremeY * aBandwidth) / 2.0;\n\n        float xModifier = (isVertical * uStrokeWidth * aCorner.z / 2.0) + xDisplacement;\n        float yModifier = isHorizontal * uStrokeWidth * aCorner.z / 2.0;"},Pt={header:"\n        varying float vSize;\n        varying float vDefined;",body:"\n        float canFill = 1.0;\n        float distance = length(2.0 * gl_PointCoord - 1.0);\n        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);\n        if (distance > 1.0 || vDefined < 0.5) {\n            discard;\n            return;\n        }"},Ot={header:"\n        varying float vSize;\n        varying float vDefined;\n\n        // anterior, exterior angles\n        float an = 0.628319;\n        vec2 acs = vec2(0.809017, 0.587786); // (cos, sin)\n        float en = 0.952000;\n        vec2 ecs = vec2(0.580055, 0.814577);\n    ",body:"\n        float canFill = 1.0;\n\n        vec2 p = 2.0 * gl_PointCoord - 1.0;\n        p.y *= -1.0;\n\n        // sector\n        float bn = mod(atan(p.x, p.y), 2.0 * an) - an;\n        p = length(p) * vec2(cos(bn), abs(sin(bn)));\n\n        p -= acs;\n        p += ecs * clamp(-dot(p, ecs), 0.0, acs.y / ecs.y);\n        float d = length(p) * sign(p.x);\n\n        float distance = 1.0 + d;\n        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);\n        if (distance > 1.0 || vDefined < 0.5) {\n            discard;\n            return;\n        }"},Dt={header:"\n        varying float vSize;\n        varying float vDefined;\n    ",body:"\n        float canFill = 1.0;\n\n        vec2 p = 2.0 * gl_PointCoord - 1.0;\n        p.y *= -1.0;\n\n        // sector\n        float an = 3.141593 / 3.0;\n        float bn = mod(atan(p.x, p.y), 2.0 * an) - an;\n        p = length(p) * vec2(cos(bn), abs(sin(bn)));\n\n        // box\n        vec2 d = abs(p) - vec2(0.9, 0.35);\n        float sdf = length(max(d, 0.0)) + min(max(d.x, d.y), 0.0);\n\n        float distance = 1.0 + sdf;\n        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);\n        if (distance > 1.0 || vDefined < 0.5) {\n            discard;\n            return;\n        }"},Lt={header:"\n        varying float vSize;\n        varying float vDefined;",body:"\n        float canFill = 1.0;\n        if (vDefined < 0.5) {\n            discard;\n        }\n        vec2 pointCoordTransform = 2.0 * gl_PointCoord - 1.0;\n        float distance = max(abs(pointCoordTransform.x), abs(pointCoordTransform.y));\n        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);"},It={header:"\n        varying float vSize;\n        varying float vDefined;\n        float a = 0.6;\n        float b = 1.0;\n    ",body:"\n        if (vDefined < 0.5) {\n            discard;\n        }\n\n        vec2 pointCoordTransform = 2.0 * gl_PointCoord - 1.0;\n\n        float x = abs(pointCoordTransform.x);\n        float y = abs(pointCoordTransform.y);\n\n        float X = (a * b * x) / (a * y + b * x);\n        float Y = (a * b * y) / (a * y + b * x);\n\n        float distance = length(vec2(x, y)) / length(vec2(X, Y));\n\n        if (distance > 1.0) {\n            discard;\n        }\n    "},Rt={header:"\n        varying float vSize;\n        varying float vDefined;",body:"\n        float canFill = 1.0;\n        vec2 pointCoordTransform = 2.0 * gl_PointCoord - 1.0;\n        float topEdgesDistance = abs(pointCoordTransform.x) - ((pointCoordTransform.y - 0.6) / sqrt(3.0));\n        float bottomEdgeDistance = pointCoordTransform.y + 0.5;\n        float distance = max(topEdgesDistance, bottomEdgeDistance);\n        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);\n        if (distance > 1.0 || vDefined < 0.5) {\n            discard;\n        }"},Bt={header:"\n        varying float vSize;\n        varying float vStrokeWidthRatio;\n        varying float vDefined;",body:"\n        float canFill = 1.0;\n        vec2 pointCoordTransform = 2.0 * gl_PointCoord - 1.0;\n        float innerCornerDistance = min(abs(pointCoordTransform.x), abs(pointCoordTransform.y)) + 0.66 - vStrokeWidthRatio;\n        float outerEdgeDistance = max(abs(pointCoordTransform.x), abs(pointCoordTransform.y));\n        float distance = max(innerCornerDistance, outerEdgeDistance);\n        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);\n        if (distance > 1.0 || vDefined < 0.5) {\n            discard;\n        }"},jt={header:"\n        varying float vColorIndicator;\n        varying float vDefined;",body:"\n        float canFill = 1.0;\n        float canStroke = 0.0;\n        if (vDefined < 0.5) {\n            discard;\n        }\n        gl_FragColor = vec4(0.4, 0.8, 0, 1);\n        if (vColorIndicator < 0.0) {\n            gl_FragColor = vec4(0.8, 0.4, 0, 1);\n        }"},Zt={header:"\n        varying float vColorIndicator;\n        varying float vDefined;",body:"\n        float canFill = 0.0;\n        float canStroke = 1.0;\n        if (vDefined < 0.5) {\n            discard;\n        }\n        gl_FragColor = vec4(0.4, 0.8, 0, 1);\n        if (vColorIndicator < 0.0) {\n            gl_FragColor = vec4(0.8, 0.4, 0, 1);\n        }"},Ht={header:"\n        varying float vDefined;",body:"\n        float canFill = 1.0;\n        float canStroke = 0.0;\n        if (vDefined < 0.5) {\n            discard;\n        }\n        gl_FragColor = vec4(0.86, 0.86, 0.86, 1);"},Ft={header:"\n        varying float vDefined;\n    ",body:"\n        float canFill = 0.0;\n        float canStroke = 1.0;\n\n        if (vDefined < 0.5) {\n            discard;\n        }"},Wt={header:"varying float vDefined;",body:"\n        float canFill = 0.0;\n        float canStroke = 1.0;\n        if (vDefined < 0.5) {\n            discard;\n        }"},Yt={header:"varying float vDefined;",body:"\n        float canFill = 1.0;\n        float canStroke = 0.0;\n\n        gl_FragColor = vec4(0.60, 0.60, 0.60, 1.0);\n\n        if (vDefined < 0.5) {\n            discard;\n        }"},qt={header:"varying vec4 vFillColor;",body:"gl_FragColor = (canFill * vFillColor) + ((1.0 - canFill) * gl_FragColor);"},Ut={header:"varying vec4 vStrokeColor;",body:"gl_FragColor = (canStroke * vStrokeColor) + ((1.0 - canStroke) * gl_FragColor);"},$t={header:"varying float vDefined;",body:"\n        float canFill = 0.0;\n        float canStroke = 1.0;\n        if (vDefined < 0.5) {\n            discard;\n        }"},Gt=function(){var e=ht(gt),t=ht(pt);return e.appendHeader(Tt.header).appendBody(Tt.body),t.appendHeader(Ht.header).appendBody(Ht.body),{vertex:function(){return e},fragment:function(){return t}}},Xt={BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,FLOAT:5126};function Qt(e){switch(e){case Xt.BYTE:case Xt.UNSIGNED_BYTE:return 1;case Xt.SHORT:case Xt.UNSIGNED_SHORT:return 2;case Xt.FLOAT:return 4;default:throw new Error("Unknown type ".concat(e))}}function Kt(e){switch(e){case Xt.BYTE:return Int8Array;case Xt.UNSIGNED_BYTE:return Uint8Array;case Xt.SHORT:return Int16Array;case Xt.UNSIGNED_SHORT:return Uint16Array;case Xt.FLOAT:return Float32Array;default:throw new Error("Unknown type ".concat(e))}}var Jt=function(){var e=-1,t=null,n=1,r=Xt.FLOAT,a=!1,i=0,o=0,l=null,c=function(c){var s=c.context();null==t&&(t=s.createBuffer()),s.bindBuffer(s.ARRAY_BUFFER,t),s.vertexAttribPointer(e,n,r,a,i,o),s.enableVertexAttribArray(e),c.extInstancedArrays().vertexAttribDivisorANGLE(e,null!=l?l:c.subInstanceCount()>0?1:0)};return c.location=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],c):e},c.buffer=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],c):t},c.size=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],c):n},c.type=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],c):r},c.normalized=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],c):a},c.stride=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],c):i},c.offset=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],c):o},c.divisor=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],c):l},c},en=function(){var e=Xt.FLOAT,t=new Float32Array(0),n=function(n){var r=Kt(e);return t.length>n?t=new r(t.buffer,0,n):t.length!==n&&(t=new r(n)),t};return n.type=function(){if(!arguments.length)return e;if(e!==(arguments.length<=0?void 0:arguments[0])){var r=Kt(e=arguments.length<=0?void 0:arguments[0]);t=new r(0)}return n},n},tn=function(){var e=!0,t=1,n=Xt.FLOAT,r=en(),a=function(e,t){return e},i=null,o=function(){var o=i.length,l=r.type(n)(o*t);if(t>1)for(var c=0;c<o;c++){var s=a(i[c],c);if(s.length!==t)throw new Error("Expected components array of size ".concat(t,", recieved array with length ").concat(s.length,"."));for(var u=0;u<t;u++)l[c*t+u]=s[u]}else for(var f=0;f<o;f++){var d=a(i[f],f);if(Array.isArray(d))throw new Error("Expected a single component value, recieved array with length ".concat(d.length,"."));l[f]=d}return e=!1,l};return o.dirty=function(){return e},o.clear=function(){e=!0},o.size=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],e=!0,o):t},o.type=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],e=!0,o):n},o.arrayViewFactory=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],e=!0,o):r},o.value=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],e=!0,o):a},o.data=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],e=!0,o):i},o},nn=function(){var e=Jt(),t=tn(),n=function n(r){if(e.size(n.size()).type(n.type()),e(r),t.dirty()){var a=t(),i=r.context();i.bindBuffer(i.ARRAY_BUFFER,e.buffer()),i.bufferData(i.ARRAY_BUFFER,a,i.DYNAMIC_DRAW)}};return n.clear=function(){e.buffer(null),t.clear()},g(n,e,"normalized","location","divisor"),g(n,t,"data","value","size","type"),n},rn=function(e,t,n,r){for(var a=arguments.length,i=new Array(a>4?a-4:0),o=4;o<a;o++)i[o-4]=arguments[o];e[t]=function(){for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];var l=n[r].apply(n,i.concat(a));return l===n?e:l}},an=function(){var e=dt().mode(ft.TRIANGLES).subInstanceCount(6),t=ct(),n=ct(),r=function(){},a=nn().divisor(0).size(3).type(Xt.UNSIGNED_BYTE).data([[0,0,0],[0,1,0],[1,1,1],[0,0,1],[1,0,0],[1,1,0]]);e.buffers().attribute("aCorner",a);var i=function(a){var i=Gt();e.vertexShader(i.vertex()).fragmentShader(i.fragment()),t(e,"gl_Position",0),n(e,"gl_Position",1),r(e),e(a-1)};return i.decorate=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],i):r},i.xScale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],i):t},i.yScale=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],i):n},g(i,e,"context","pixelRatio"),rn(i,"crossValueAttribute",e.buffers(),"attribute","aCrossValue"),rn(i,"crossNextValueAttribute",e.buffers(),"attribute","aCrossNextValue"),rn(i,"mainValueAttribute",e.buffers(),"attribute","aMainValue"),rn(i,"mainNextValueAttribute",e.buffers(),"attribute","aMainNextValue"),rn(i,"baseValueAttribute",e.buffers(),"attribute","aBaseValue"),rn(i,"baseNextValueAttribute",e.buffers(),"attribute","aBaseNextValue"),rn(i,"definedAttribute",e.buffers(),"attribute","aDefined"),rn(i,"definedNextAttribute",e.buffers(),"attribute","aDefinedNext"),i},on=function(){var e=ht(gt),t=ht(pt);return e.appendHeader(mt.header).appendBody(mt.body),t.appendHeader(Pt.header).appendBody(Pt.body),{vertex:function(){return e},fragment:function(){return t}}},ln=function(){var e=dt().mode(ft.POINTS),t=ct(),n=ct(),r=on(),a=function(){},i=function(i){e.vertexShader(r.vertex()).fragmentShader(r.fragment()),t(e,"gl_Position",0),n(e,"gl_Position",1),a(e),e(i)};return i.type=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],i):r},i.decorate=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],i):a},i.xScale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],i):t},i.yScale=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],i):n},g(i,e,"context","pixelRatio"),rn(i,"crossValueAttribute",e.buffers(),"attribute","aCrossValue"),rn(i,"mainValueAttribute",e.buffers(),"attribute","aMainValue"),rn(i,"sizeAttribute",e.buffers(),"attribute","aSize"),rn(i,"definedAttribute",e.buffers(),"attribute","aDefined"),i},cn=function(){var e=ht(gt),t=ht(pt);return e.appendHeader(Vt.header).appendBody(Vt.body),t.appendHeader($t.header).appendBody($t.body),{vertex:function(){return e},fragment:function(){return t}}},sn=function(){var e=1,t=function(t){t.buffers().uniform("uStrokeWidth",ut(e))};return t.lineWidth=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],t):e},t},un=function(e){var t=null,n=e,r=!0,a=function(e){var a=e.context();null==t&&(t=a.createBuffer()),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,t),r&&(a.bufferData(a.ELEMENT_ARRAY_BUFFER,new Uint16Array(n),a.STATIC_DRAW),r=!1)};return a.clear=function(){t=null,r=!0},a.data=function(){return arguments.length?(r=!0,n=arguments.length<=0?void 0:arguments[0],a):n},a},fn=function(){var e=dt().mode(ft.TRIANGLES).subInstanceCount(12),t=ct(),n=ct(),r=function(){},a=sn(),i=nn().divisor(0).size(3).type(Xt.BYTE).data([[-1,0,0],[1,1,0],[1,-1,1],[-1,0,1],[1,1,1]]);e.buffers().elementIndices(un([0,1,2,1,2,3,0,2,3,2,3,4])).attribute("aCorner",i);var o=function(i){var o=cn();e.vertexShader(o.vertex()).fragmentShader(o.fragment()),t(e,"prev",0),n(e,"prev",1),t(e,"curr",0),n(e,"curr",1),t(e,"gl_Position",0),n(e,"gl_Position",1),t(e,"nextNext",0),n(e,"nextNext",1),e.vertexShader().appendBody(Ct.body),a(e),r(e),e(i-1)};return o.decorate=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],o):r},o.xScale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],o):t},o.yScale=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},g(o,e,"context","pixelRatio"),g(o,a,"lineWidth"),rn(o,"crossPreviousValueAttribute",e.buffers(),"attribute","aCrossPrevValue"),rn(o,"crossValueAttribute",e.buffers(),"attribute","aCrossValue"),rn(o,"crossNextValueAttribute",e.buffers(),"attribute","aCrossNextValue"),rn(o,"crossNextNextValueAttribute",e.buffers(),"attribute","aCrossNextNextValue"),rn(o,"mainPreviousValueAttribute",e.buffers(),"attribute","aMainPrevValue"),rn(o,"mainValueAttribute",e.buffers(),"attribute","aMainValue"),rn(o,"mainNextValueAttribute",e.buffers(),"attribute","aMainNextValue"),rn(o,"mainNextNextValueAttribute",e.buffers(),"attribute","aMainNextNextValue"),rn(o,"definedAttribute",e.buffers(),"attribute","aDefined"),rn(o,"definedNextAttribute",e.buffers(),"attribute","aDefinedNext"),o},dn=function(){var e=ht(gt),t=ht(pt);return e.appendHeader(Et.header).appendBody(Et.body),t.appendHeader(Zt.header).appendBody(Zt.body),{vertex:function(){return e},fragment:function(){return t}}},hn=function(){var e=dt().mode(ft.TRIANGLES).subInstanceCount(18),t=ct(),n=ct(),r=sn(),a=function(){},i=nn().divisor(0).size(3).type(Xt.BYTE).data([[0,-2,-1],[0,-2,1],[0,2,1],[0,2,-1],[-1,-1,-1],[-1,-1,1],[0,-1,1],[0,-1,-1],[1,1,1],[0,1,1],[0,1,-1],[1,1,-1]]);e.buffers().elementIndices(un([0,1,2,0,3,2,4,5,6,4,7,6,8,9,10,10,11,8])).attribute("aCorner",i);var o=function(i){var o=dn();e.vertexShader(o.vertex()).fragmentShader(o.fragment()),t(e,"gl_Position",0),n(e,"gl_Position",1),r(e),e.vertexShader().appendBody("\n          gl_Position.x += xModifier / uScreen.x * 2.0;\n          gl_Position.y += yModifier / uScreen.y * 2.0;\n        "),a(e),e(i)};return o.decorate=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],o):a},o.xScale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],o):t},o.yScale=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},g(o,e,"context","pixelRatio"),g(o,r,"lineWidth"),rn(o,"crossValueAttribute",e.buffers(),"attribute","aCrossValue"),rn(o,"openValueAttribute",e.buffers(),"attribute","aOpenValue"),rn(o,"highValueAttribute",e.buffers(),"attribute","aHighValue"),rn(o,"lowValueAttribute",e.buffers(),"attribute","aLowValue"),rn(o,"closeValueAttribute",e.buffers(),"attribute","aCloseValue"),rn(o,"bandwidthAttribute",e.buffers(),"attribute","aBandwidth"),rn(o,"definedAttribute",e.buffers(),"attribute","aDefined"),o},gn=function(){var e=ht(gt),t=ht(pt);return e.appendHeader(Mt.header).appendBody(Mt.body),t.appendHeader(Yt.header).appendBody(Yt.body),{vertex:function(){return e},fragment:function(){return t}}},pn=function(){var e=dt().mode(ft.TRIANGLES).subInstanceCount(6),t=ct(),n=ct(),r=function(){},a=nn().divisor(0).size(2).type(Xt.BYTE).data([[-1,-1],[1,1],[-1,1],[1,-1]]);e.buffers().elementIndices(un([0,1,2,0,1,3])).attribute("aCorner",a);var i=function(a){var i=gn();e.vertexShader(i.vertex()).fragmentShader(i.fragment()),t(e,"gl_Position",0),n(e,"gl_Position",1),e.vertexShader().appendBody("\n            gl_Position.x += xModifier / uScreen.x * 2.0;\n        "),r(e),e(a)};return i.decorate=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],i):r},i.xScale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],i):t},i.yScale=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],i):n},g(i,e,"context","pixelRatio"),rn(i,"crossValueAttribute",e.buffers(),"attribute","aCrossValue"),rn(i,"mainValueAttribute",e.buffers(),"attribute","aMainValue"),rn(i,"baseValueAttribute",e.buffers(),"attribute","aBaseValue"),rn(i,"bandwidthAttribute",e.buffers(),"attribute","aBandwidth"),rn(i,"definedAttribute",e.buffers(),"attribute","aDefined"),i},bn=function(){var e=ht(gt),t=ht(pt);return e.appendHeader(zt.header).appendBody(zt.body),t.appendHeader(Wt.header).appendBody(Wt.body),{vertex:function(){return e},fragment:function(){return t}}},_n=function(){var e=dt().mode(ft.TRIANGLES).subInstanceCount(18),t=ct(),n=ct(),r=function(){},a=sn(),i=nn().divisor(0).size(3).type(Xt.BYTE).data([[0,1,1],[0,1,-1],[0,-1,-1],[0,-1,1],[1,-1,1],[1,-1,-1],[-1,-1,-1],[-1,-1,1],[-1,1,-1],[-1,1,1],[1,1,1],[1,1,-1]]);e.buffers().elementIndices(un([0,1,2,0,3,2,4,5,6,4,7,6,8,9,10,8,11,10])).attribute("aCorner",i);var o=function(i){var o=bn();e.vertexShader(o.vertex()).fragmentShader(o.fragment()),t(e,"gl_Position",0),n(e,"gl_Position",1),a(e),e.vertexShader().appendBody("\n                gl_Position.x += xModifier / uScreen.x * 2.0;\n                gl_Position.y += yModifier / uScreen.y * 2.0;\n            "),r(e),e(i)};return o.decorate=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],o):r},o.xScale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],o):t},o.yScale=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},g(o,e,"context","pixelRatio"),g(o,a,"lineWidth"),rn(o,"crossValueAttribute",e.buffers(),"attribute","aCrossValue"),rn(o,"highValueAttribute",e.buffers(),"attribute","aHighValue"),rn(o,"lowValueAttribute",e.buffers(),"attribute","aLowValue"),rn(o,"bandwidthAttribute",e.buffers(),"attribute","aBandwidth"),rn(o,"definedAttribute",e.buffers(),"attribute","aDefined"),o},mn=function(){var e=ht(gt),t=ht(pt);return e.appendHeader(At.header).appendBody(At.body),t.appendHeader(jt.header).appendBody(jt.body),{vertex:function(){return e},fragment:function(){return t}}},vn=function(){var e=dt().mode(ft.TRIANGLES).subInstanceCount(12),t=ct(),n=ct(),r=sn(),a=function(){},i=nn().divisor(0).size(3).type(Xt.BYTE).data([[0,2,1],[0,2,-1],[0,-2,-1],[0,-2,1],[1,-1,0],[-1,-1,0],[-1,1,0],[1,1,0]]);e.buffers().elementIndices(un([0,1,2,0,3,2,4,5,6,4,7,6])).attribute("aCorner",i);var o=function(i){var o=mn();e.vertexShader(o.vertex()).fragmentShader(o.fragment()),t(e,"gl_Position",0),n(e,"gl_Position",1),r(e),e.vertexShader().appendBody("\n          gl_Position.x += xModifier / uScreen.x * 2.0;\n          gl_Position.y += yModifier / uScreen.y * 2.0;\n        "),a(e),e(i)};return o.decorate=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],o):a},o.xScale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],o):t},o.yScale=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},g(o,e,"context","pixelRatio"),g(o,r,"lineWidth"),rn(o,"crossValueAttribute",e.buffers(),"attribute","aCrossValue"),rn(o,"openValueAttribute",e.buffers(),"attribute","aOpenValue"),rn(o,"highValueAttribute",e.buffers(),"attribute","aHighValue"),rn(o,"lowValueAttribute",e.buffers(),"attribute","aLowValue"),rn(o,"closeValueAttribute",e.buffers(),"attribute","aCloseValue"),rn(o,"bandwidthAttribute",e.buffers(),"attribute","aBandwidth"),rn(o,"definedAttribute",e.buffers(),"attribute","aDefined"),o},yn=function(){var e=ht(gt),t=ht(pt);return e.appendHeader(Nt.header).appendBody(Nt.body),t.appendHeader(Ft.header).appendBody(Ft.body),{vertex:function(){return e},fragment:function(){return t}}},wn=function(){var e=dt().mode(ft.TRIANGLES).subInstanceCount(54),t=ct(),n=ct(),r=function(){},a=sn(),i=nn().divisor(0).size(4).type(Xt.BYTE).data([[-1,-2,-1,1],[1,-2,-1,1],[1,-2,1,1],[-1,-2,1,1],[0,-2,-1,0],[0,-2,1,0],[0,-1,1,0],[0,-1,-1,0],[-1,-1,-1,1],[1,-1,-1,1],[1,-1,1,1],[-1,-1,1,1],[-1,0,-1,1],[1,0,-1,1],[1,0,1,1],[-1,0,1,1],[-1,1,-1,1],[1,1,-1,1],[1,1,1,1],[-1,1,1,1],[-1,-1,-1,0],[-1,-1,1,0],[-1,1,1,0],[-1,1,-1,0],[1,-1,-1,0],[1,-1,1,0],[1,1,1,0],[1,1,-1,0],[0,2,-1,0],[0,2,1,0],[0,1,1,0],[0,1,-1,0],[-1,2,-1,1],[1,2,-1,1],[1,2,1,1],[-1,2,1,1]]);e.buffers().elementIndices(un([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23,24,25,26,24,26,27,28,29,30,28,30,31,32,33,34,32,34,35])).attribute("aCorner",i);var o=function(i){var o=yn();e.vertexShader(o.vertex()).fragmentShader(o.fragment()),t(e,"gl_Position",0),n(e,"gl_Position",1),a(e),e.vertexShader().appendBody("\n            gl_Position.x += xModifier / uScreen.x * 2.0;\n            gl_Position.y += yModifier / uScreen.y * 2.0;\n        "),r(e),e(i)};return o.decorate=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],o):r},o.xScale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],o):t},o.yScale=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},g(o,e,"context","pixelRatio"),g(o,a,"lineWidth"),rn(o,"crossValueAttribute",e.buffers(),"attribute","aCrossValue"),rn(o,"highValueAttribute",e.buffers(),"attribute","aHighValue"),rn(o,"upperQuartileValueAttribute",e.buffers(),"attribute","aUpperQuartileValue"),rn(o,"medianValueAttribute",e.buffers(),"attribute","aMedianValue"),rn(o,"lowerQuartileValueAttribute",e.buffers(),"attribute","aLowerQuartileValue"),rn(o,"lowValueAttribute",e.buffers(),"attribute","aLowValue"),rn(o,"bandwidthAttribute",e.buffers(),"attribute","aBandwidth"),rn(o,"capAttribute",e.buffers(),"attribute","aCapWidth"),rn(o,"definedAttribute",e.buffers(),"attribute","aDefined"),o},xn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e>0||t<0)throw new Error("Offset values (".concat(e," & ").concat(t,") must straddle 0 "));var n=Jt(),r=tn(),a=function a(i){var o=a.size()*Qt(a.type()),l=Math.abs(e)*o;if(n.offset(l).size(a.size()).type(a.type()),n(i),r.dirty()){var c=r(),s=t*o,u=l+c.length*Qt(a.type())+s,f=i.context();f.bindBuffer(f.ARRAY_BUFFER,n.buffer()),f.bufferData(f.ARRAY_BUFFER,u,f.DYNAMIC_DRAW),f.bufferSubData(f.ARRAY_BUFFER,l,c)}};return a.offset=function(r){if(e>r||r>t)throw new Error("Requested offset ".concat(r," exceeds bounds (").concat(e," & ").concat(t,") "));var i=function(t){n.offset((r-e)*a.size()*Qt(a.type())),n(t)};return g(i,a,"clear","location"),i},a.clear=function(){n.buffer(null),r.clear()},g(a,n,"normalized","location","divisor"),g(a,r,"data","value","size","type"),a},Sn=function(){var e=ct(),t=function(e){return"linear".concat(e)},n=function(n,r,a){n.vertexShader().appendHeaderIfNotExists("uniform vec4 ".concat(t(a),"Offset;")).appendHeaderIfNotExists("uniform vec4 ".concat(t(a),"Scale;")).appendBody("".concat(r," = ").concat(r," + ").concat(t(a),"Offset;")).appendBody("".concat(r," = ").concat(r," * ").concat(t(a),"Scale;"));var i=e.domain()[1]-e.domain()[0],o=e.range()[1]-e.range()[0],l=e.range()[0]*(i/o)-e.domain()[0],c=o/i,s=[0,0,0,0],u=[1,1,1,1];s[a]=l,u[a]=c,n.buffers().uniform("".concat(t(a),"Offset"),ut(s)).uniform("".concat(t(a),"Scale"),ut(u))};return b(n,e),n},kn=function(){var e=ct(),t=10;function n(e,t){return Math.log10(e)/Math.log10(t)}var r=function(e){return"log".concat(e)},a=function(a,i,o){var l="".concat(r(o),"Offset + (").concat(r(o),"Scale * clamp(log(").concat(i,") / log(").concat(r(o),"Base), -inf, inf))");a.vertexShader().appendHeaderIfNotExists("uniform vec4 ".concat(r(o),"Offset;")).appendHeaderIfNotExists("uniform vec4 ".concat(r(o),"Scale;")).appendHeaderIfNotExists("uniform vec4 ".concat(r(o),"Include;")).appendHeaderIfNotExists("uniform float ".concat(r(o),"Base;")).appendBody("".concat(i," = (").concat(r(o),"Include * (").concat(l,")) + ((1.0 - ").concat(r(o),"Include) * ").concat(i,");"));var c=n(e.domain()[1],t)-n(e.domain()[0],t),s=(e.range()[1]-e.range()[0])/c,u=e.range()[0]-s*n(e.domain()[0],t),f=[0,0,0,0],d=[0,0,0,0],h=[0,0,0,0];f[o]=u,d[o]=s,h[o]=1,a.buffers().uniform("".concat(r(o),"Offset"),ut(f)).uniform("".concat(r(o),"Scale"),ut(d)).uniform("".concat(r(o),"Include"),ut(h)).uniform("".concat(r(o),"Base"),ut(t))};return a.base=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],a):t},b(a,e),a},An=function(){var e=ct(),t=1;function n(e,t){return Math.sign(e)*Math.pow(Math.abs(e),t)}var r=function(e){return"pow".concat(e)},a=function(a,i,o){var l="".concat(r(o),"Offset + (").concat(r(o),"Scale * sign(").concat(i,") * pow(abs(").concat(i,"), vec4(").concat(r(o),"Exp)))");a.vertexShader().appendHeaderIfNotExists("uniform vec4 ".concat(r(o),"Offset;")).appendHeaderIfNotExists("uniform vec4 ".concat(r(o),"Scale;")).appendHeaderIfNotExists("uniform vec4 ".concat(r(o),"Include;")).appendHeaderIfNotExists("uniform float ".concat(r(o),"Exp;")).appendBody("".concat(i," = (").concat(r(o),"Include * (").concat(l,")) + ((1.0 - ").concat(r(o),"Include) * ").concat(i,");"));var c=n(e.domain()[1],t)-n(e.domain()[0],t),s=(e.range()[1]-e.range()[0])/c,u=e.range()[0]-s*n(e.domain()[0],t),f=[0,0,0,0],d=[0,0,0,0],h=[0,0,0,0];f[o]=u,d[o]=s,h[o]=1,a.buffers().uniform("".concat(r(o),"Offset"),ut(f)).uniform("".concat(r(o),"Scale"),ut(d)).uniform("".concat(r(o),"Include"),ut(h)).uniform("".concat(r(o),"Exp"),ut(t))};return a.exponent=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],a):t},b(a,e),a},En=n.scaleLinear().copy.toString(),Mn=n.scaleLog().copy.toString(),Vn=n.scalePow().copy.toString(),Cn=n.scaleTime().copy.toString(),zn=n.scaleIdentity(),Tn=Date.now(),Nn=function(e){return e-Tn},Pn=function(e){switch(e.copy.toString()){case En:return{scale:zn,webglScale:Sn().domain(e.domain())};case Cn:return{scale:Nn,webglScale:Sn().domain(e.domain().map(Nn))};case Mn:return{scale:zn,webglScale:kn().domain(e.domain()).base(e.base())};case Vn:return{scale:zn,webglScale:An().domain(e.domain()).exponent(e.exponent())};default:return{scale:e.copy(),webglScale:Sn().domain(e.range())}}},On=function(){var e=ht(gt),t=ht(pt);return e.appendHeader(wt.header).appendBody(wt.body),t.appendHeader(Lt.header).appendBody(Lt.body),{vertex:function(){return e},fragment:function(){return t}}},Dn=function(){var e=ht(gt),t=ht(pt);return e.appendHeader(St.header).appendBody(St.body),t.appendHeader(Rt.header).appendBody(Rt.body),{vertex:function(){return e},fragment:function(){return t}}},Ln=function(){var e=ht(gt),t=ht(pt);return e.appendHeader(kt.header).appendBody(kt.body),t.appendHeader(Bt.header).appendBody(Bt.body),{vertex:function(){return e},fragment:function(){return t}}},In=function(){var e=ht(gt),t=ht(pt);return e.appendHeader(xt.header).appendBody(xt.body),t.appendHeader(It.header).appendBody(It.body),{vertex:function(){return e},fragment:function(){return t}}},Rn=function(){var e=ht(gt),t=ht(pt);return e.appendHeader(vt.header).appendBody(vt.body),t.appendHeader(Ot.header).appendBody(Ot.body),{vertex:function(){return e},fragment:function(){return t}}},Bn=function(){var e=ht(gt),t=ht(pt);return e.appendHeader(yt.header).appendBody(yt.body),t.appendHeader(Dt.header).appendBody(Dt.body),{vertex:function(){return e},fragment:function(){return t}}},jn=function(e){switch(e){case c.symbolCircle:return on();case c.symbolSquare:return On();case c.symbolTriangle:return Dn();case c.symbolCross:return Ln();case c.symbolDiamond:return In();case c.symbolStar:return Rn();case c.symbolWye:return Bn();default:throw new Error("Unrecognised symbol: ".concat(e))}},Zn=function(e){var t=Jt().divisor(1),n=e,r=!0,a=function(e){if(t(e),r){if(!Array.isArray(n))throw new Error("Expected an array, received: ".concat(n));if(n.length!==t.size())throw new Error("Expected array of length: ".concat(t.size(),", recieved array of length: ").concat(n.length));var a=e.context();a["vertexAttrib".concat(n.length,"fv")](t.location(),n),a.disableVertexAttribArray(t.location()),r=!1}};return a.clear=function(){r=!0},a.value=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],r=!0,a):n},g(a,t,"normalized","size","location"),a},Hn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0,1],t=nn().size(4),n=e,r=!0,a=function(e){if(e.vertexShader().appendHeaderIfNotExists(bt.header).appendBodyIfNotExists(bt.body),e.fragmentShader().appendHeaderIfNotExists(qt.header).appendBodyIfNotExists(qt.body),Array.isArray(n))e.buffers().attribute("aFillColor",Zn(n).size(4));else{if("function"!=typeof n)throw new Error("Expected value to be an array or function, received ".concat(n));if(!r)return;t.value(n),e.buffers().attribute("aFillColor",t)}r=!1};return a.value=function(){return arguments.length?(n!==(arguments.length<=0?void 0:arguments[0])&&(n=arguments.length<=0?void 0:arguments[0],r=!0),a):n},g(a,t,"data"),a},Fn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0,1],t=nn().size(4),n=e,r=!0,a=function(e){if(e.vertexShader().appendHeaderIfNotExists(_t.header).appendBodyIfNotExists(_t.body),e.fragmentShader().appendHeaderIfNotExists(Ut.header).appendBodyIfNotExists(Ut.body),Array.isArray(n))e.buffers().attribute("aStrokeColor",Zn(n).size(4));else{if("function"!=typeof n)throw new Error("Expected value to be an array or function, received ".concat(n));if(!r)return;t.value(n),e.buffers().attribute("aStrokeColor",t)}r=!1};return a.value=function(){return arguments.length?(n!==(arguments.length<=0?void 0:arguments[0])&&(n=arguments.length<=0?void 0:arguments[0],r=!0),a):n},g(a,t,"data"),a},Wn=function(){var e=at(),t=xn(-1,2),n=t.offset(-1),r=t.offset(1),a=t.offset(2),i=xn(-1,2),o=i.offset(-1),l=i.offset(1),c=i.offset(2),s=xn(0,1).type(Xt.UNSIGNED_BYTE),u=s.offset(1),f=fn().crossPreviousValueAttribute(n).crossValueAttribute(t).crossNextValueAttribute(r).crossNextNextValueAttribute(a).mainPreviousValueAttribute(o).mainValueAttribute(i).mainNextValueAttribute(l).mainNextNextValueAttribute(c).definedAttribute(s).definedNextAttribute(u),d=function(e,t){return!1},h=Pn,p=[],_=null,v=null,y=function(n){var r=h(e.xScale()),a=h(e.yScale()),o=!d(p,n);o&&(p=n,s.value((function(t,n){return e.defined()(t,n)})).data(n)),(o||r.scale!==_)&&(_=r.scale,"vertical"===e.orient()?t.value((function(t,n){return r.scale(e.crossValue()(t,n))})).data(n):t.value((function(t,n){return r.scale(e.mainValue()(t,n))})).data(n)),(o||a.scale!==v)&&(v=a.scale,"vertical"===e.orient()?i.value((function(t,n){return a.scale(e.mainValue()(t,n))})).data(n):i.value((function(t,n){return a.scale(e.crossValue()(t,n))})).data(n)),f.xScale(r.webglScale).yScale(a.webglScale).decorate((function(t){return e.decorate()(t,n,0)})),f(n.length)};return y.equals=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],y):d},y.scaleMapper=function(){return arguments.length?(h=arguments.length<=0?void 0:arguments[0],y):h},b(y,e,m("baseValue","bandwidth","align")),g(y,f,"context","lineWidth","pixelRatio"),y},Yn=function(){var e=c.symbol(),t=at(),n=Le("g","point"),r=function(e){return"translate("+e[0]+", "+e[1]+")"},a=function(a){De(a)&&n.transition(a),a.each((function(a,i,o){var c=a.filter(t.defined()),s=n(l.select(o[i]),c);s.enter().attr("transform",(function(e,n){return r(t.values(e,n).origin)})).attr("fill",it.gray).attr("stroke",it.black).append("path"),s.attr("transform",(function(e,n){return r(t.values(e,n).origin)})).select("path").attr("d",e),t.decorate()(s,a,i)}))};return b(a,t,m("baseValue","bandwidth","align")),g(a,n,"key"),g(a,e,"type","size"),a},qn=function(){var e=c.symbol(),t=at(),n=function(n){var r=n.filter(t.defined()),a=e.context();r.forEach((function(n,r){a.save();var i=t.values(n,r);a.translate(i.origin[0],i.origin[1]),a.beginPath(),a.strokeStyle=it.black,a.fillStyle=it.gray,t.decorate()(a,n,r),e(n,r),a.fill(),a.stroke(),a.closePath(),a.restore()}))};return b(n,t,m("baseValue","bandwidth","align")),g(n,e,"size","type","context"),n},Un=function(){var e=at(),t=et(64),n=c.symbolCircle,r=nn(),a=nn(),i=nn().type(Xt.UNSIGNED_SHORT),o=nn().type(Xt.UNSIGNED_BYTE),l=ln().crossValueAttribute(r).mainValueAttribute(a).sizeAttribute(i).definedAttribute(o),s=function(e,t){return!1},u=Pn,f=[],d=null,h=null,p=function(c){var g=u(e.xScale()),p=u(e.yScale()),b=!s(f,c);b&&(f=c,i.value((function(e,n){return t(e,n)})).data(c),o.value((function(t,n){return e.defined()(t,n)})).data(c)),(b||g.scale!==d)&&(d=g.scale,"vertical"===e.orient()?r.value((function(t,n){return g.scale(e.crossValue()(t,n))})).data(c):r.value((function(t,n){return g.scale(e.mainValue()(t,n))})).data(c)),(b||p.scale!==h)&&(h=p.scale,"vertical"===e.orient()?a.value((function(t,n){return p.scale(e.mainValue()(t,n))})).data(c):a.value((function(t,n){return p.scale(e.crossValue()(t,n))})).data(c)),l.xScale(g.webglScale).yScale(p.webglScale).type(jn(n)).decorate((function(t){return e.decorate()(t,c,0)})),l(c.length)};return p.size=function(){return arguments.length?(t=et(arguments.length<=0?void 0:arguments[0]),p):t},p.type=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],p):n},p.equals=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],p):s},p.scaleMapper=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],p):u},b(p,e,m("baseValue","bandwidth","align")),g(p,l,"context","pixelRatio"),p},$n=function(){var e=Ce().x(0).y(0),t=at(),n=Le("g","bar"),r=function(e){return"vertical"===t.orient()?e.height:e.width},a=function(e){return"vertical"===t.orient()?e.width:e.height},i=function(e){return"translate("+e[0]+", "+e[1]+")"},o=function(o){De(o)&&n.transition(o),o.each((function(o,c,s){var u=t.orient();if("vertical"!==u&&"horizontal"!==u)throw new Error("The bar series does not support an orientation of "+u);var f=o.filter(t.defined()),d=f.map(t.values);e.width(0).height(0),"vertical"===t.orient()?(e.verticalAlign("top"),e.horizontalAlign("center")):(e.horizontalAlign("right"),e.verticalAlign("center"));var h=n(l.select(s[c]),f);h.enter().attr("transform",(function(e,t){return i(d[t].baseOrigin)})).attr("class","bar "+t.orient()).attr("fill",it.darkGray).append("path").attr("d",(function(t,n){return a(e)(d[n].width),e([t])})),h.attr("transform",(function(e,t){return i(d[t].origin)})).select("path").attr("d",(function(t,n){return a(e)(d[n].width),r(e)(-d[n].height),e([t])})),t.decorate()(h,f,c)}))};return b(o,t),g(o,n,"key"),o},Gn=function(){var e=at(),t=Ce().x(0).y(0),n=function(t){return"vertical"===e.orient()?t.height:t.width},r=function(t){return"vertical"===e.orient()?t.width:t.height},a=function(a){var i=t.context(),o=a.filter(e.defined()).map(e.values);"vertical"===e.orient()?(t.verticalAlign("top"),t.horizontalAlign("center")):(t.horizontalAlign("right"),t.verticalAlign("center")),o.forEach((function(a,o){i.save(),i.beginPath(),i.translate(a.origin[0],a.origin[1]),i.fillStyle=it.darkGray,i.strokeStyle="transparent",e.decorate()(i,a.d,o),n(t)(-a.height),r(t)(a.width),t([a]),i.fill(),i.stroke(),i.closePath(),i.restore()}))};return b(a,e),g(a,t,"context"),a},Xn=function(){var e=at(),t=nn(),n=nn(),r=nn(),a=nn().type(Xt.UNSIGNED_SHORT),i=nn().type(Xt.UNSIGNED_BYTE),o=pn().crossValueAttribute(t).mainValueAttribute(n).baseValueAttribute(r).bandwidthAttribute(a).definedAttribute(i),l=function(e,t){return!1},c=Pn,s=[],u=null,f=null,d=function(d){if("vertical"!==e.orient())throw new Error("Unsupported orientation ".concat(e.orient()));var h=c(e.xScale()),g=c(e.yScale()),p=!l(s,d);p&&(s=d,a.value((function(t,n){return e.bandwidth()(t,n)})).data(d),i.value((function(t,n){return e.defined()(t,n)})).data(d)),(p||h.scale!==u)&&(u=h.scale,t.value((function(t,n){return h.scale(e.crossValue()(t,n))})).data(d)),(p||g.scale!==f)&&(f=g.scale,r.value((function(t,n){return g.scale(e.baseValue()(t,n))})).data(d),n.value((function(t,n){return g.scale(e.mainValue()(t,n))})).data(d)),o.xScale(h.webglScale).yScale(g.webglScale).decorate((function(t){return e.decorate()(t,d,0)})),o(d.length)};return d.equals=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],d):l},d.scaleMapper=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],d):c},b(d,e,m("align")),g(d,o,"context","pixelRatio"),d},Qn=function(){var e=function(e){return e.high},t=function(e){return e.low},r=function(e){return e.cross},a="vertical",i="center",o=function(){return 5},l=rt({decorate:function(){},defined:function(n,a){return tt(t,e,r)(n,a)},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()});return l.values=function(n,c){var s=o(n,c),u=nt(i,s),f=l.xScale(),d=l.yScale();if("vertical"===a){var h=d(e(n,c));return{origin:[f(r(n,c))+u,h],high:0,low:d(t(n,c))-h,width:s}}var g=f(t(n,c));return{origin:[g,d(r(n,c))+u],high:f(e(n,c))-g,low:0,width:s}},l.xValues=function(){return"vertical"===a?[r]:[e,t]},l.yValues=function(){return"vertical"!==a?[r]:[e,t]},l.orient=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],l):a},l.lowValue=function(){return arguments.length?(t=et(arguments.length<=0?void 0:arguments[0]),l):t},l.highValue=function(){return arguments.length?(e=et(arguments.length<=0?void 0:arguments[0]),l):e},l.crossValue=function(){return arguments.length?(r=et(arguments.length<=0?void 0:arguments[0]),l):r},l.bandwidth=function(){return arguments.length?(o=et(arguments.length<=0?void 0:arguments[0]),l):o},l.align=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],l):i},l},Kn=function(){var e=Qn(),t=Le("g","error-bar"),n=Ne().value(0),r=function(e){return function(t){return De(e)?t.transition(e):t}},a=function(e){return"translate("+e.origin[0]+", "+e.origin[1]+")"},i=function(i){De(i)&&t.transition(i);var o=r(i);i.each((function(r,i,c){var s=r.filter(e.defined()),u=s.map(e.values),f=t(l.select(c[i]),s);f.enter().attr("stroke",it.black).attr("fill",it.gray).attr("transform",(function(t,n){return a(e.values(t,n))+" scale(1e-6, 1)"})).append("path"),n.orient(e.orient()),f.each((function(e,t,r){var i=u[t];n.high(i.high).low(i.low).width(i.width),o(l.select(r[t])).attr("transform",a(i)+" scale(1)").select("path").attr("d",n([e]))})),e.decorate()(f,r,i)}))};return b(i,e),g(i,t,"key"),i},Jn=function(){var e=Qn(),t=Ne().value(0),n=function(n){var r=n.filter(e.defined()),a=t.context();t.orient(e.orient()),r.forEach((function(n,r){a.save();var i=e.values(n,r);a.translate(i.origin[0],i.origin[1]),a.beginPath(),a.strokeStyle=it.black,a.fillStyle=it.gray,e.decorate()(a,n,r),t.high(i.high).width(i.width).low(i.low)([n]),a.fill(),a.stroke(),a.closePath(),a.restore()}))};return b(n,e),g(n,t,"context"),n},er=function(){var e=Qn(),t=nn(),n=nn(),r=nn(),a=nn().type(Xt.UNSIGNED_SHORT),i=nn().type(Xt.UNSIGNED_BYTE),o=_n().crossValueAttribute(t).highValueAttribute(n).lowValueAttribute(r).bandwidthAttribute(a).definedAttribute(i),l=function(e,t){return!1},c=Pn,s=[],u=null,f=null,d=function(d){if("vertical"!==e.orient())throw new Error("Unsupported orientation ".concat(e.orient()));var h=c(e.xScale()),g=c(e.yScale()),p=!l(s,d);p&&(s=d,a.value((function(t,n){return e.bandwidth()(t,n)})).data(d),i.value((function(t,n){return e.defined()(t,n)})).data(d)),(p||h.scale!==u)&&(u=h.scale,t.value((function(t,n){return h.scale(e.crossValue()(t,n))})).data(d)),(p||g.scale!==f)&&(f=g.scale,n.value((function(t,n){return g.scale(e.highValue()(t,n))})).data(d),r.value((function(t,n){return g.scale(e.lowValue()(t,n))})).data(d)),o.xScale(h.webglScale).yScale(g.webglScale).decorate((function(t){return e.decorate()(t,d,0)})),o(d.length)};return d.equals=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],d):l},d.scaleMapper=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],d):c},b(d,e,m("align")),g(d,o,"context","lineWidth","pixelRatio"),d},tr=function(){var e=at(),t=c.area(),n=Le("path","area"),r=function(r){De(r)&&n.transition(r),t.defined(e.defined()),r.each((function(r,a,i){var o=r.map(e.values);t.x((function(e,t){return o[t].transposedX})).y((function(e,t){return o[t].transposedY}));var c="vertical"===e.orient()?"y":"x";t[c+"0"]((function(e,t){return o[t].y0})),t[c+"1"]((function(e,t){return o[t].y}));var s=n(l.select(i[a]),[r]);s.enter().attr("fill",it.gray),s.attr("d",t),e.decorate()(s,r,a)}))};return b(r,e,m("bandwidth","align")),g(r,n,"key"),g(r,t,"curve"),r},nr=function(){var e=at(),t=c.area(),n=function(n){var r=t.context();t.defined(e.defined());var a=n.map(e.values);t.x((function(e,t){return a[t].transposedX})).y((function(e,t){return a[t].transposedY}));var i="vertical"===e.orient()?"y":"x";t[i+"0"]((function(e,t){return a[t].y0})),t[i+"1"]((function(e,t){return a[t].y})),r.beginPath(),r.fillStyle=it.gray,r.strokeStyle="transparent",e.decorate()(r,n),t(n),r.fill(),r.stroke(),r.closePath()};return b(n,e,m("bandwidth","align")),g(n,t,"curve","context"),n},rr=function(){var e=at(),t=xn(0,1),n=t.offset(1),r=xn(0,1),a=r.offset(1),i=xn(0,1),o=i.offset(1),l=xn(0,1).type(Xt.UNSIGNED_BYTE),c=l.offset(1),s=an().crossValueAttribute(t).crossNextValueAttribute(n).mainValueAttribute(r).mainNextValueAttribute(a).baseValueAttribute(i).baseNextValueAttribute(o).definedAttribute(l).definedNextAttribute(c),u=function(e,t){return!1},f=Pn,d=[],h=null,p=null,_=function(n){if("vertical"!==e.orient())throw new Error("Unsupported orientation ".concat(e.orient()));var a=f(e.xScale()),o=f(e.yScale()),c=!u(d,n);c&&(d=n,l.value((function(t,n){return e.defined()(t,n)})).data(n)),(c||a.scale!==h)&&(h=a.scale,t.value((function(t,n){return a.scale(e.crossValue()(t,n))})).data(n)),(c||o.scale!==p)&&(p=o.scale,i.value((function(t,n){return o.scale(e.baseValue()(t,n))})).data(n),r.value((function(t,n){return o.scale(e.mainValue()(t,n))})).data(n)),s.xScale(a.webglScale).yScale(o.webglScale).decorate((function(t){return e.decorate()(t,n,0)})),s(n.length)};return _.equals=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],_):u},_.scaleMapper=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],_):f},b(_,e,m("bandwidth","align")),g(_,s,"context","pixelRatio"),_},ar=function(){var e,t=function(e){return e.date},r=function(e){return e.open},a=function(e){return e.high},i=function(e){return e.low},o=function(e){return e.close},l=function(){return 5},c="center",s=function(n,r){return e.xScale()(t(n,r))};return(e=rt({decorate:function(){},defined:function(e,n){return tt(t,r,i,a,o)(e,n)},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()})).values=function(t,n){var u=o(t,n),f=r(t,n),d=l(t,n),h=nt(c,d),g="";return u>f?g="up":u<f&&(g="down"),{cross:s(t,n)+h,open:e.yScale()(f),high:e.yScale()(a(t,n)),low:e.yScale()(i(t,n)),close:e.yScale()(u),width:d,direction:g}},e.xValues=function(){return[t]},e.yValues=function(){return[r,a,i,o]},e.crossValue=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],e):t},e.openValue=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],e):r},e.highValue=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],e):a},e.lowValue=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],e):i},e.yValue=e.closeValue=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],e):o},e.bandwidth=function(){return arguments.length?(l=et(arguments.length<=0?void 0:arguments[0]),e):l},e.align=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],e):c},e},ir=function(e,t){var n=ar(),r=Le("g",t),a=function(e){return"translate("+e.cross+", "+e.high+")"},i=function(e){return function(t){return De(e)?t.transition(e):t}},o=function(o){De(o)&&r.transition(o);var c=i(o);o.each((function(i,o,s){var u=i.filter(n.defined()),f=r(l.select(s[o]),u);f.enter().attr("transform",(function(e,t){return a(n.values(e,t))+" scale(1e-6, 1)"})).append("path"),f.each((function(r,i,o){var s=n.values(r,i),u="up"===s.direction?it.green:it.red,f=c(l.select(o[i])).attr("class",t+" "+s.direction).attr("stroke",u).attr("fill",u).attr("transform",(function(){return a(s)+" scale(1)"}));e.x(0).width(s.width).open((function(){return s.open-s.high})).high(0).low((function(){return s.low-s.high})).close((function(){return s.close-s.high})),f.select("path").attr("d",e([r]))})),n.decorate()(f,i,o)}))};return g(o,r,"key"),b(o,n),o},or=function(){return ir(ze(),"candlestick")},lr=function(e){var t=ar(),n=function(n){var r=n.filter(t.defined()),a=e.context();r.forEach((function(n,r){a.save();var i=t.values(n,r);a.translate(i.cross,i.high),a.beginPath(),e.x(0).open((function(){return i.open-i.high})).width(i.width).high(0).low((function(){return i.low-i.high})).close((function(){return i.close-i.high}))([n]);var o="up"===i.direction?it.green:it.red;a.strokeStyle=o,a.fillStyle=o,t.decorate()(a,n,r),a.fill(),a.stroke(),a.closePath(),a.restore()}))};return g(n,e,"context"),b(n,t),n},cr=function(){return lr(ze())},sr=function(e){var t=ar(),n=nn(),r=nn(),a=nn(),i=nn(),o=nn(),l=nn().type(Xt.UNSIGNED_SHORT),c=nn().type(Xt.UNSIGNED_BYTE);e.crossValueAttribute(n).openValueAttribute(r).highValueAttribute(a).lowValueAttribute(i).closeValueAttribute(o).bandwidthAttribute(l).definedAttribute(c);var s=function(e,t){return!1},u=Pn,f=[],d=null,h=null,p=function(g){var p=u(t.xScale()),b=u(t.yScale()),_=!s(f,g);_&&(f=g,l.value((function(e,n){return t.bandwidth()(e,n)})).data(g),c.value((function(e,n){return t.defined()(e,n)})).data(g)),(_||p.scale!==d)&&(d=p.scale,n.value((function(e,n){return p.scale(t.crossValue()(e,n))})).data(g)),(_||b.scale!==h)&&(h=b.scale,r.value((function(e,n){return b.scale(t.openValue()(e,n))})).data(g),a.value((function(e,n){return b.scale(t.highValue()(e,n))})).data(g),i.value((function(e,n){return b.scale(t.lowValue()(e,n))})).data(g),o.value((function(e,n){return b.scale(t.closeValue()(e,n))})).data(g)),e.xScale(p.webglScale).yScale(b.webglScale).decorate((function(e){return t.decorate()(e,g,0)})),e(g.length)};return p.equals=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],p):s},p.scaleMapper=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],p):u},b(p,t,m("align")),g(p,e,"context","lineWidth","pixelRatio"),p},ur=function(){return sr(vn())},fr=function(){var e=function(e){return e.upperQuartile},t=function(e){return e.lowerQuartile},r=function(e){return e.high},a=function(e){return e.low},i=function(e){return e.value},o=function(e){return e.median},l="vertical",c="center",s=function(){return 5},u=rt({decorate:function(){},defined:function(n,l){return tt(a,r,t,e,i,o)(n,l)},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()});return u.values=function(n,f){var d=s(n,f),h=nt(c,d),g=u.xScale(),p=u.yScale();if("vertical"===l){var b=p(r(n,f));return{origin:[g(i(n,f))+h,b],high:0,upperQuartile:p(e(n,f))-b,median:p(o(n,f))-b,lowerQuartile:p(t(n,f))-b,low:p(a(n,f))-b,width:d}}var _=g(a(n,f));return{origin:[_,p(i(n,f))+h],high:g(r(n,f))-_,upperQuartile:g(e(n,f))-_,median:g(o(n,f))-_,lowerQuartile:g(t(n,f))-_,low:0,width:d}},u.xValues=function(){return"vertical"===l?[i]:[e,t,r,a,o]},u.yValues=function(){return"vertical"!==l?[i]:[e,t,r,a,o]},u.orient=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],u):l},u.lowerQuartileValue=function(){return arguments.length?(t=et(arguments.length<=0?void 0:arguments[0]),u):t},u.upperQuartileValue=function(){return arguments.length?(e=et(arguments.length<=0?void 0:arguments[0]),u):e},u.lowValue=function(){return arguments.length?(a=et(arguments.length<=0?void 0:arguments[0]),u):a},u.highValue=function(){return arguments.length?(r=et(arguments.length<=0?void 0:arguments[0]),u):r},u.crossValue=function(){return arguments.length?(i=et(arguments.length<=0?void 0:arguments[0]),u):i},u.medianValue=function(){return arguments.length?(o=et(arguments.length<=0?void 0:arguments[0]),u):o},u.bandwidth=function(){return arguments.length?(s=et(arguments.length<=0?void 0:arguments[0]),u):s},u.align=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],u):c},u},dr=function(){var e=fr(),t=Le("g","box-plot"),n=Te().value(0),r=function(e){return function(t){return De(e)?t.transition(e):t}},a=function(e){return"translate("+e.origin[0]+", "+e.origin[1]+")"},i=function(i){De(i)&&t.transition(i);var o=r(i);i.each((function(r,i,c){var s=r.filter(e.defined()),u=t(l.select(c[i]),s);u.enter().attr("stroke",it.black).attr("fill",it.gray).attr("transform",(function(t,n){return a(e.values(t,n))+" scale(1e-6, 1)"})).append("path"),n.orient(e.orient()),u.each((function(t,r,i){var c=e.values(t,r);n.median(c.median).upperQuartile(c.upperQuartile).lowerQuartile(c.lowerQuartile).width(c.width).high(c.high).low(c.low),o(l.select(i[r])).attr("transform",a(c)).select("path").attr("d",n([t]))})),e.decorate()(u,r,i)}))};return b(i,e),g(i,t,"key"),g(i,n,"cap"),i},hr=function(){var e=fr(),t=Te().value(0),n=function(n){var r=n.filter(e.defined()),a=t.context();t.orient(e.orient()),r.forEach((function(n,r){a.save();var i=e.values(n,r);a.translate(i.origin[0],i.origin[1]),a.beginPath(),a.fillStyle=it.gray,a.strokeStyle=it.black,e.decorate()(a,n,r),t.median(i.median).upperQuartile(i.upperQuartile).lowerQuartile(i.lowerQuartile).high(i.high).width(i.width).low(i.low)([n]),a.fill(),a.stroke(),a.closePath(),a.restore()}))};return b(n,e),g(n,t,"cap","context"),n},gr=function(){var e=fr(),t=nn(),n=nn(),r=nn(),a=nn(),i=nn(),o=nn(),l=nn().type(Xt.UNSIGNED_SHORT),c=nn().type(Xt.UNSIGNED_SHORT),s=nn().type(Xt.UNSIGNED_BYTE),u=wn().crossValueAttribute(t).highValueAttribute(n).upperQuartileValueAttribute(r).medianValueAttribute(a).lowerQuartileValueAttribute(i).lowValueAttribute(o).bandwidthAttribute(l).capAttribute(c).definedAttribute(s),f=function(e,t){return!1},d=Pn,h=[],p=null,_=null,v=et(20),y=function(g){if("vertical"!==e.orient())throw new Error("Unsupported orientation ".concat(e.orient()));var b=d(e.xScale()),m=d(e.yScale()),y=!f(h,g);y&&(h=g,l.value((function(t,n){return e.bandwidth()(t,n)})).data(g),c.value((function(e,t){return v(e,t)})).data(g),s.value((function(t,n){return e.defined()(t,n)})).data(g)),(y||b.scale!==p)&&(p=b.scale,t.value((function(t,n){return b.scale(e.crossValue()(t,n))})).data(g)),(y||m.scale!==_)&&(_=m.scale,n.value((function(t,n){return m.scale(e.highValue()(t,n))})).data(g),r.value((function(t,n){return m.scale(e.upperQuartileValue()(t,n))})).data(g),a.value((function(t,n){return m.scale(e.medianValue()(t,n))})).data(g),i.value((function(t,n){return m.scale(e.lowerQuartileValue()(t,n))})).data(g),o.value((function(t,n){return m.scale(e.lowValue()(t,n))})).data(g)),u.xScale(b.webglScale).yScale(m.webglScale).decorate((function(t){return e.decorate()(t,g,0)})),u(g.length)};return y.cap=function(){return arguments.length?(v=et(arguments.length<=0?void 0:arguments[0]),y):v},y.equals=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],y):f},y.scaleMapper=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],y):d},b(y,e,m("align")),g(y,u,"context","lineWidth","pixelRatio"),y},pr=function(){return ir(Ve(),"ohlc")},br=function(){return lr(Ve())},_r=function(){return sr(hn())},mr=function(){var e=[],t=function(e){return e},r=function(e,t){return t},a=rt({decorate:function(){},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()});return a.xValues=function(){return e.map((function(e){return e.xValues()})).reduce((function(e,t){return e.concat(t)}))},a.yValues=function(){return e.map((function(e){return e.yValues()})).reduce((function(e,t){return e.concat(t)}))},a.mapping=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],a):t},a.key=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],a):r},a.series=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],a):e},a},vr=function(){var e=mr(),t=Le("g"),n=Le("g","multi"),r=function(r){De(r)&&(n.transition(r),t.transition(r));var a=e.mapping(),i=e.series(),o=e.xScale(),c=e.yScale();r.each((function(r,s,u){var f=n(l.select(u[s]),i);f.each((function(e,n,s){e.xScale(o).yScale(c);var u=a(r,n,i);t(l.select(s[n]),[u]).call(e)})),f.selection().order(),e.decorate()(f,r,s)}))};return b(r,e),g(r,n,"key"),r},yr=function(){var e=null,t=mr(),n=function(n){var r=t.mapping(),a=t.series(),i=t.xScale(),o=t.yScale();a.forEach((function(l,c){var s,u=r(n,c,a);l.context(e).xScale(i).yScale(o),l.decorate?(s=l.decorate(),l.decorate((function(e,r,a){t.decorate()(e,n,c),s(e,r,a)}))):t.decorate()(e,n,c),l(u),s&&l.decorate(s)}))};return n.context=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],n):e},b(n,t),n},wr=function(){var e=null,t=1,n=mr(),r=function(r){var a=n.mapping(),i=n.series(),o=n.xScale(),l=n.yScale();i.forEach((function(c,s){var u,f=a(r,s,i);c.context(e).pixelRatio(t).xScale(o).yScale(l),c.decorate?(u=c.decorate(),c.decorate((function(e,t,a){n.decorate()(e,r,s),u(e,t,a)}))):n.decorate()(e,r,s),c(f),u&&c.decorate(u)}))};return r.context=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],r):e},r.pixelRatio=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],r):t},b(r,n),r},xr=function(e){var r=function(){return 50},a="center",i=n.scaleBand(),o=rt({decorate:function(){},xScale:n.scaleLinear(),yScale:n.scaleLinear()});return o.offsetScaleForDatum=function(e,n,o){var l=r(n,o),c=nt(a,l),s=l/2;return i.domain(t.range(0,e.length)).range([-s+c,s+c])},o.bandwidth=function(){return arguments.length?(r=et(arguments.length<=0?void 0:arguments[0]),o):r},o.align=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],o):a},b(o,i,y({paddingInner:"paddingOuter"})),o},Sr=function(e){var t=xr(),n=Le("g","grouped"),r=function(r){De(r)&&n.transition(r),r.each((function(r,a,i){var o=n(l.select(i[a]),r);o.enter().append("g"),o.select("g").each((function(n,a,i){var o=l.select(i[a]),c="horizontal"!==e.orient(),s=function(e,n){var i=t.offsetScaleForDatum(r,e,n);return(c?t.xScale():t.yScale())(e)+i(a)+i.bandwidth()/2};c?(e.xScale(s),e.yScale(t.yScale())):(e.yScale(s),e.xScale(t.xScale())),e.bandwidth&&e.bandwidth((function(e,n){return t.offsetScaleForDatum(r,e,n).bandwidth()})),e.decorate((function(e,n){return t.decorate()(e,n,a)})),o.call(e)}))}))};return b(r,e,m("decorate","xScale","yScale")),b(r,t,m("offsetScaleForDatum")),r};function kr(e){var t=xr(),n=function(n){n.forEach((function(r,a){var i="horizontal"!==e.orient(),o=function(e,r){var o=t.offsetScaleForDatum(n,e,r);return(i?t.xScale():t.yScale())(e)+o(a)+o.bandwidth()/2};i?(e.xScale(o),e.yScale(t.yScale())):(e.yScale(o),e.xScale(t.xScale())),e.bandwidth&&e.bandwidth((function(e,r){return t.offsetScaleForDatum(n,e,r).bandwidth()})),e.decorate((function(e,n){return t.decorate()(e,n,a)})),e(r)}))};return b(n,e,m("decorate","xScale","yScale")),b(n,t,m("offsetScaleForDatum")),n}var Ar=function(){var e="vertical",t=ot(),n=vr(),r=function(r){return r.each((function(r,a,i){"vertical"===e?n.series(r[0].map((function(e){return t}))).mapping((function(e,t){return e.map((function(e){return e[t]}))})):n.series(r.map((function(e){return t}))).mapping((function(e,t){return e[t]})),l.select(i[a]).call(n)}))};return r.series=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],r):t},r.orient=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],r):e},b(r,n,m("series","mapping")),r},Er=function(){var e="vertical",t=lt(),n=yr(),r=function(r){"vertical"===e?n.series(r[0].map((function(e){return t}))).mapping((function(e,t){return e.map((function(e){return e[t]}))})):n.series(r.map((function(e){return t}))).mapping((function(e,t){return e[t]})),n(r)};return r.series=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],r):t},r.orient=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],r):e},b(r,n,m("series","mapping")),r},Mr=function(){var e="vertical",t=function(){return Wn()},n=wr(),r=[],a=function(a){if("vertical"===e){var i=r;r=a[0].map((function(e,n){return n<i.length?i[n]:t()})),n.series(r).mapping((function(e,t){return e.map((function(e){return e[t]}))}))}else{var o=r;r=a.map((function(e,n){return n<o.length?o[n]:t()})),n.series(r).mapping((function(e,t){return e[t]}))}n(a)};return a.series=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.length?(t="function"==typeof n[0].xScale&&"function"==typeof n[0].yScale?function(){return n[0]}:n[0],r=[],a):t},a.orient=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],r=[],a):e},b(a,n,m("series","mapping")),a},Vr=function(e){return e.sort(t.ascending).filter((function(e,t,n){return-1===n.indexOf(e,t+1)}))},Cr=function(e){var n=.75,r=function(e){if(e.length<=1)return 10;e=Vr(e);var r=t.pairs(e).map((function(e){return Math.abs(e[0]-e[1])})),a=t.min(r);return n*a},a=function(t,n,a){if(t.bandwidth)return t.bandwidth();var i,o=(Array.isArray(n)?(i=[]).concat.apply(i,U(n)):n).filter(e.defined()).map(a()).map(t);return r(o)},i=function(t){var n=function(t){if(e.xBandwidth&&e.yBandwidth)e.xBandwidth(a(e.xScale(),t,e.xValue)),e.yBandwidth(a(e.yScale(),t,e.yValue));else{var n=e.orient&&"horizontal"===e.orient()?e.yScale():e.xScale();e.bandwidth(a(n,t,e.crossValue))}};t instanceof l.selection?t.each((function(t,r,a){n(t),e(l.select(a[r]))})):(n(t),e(t))};return b(i,e),i.widthFraction=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],i):n},i},zr=function(){var e=function(e){return e.x},r=function(e){return e.y},a=function(e){return e.color},i=function(){return 5},o=function(){return 5},l=s.interpolateViridis,c=rt({decorate:function(){},defined:function(t,n){return tt(e,r,a)(t,n)},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()});return c.pathGenerator=Ce().x(0).y(0),c.colorScale=function(e){var r=e.map(a);return n.scaleLinear().domain([t.min(r),t.max(r)])},c.values=function(t,n){return{x:c.xScale()(e(t,n)),y:c.yScale()(r(t,n)),colorValue:a(t,n),width:o(t,n),height:i(t,n)}},c.xValues=function(){return[e]},c.yValues=function(){return[r]},c.xValue=function(){return arguments.length?(e=et(arguments.length<=0?void 0:arguments[0]),c):e},c.yValue=function(){return arguments.length?(r=et(arguments.length<=0?void 0:arguments[0]),c):r},c.colorValue=function(){return arguments.length?(a=et(arguments.length<=0?void 0:arguments[0]),c):a},c.colorInterpolate=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],c):l},c.xBandwidth=function(){return arguments.length?(o=et(arguments.length<=0?void 0:arguments[0]),c):o},c.yBandwidth=function(){return arguments.length?(i=et(arguments.length<=0?void 0:arguments[0]),c):i},b(c,c.pathGenerator,y({horizontalAlign:"xAlign",verticalAlign:"yAlign"})),c},Tr=function(){var e=zr(),t=Le("g","box"),n=function(e){return"translate("+e.x+", "+e.y+")"},r=function(r){r.each((function(r,a,i){var o=r.filter(e.defined()),c=e.colorValue(),s=e.colorInterpolate(),u=e.colorScale(o),f=t(l.select(i[a]),o);f.enter().append("path").attr("stroke","transparent"),f.attr("transform",(function(t,r){return n(e.values(t,r))})).select("path").attr("d",(function(t,n){return e.pathGenerator.width(e.values(t,n).width).height(e.values(t,n).height)([t])})).attr("fill",(function(e,t){return s(u(c(e,t)))})),e.decorate()(f,r,a)}))};return b(r,e),r},Nr=function(){var e=zr(),t=function(t){var n=t.filter(e.defined()),r=e.colorInterpolate(),a=e.colorScale(n),i=e.pathGenerator.context();n.forEach((function(t,n){i.save(),i.beginPath();var o=e.values(t,n);i.translate(o.x,o.y),i.fillStyle=r(a(o.colorValue)),i.strokeStyle="transparent",e.decorate()(i,t,n),e.pathGenerator.height(o.height).width(o.width)([t]),i.fill(),i.stroke(),i.closePath(),i.restore()}))};return g(t,e.pathGenerator,"context"),b(t,e),t},Pr=function(e){return"function"==typeof e?e:function(){return e}},Or=function(){var e=n.scaleIdentity(),t=n.scaleIdentity(),r="horizontal",a=function(e){return e.from},i=function(e){return e.to},o=function(){},c=Le("g","annotation-band"),s=Ce().horizontalAlign("center").verticalAlign("center").x(0).y(0),u=function(n){if(De(n)&&c.transition(n),"horizontal"!==r&&"vertical"!==r)throw new Error("Invalid orientation");var u="horizontal"===r,f=u?function(e,t){return"translate(".concat(e,", ").concat(t,")")}:function(e,t){return"translate(".concat(t,", ").concat(e,")")},d=u?t:e,h=(u?e:t).range(),g=h[1]-h[0],p=u?"height":"width",b=function(){return f((h[1]+h[0])/2,(d(i.apply(void 0,arguments))+d(a.apply(void 0,arguments)))/2)};s[u?"width":"height"](g),s[p]((function(){return d(i.apply(void 0,arguments))-d(a.apply(void 0,arguments))})),n.each((function(e,t,n){var a=c(l.select(n[t]),e);a.enter().attr("transform",b).append("path").classed("band",!0),a.attr("class","annotation-band ".concat(r)).attr("transform",b).select("path").attr("d",(function(e,t){return s([e],t)})),o(a,e,t)}))};return u.xScale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],u):e},u.yScale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],u):t},u.orient=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],u):r},u.decorate=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],u):o},u.fromValue=function(){return arguments.length?(a=Pr(arguments.length<=0?void 0:arguments[0]),u):a},u.toValue=function(){return arguments.length?(i=Pr(arguments.length<=0?void 0:arguments[0]),u):i},u},Dr=function(){var e=n.scaleIdentity(),t=n.scaleIdentity(),r="horizontal",a=function(e){return e.from},i=function(e){return e.to},o=function(){},l=Ce().horizontalAlign("right").verticalAlign("top"),c=function(n){if("horizontal"!==r&&"vertical"!==r)throw new Error("Invalid orientation");var c=l.context(),s="horizontal"===r,u=s?t:e,f=(s?e:t).range(),d=f[1]-f[0],h=s?"x":"y",g=s?"y":"x",p=s?"height":"width",b=s?"width":"height";n.forEach((function(e,t){c.save(),c.beginPath(),c.strokeStyle="transparent",l[g](u(a(e))),l[h](f[0]),l[b](d),l[p](u(i(e))-u(a(e))),o(c,e,t),l.context(c)([e],t),c.fill(),c.stroke(),c.closePath(),c.restore()}))};return c.xScale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],c):e},c.yScale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],c):t},c.orient=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],c):r},c.decorate=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],c):o},c.fromValue=function(){return arguments.length?(a=Pr(arguments.length<=0?void 0:arguments[0]),c):a},c.toValue=function(){return arguments.length?(i=Pr(arguments.length<=0?void 0:arguments[0]),c):i},g(c,l,"context"),c},Lr=function(){var e=n.scaleIdentity(),t=n.scaleIdentity(),r=function(e){return e},a=r,i=function(){},o="horizontal",c=Le("g","annotation-line"),s=function(n){if(De(n)&&c.transition(n),"horizontal"!==o&&"vertical"!==o)throw new Error("Invalid orientation");var s="horizontal"===o,u=s?function(e,t){return"translate(".concat(e,", ").concat(t,")")}:function(e,t){return"translate(".concat(t,", ").concat(e,")")},f=s?"x2":"y2",d=s?t:e,h=s?"left-handle":"bottom-handle",g=s?"right-handle":"top-handle",p=s?"9":"0",b=s?"0":"9",_=s?"0.32em":"0.71em",m=s?"start":"middle",v=(s?e:t).range(),y=function(){return u(v[0],d(r.apply(void 0,arguments)))},w=v[1]-v[0];n.each((function(e,t,n){var r=c(l.select(n[t]),e),s=r.enter().attr("transform",y).style("stroke","#bbb");s.append("line").attr(f,w),s.append("g").classed(h,!0).style("stroke","none"),s.append("g").classed(g,!0).style("stroke","none").attr("transform",u(w,0)).append("text").attr("text-anchor",m).attr("x",p).attr("y",b).attr("dy",_),r.attr("class","annotation-line ".concat(o)),r.attr("transform",y),r.select("line").attr(f,w),r.select("g."+g).attr("transform",u(w,0)),r.select("text").text(a),i(r,e,t)}))};return s.xScale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],s):e},s.yScale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],s):t},s.value=function(){return arguments.length?(r=Pr(arguments.length<=0?void 0:arguments[0]),s):r},s.label=function(){return arguments.length?(a=Pr(arguments.length<=0?void 0:arguments[0]),s):a},s.decorate=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],s):i},s.orient=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],s):o},s};function Ir(){var e=function(e){return e.x},t=function(e){return e.y},r=n.scaleIdentity(),a=n.scaleIdentity(),i=function(){},o=Le("g","annotation-crosshair"),c=Yn(),s=Lr(),u=Lr().orient("vertical"),f=n.scaleIdentity(),d=n.scaleIdentity(),h=vr().series([s,u,c]).xScale(f).yScale(d).mapping((function(e){return[e]})),g=function(n){De(n)&&o.transition(n),n.each((function(n,g,p){var b=o(l.select(p[g]),n);b.enter().style("pointer-events","none"),f.range(r.range()),d.range(a.range()),c.crossValue(e).mainValue(t),s.value(t),u.value(e),b.call(h),i(b,n,g)}))};g.x=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],g):e},g.y=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],g):t},g.xScale=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],g):r},g.yScale=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],g):a},g.decorate=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],g):i};var p=v("label");return b(g,s,p,x("y")),b(g,u,p,x("x")),g}var Rr=function(){var e=n.scaleIdentity(),t=n.scaleIdentity(),r=function(e){return e},a=r,i=function(){},o="horizontal",l=c.line(),s=function(n){if("horizontal"!==o&&"vertical"!==o)throw new Error("Invalid orientation");var c="horizontal"===o,s=l.context(),u=c?e:t,f=c?t:e,d=u.domain(),h=c?9:0,g=c?0:9,p=c?"left":"center",b=c?"middle":"hanging";n.forEach((function(e,t){s.save(),s.beginPath(),s.strokeStyle="#bbb",s.fillStyle="#000",s.textAlign=p,s.textBaseline=b,i(s,e,t),l.context(s)(d.map((function(t){var n=[u(t),f(r(e))];return c?n:n.reverse()})));var n=c?u(d[1]):f(r(e)),o=c?f(r(e)):u(d[1]);s.fillText(a(e),n+h,o+g),s.fill(),s.stroke(),s.closePath(),s.restore()}))};return s.xScale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],s):e},s.yScale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],s):t},s.value=function(){return arguments.length?(r=Pr(arguments.length<=0?void 0:arguments[0]),s):r},s.label=function(){return arguments.length?(a=Pr(arguments.length<=0?void 0:arguments[0]),s):a},s.decorate=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],s):i},s.orient=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],s):o},g(s,l,"context"),s},Br=function(){var e=function(e){return e.x},t=function(e){return e.y},r=n.scaleIdentity(),a=n.scaleIdentity(),i=qn(),o=Rr(),l=Rr().orient("vertical"),c=n.scaleIdentity(),s=n.scaleIdentity(),u=yr().series([o,l,i]).xScale(c).yScale(s).mapping((function(e){return[e]})),f=function(n){n.forEach((function(n){c.range(r.range()),s.range(a.range()),i.crossValue(e).mainValue(t),o.value(t),l.value(e),u(n)}))};f.x=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],f):e},f.y=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],f):t},f.xScale=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],f):r},f.yScale=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],f):a};var d=v("label","decorate");return b(f,o,d,x("y")),b(f,l,d,x("x")),g(f,i,"decorate"),g(f,u,"context"),f},jr=function(){var e=n.scaleIdentity(),t=[10],r=null,a=function(){var n;return null!=r?r:e.ticks?(n=e).ticks.apply(n,U(t)):e.domain()};return a.scale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],a):e},a.ticks=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t=n,a},a.tickArguments=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],a):t},a.tickValues=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],a):r},a},Zr=function(e){return e},Hr=function(){var e=function(){},t=function(){},n=jr(),r=jr(),a=Le("line","gridline-y").key(Zr),i=Le("line","gridline-x").key(Zr),o=function(o){De(o)&&(a.transition(o),i.transition(o)),o.each((function(o,c,s){var u=s[c],f=l.select(s[c]),d=n.scale(),h=r.scale(),g=u.__x_scale__||d;u.__x_scale__=d.copy();var p=n(),b=a(f,p);b.enter().attr("x1",g).attr("x2",g).attr("y1",h.range()[0]).attr("y2",h.range()[1]).attr("stroke","#bbb"),b.attr("x1",d).attr("x2",d).attr("y1",h.range()[0]).attr("y2",h.range()[1]),b.exit().attr("x1",d).attr("x2",d),e(b,p,c);var _=u.__y_scale__||h;u.__y_scale__=h.copy();var m=r(),v=i(f,m);v.enter().attr("y1",_).attr("y2",_).attr("x1",d.range()[0]).attr("x2",d.range()[1]).attr("stroke","#bbb"),v.attr("y1",h).attr("y2",h).attr("x1",d.range()[0]).attr("x2",d.range()[1]),v.exit().attr("y1",h).attr("y2",h),t(v,m,c)}))};return o.yDecorate=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],o):t},o.xDecorate=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],o):e},b(o,a,y({key:"xKey"})),b(o,i,y({key:"yKey"})),b(o,n,x("x")),b(o,r,x("y")),o},Fr=function(){var e=function(){},t=function(){},n=jr(),r=jr(),a=c.line(),i=function(){var i=a.context(),o=n.scale(),l=r.scale();n().forEach((function(t,n){i.save(),i.beginPath(),i.strokeStyle="#bbb",i.fillStyle="transparent",e(i,t,n),a.context(i)(l.domain().map((function(e){return[o(t),l(e)]}))),i.fill(),i.stroke(),i.closePath(),i.restore()})),r().forEach((function(e,n){i.save(),i.beginPath(),i.strokeStyle="#bbb",i.fillStyle="transparent",t(i,e,n),a.context(i)(o.domain().map((function(t){return[o(t),l(e)]}))),i.fill(),i.stroke(),i.closePath(),i.restore()}))};return i.yDecorate=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],i):t},i.xDecorate=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],i):e},b(i,n,x("x")),b(i,r,x("y")),g(i,a,"context"),i},Wr=function(e){return e},Yr=function(e,t,n,r){return e[t]?e[t].apply(e,n):r},qr=function(e){var t;return null!==(t=e.tickValues())&&void 0!==t?t:Yr(e.scale(),"ticks",e.tickArguments(),e.scale().domain())},Ur=function(e){var t;return null!==(t=e.tickFormat())&&void 0!==t?t:Yr(e.scale(),"tickFormat",e.tickArguments(),Wr)},$r=function(e){return e},Gr=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=[10],a=null,i=function(){},o=null,s=6,u=6,f=3,d=c.line(),h=Le("g","tick").key($r),g=Le("path","domain"),p=function(){return{offset:[0,u+f]}},b=function(){return{path:[[0,0],[0,u]]}},_=n.labelOffset||p,m=n.tickPath||b,v=function(e,t){var n=0;return e.bandwidth&&(n=e.bandwidth()/2,e.round()&&(n=Math.round(n))),function(r){return t(e(r)+n,0)}},y=function(e,t){return x()?"translate(".concat(t,", ").concat(e,")"):"translate(".concat(e,", ").concat(t,")")},w=function(e){return x()?e.map((function(e){return[e[1],e[0]]})):e},x=function(){return"left"===e||"right"===e},S=function n(r){De(r)&&(h.transition(r),g.transition(r)),r.each((function(r,a,o){var c=o[a],u=l.select(c);c.__scale__||u.attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","right"===e?"start":"left"===e?"end":"middle");var f=c.__scale__||t;c.__scale__=t.copy();var p=qr(n),b=Ur(n),S="bottom"===e||"right"===e?1:-1,k=function(e){var t=Y(e,2),n=t[0],r=t[1];return[n,S*r]},A=t.range(),E=w([[A[0],S*s],[A[0],0],[A[1],0],[A[1],S*s]]),M=g(u,[r]);M.enter().attr("stroke","#000"),M.attr("d",d(E));var V=h(u,p),C=p.map((function(e,t){return _(e,t,p)})),z=p.map((function(e,t){return m(e,t,p)}));V.enter().attr("transform",v(f,y)).append("path").attr("stroke","#000"),V.enter().append("text").attr("transform",(function(e,t){return y.apply(void 0,U(k(C[t].offset)))})).attr("fill","#000"),V.exit().attr("transform",v(t,y)),V.select("path").attr("visibility",(function(e,t){return z[t].hidden&&"hidden"})).attr("d",(function(e,t){return d(w(z[t].path.map(k)))})),V.select("text").attr("visibility",(function(e,t){return C[t].hidden&&"hidden"})).attr("transform",(function(e,t){return y.apply(void 0,U(k(C[t].offset)))})).attr("dy",(function(){var t="0em";return x()?t="0.32em":"bottom"===e&&(t="0.71em"),t})).text(b),V.attr("transform",v(t,y)),i(V,r,a)}))};return S.tickFormat=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],S):o},S.tickSize=function(){return arguments.length?(u=s=Number(arguments.length<=0?void 0:arguments[0]),S):u},S.tickSizeInner=function(){return arguments.length?(u=Number(arguments.length<=0?void 0:arguments[0]),S):u},S.tickSizeOuter=function(){return arguments.length?(s=Number(arguments.length<=0?void 0:arguments[0]),S):s},S.tickPadding=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],S):f},S.decorate=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],S):i},S.scale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],S):t},S.ticks=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r=[].concat(t),S},S.tickArguments=function(){return arguments.length?(r=null==(arguments.length<=0?void 0:arguments[0])?[]:U(arguments.length<=0?void 0:arguments[0]),S):null!==r?r.slice():null},S.tickValues=function(){return arguments.length?(a=null==(arguments.length<=0?void 0:arguments[0])?[]:U(arguments.length<=0?void 0:arguments[0]),S):null!==a?a.slice():null},S.orient=function(){return e},S},Xr=function(e,t){var n=!1,r=function(e,r,i){var o=0,l=a.tickSizeInner()+a.tickPadding(),c=!1;if(n){var s=t(e),u=r<i.length-1?t(i[r+1]):t.range()[1];o=(u-s)/2,l=a.tickPadding(),c=r===i.length-1&&s===u}return{offset:[o,l],hidden:c}},a=Gr(e,t,{labelOffset:r}),i=function(e){return a(e)};return i.tickCenterLabel=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],i):n},b(i,a),i},Qr=function(e){return Xr("top",e)},Kr=function(e){return Xr("bottom",e)},Jr=function(e){return Xr("left",e)},ea=function(e){return Xr("right",e)},ta=function(e,t){var n=null,r=function(e,n,r){if(t.step)return t.step();var a=t(e);return n<r.length-1?t(r[n+1])/a:2*(t.range()[1]-a)},a=Gr(e,t,{labelOffset:function(){return{offset:[0,a.tickPadding()]}},tickPath:function(e,t,i){var o=0;return{path:[[o=n?n(e,t):r(e,t,i)/2,0],[o,a.tickSizeInner()]],hidden:t===i.length-1}}}),i=function(e){a(e)};return i.tickOffset=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],i):n},b(i,a),i},na=function(e){return ta("top",e)},ra=function(e){return ta("bottom",e)},aa=function(e){return ta("left",e)},ia=function(e){return ta("right",e)},oa=function(e){var t=function(t){var n=qr(e),r=Ur(e),a=n.map(r),i=t.append("text"),o=a.map((function(e){return i.text(e).node().getBBox()})),l=Math.max.apply(Math,U(o.map((function(e){return e.height})))),c=Math.max.apply(Math,U(o.map((function(e){return e.width}))));return i.remove(),{maxHeight:l,maxWidth:c,labelCount:a.length}};return t},la=function(e){var t="auto",n=function(){},r=function(){return"left"===e.orient()||"right"===e.orient()},a=function(){return"top"===e.orient()||"left"===e.orient()?-1:1},i=function(){switch(e.orient()){case"top":case"right":return"start";default:return"end"}},o=function(n){var o,l=oa(e)(n),c=l.maxHeight,s=l.maxWidth,u=l.labelCount*s;if("auto"===t){var f=e.scale().range()[1];o=f<u?90*Math.min(1,(u/f-.8)/2):0}else o=t;return{rotate:r()?Math.floor(a()*(90-o)):Math.floor(-o),maxHeight:c,maxWidth:s,anchor:o?i():"middle"}},l=function(e){var t=o(e),n=t.rotate,i=t.maxHeight,l=t.anchor,c=e.select("text"),s=c.attr("transform"),u=a()*Math.floor(i/2),f=r()?"translate(".concat(u,", 0)"):"translate(0, ".concat(u,")");c.style("text-anchor",l).attr("transform","".concat(s," ").concat(f," rotate(").concat(n," 0 0)"))},c=function(t){e(t)};return e.decorate((function(e){l(e),n(e)})),c.decorate=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],c):n},c.labelRotate=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],c):t},b(c,e,m("decorate")),c},ca=function(e){var t="auto",n=function(){},r=function(){return"left"===e.orient()||"right"===e.orient()},a=function(){return"top"===e.orient()||"left"===e.orient()?-1:1},i=function(n){var i=oa(e)(n),o=i.maxHeight,l=i.maxWidth,c=i.labelCount,s=e.scale().range()[1],u="auto"===t?Math.floor((r()?o:l)*c/s)+1:t,f=n.select("text"),d=f.attr("transform"),h=function(e){return r()?"translate(".concat(e%u*l*a(),", 0)"):"translate(0, ".concat(e%u*o*a(),")")};f.attr("transform",(function(e,t){return"".concat(d," ").concat(h(t))}))},o=function(t){return e(t)};return e.decorate((function(e){i(e),n(e)})),o.decorate=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},o.labelOffsetDepth=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],o):t},b(o,e,m("decorate")),o},sa="__d3fc-elements__",ua=function(e){return e[sa]||{}},fa=function(e,t){e[sa]=t},da=function(e){return delete e[sa]},ha=function(e){return"D3FC-GROUP"===e.tagName?[e].concat(U(e.querySelectorAll("d3fc-canvas, d3fc-group, d3fc-svg"))):[e]},ga=function(e){var t=ua(e),n=t.width,r=t.height,a=e.useDevicePixelRatio&&null!=window.devicePixelRatio?window.devicePixelRatio:1,i=e.clientWidth*a,o=e.clientHeight*a,l=i!==n||o!==r,c=e.children[0];fa(e,{pixelRatio:a,width:i,height:o,resized:l,child:c})};if("function"!=typeof CustomEvent)throw new Error("d3fc-element depends on CustomEvent. Make sure that you load a polyfill in older browsers. See README.");var pa=function(e){var t=ua(e),n=new CustomEvent("measure",{detail:t});e.dispatchEvent(n)},ba=function(e){var t=ua(e),n=new CustomEvent("draw",{detail:t});e.dispatchEvent(n)},_a=function(e){var t=e.map(ha).reduce((function(e,t){return e.concat(t)}));t.forEach(ga),t.forEach(pa),t.forEach(ba)},ma=function(e){return ua(e.ownerDocument).queue||[]},va=function(e,t){var n=ua(e.ownerDocument).requestId;null==n&&(n=requestAnimationFrame((function(){var t=ma(e);_a(t),ya(e)}))),fa(e.ownerDocument,{queue:t,requestId:n})},ya=function(e){return da(e.ownerDocument)},wa=function(e,t){var n=e;do{if(n.parentNode===t)return!0}while(n=n.parentNode);return!1},xa=function(e){var t=ma(e);if(!(t.indexOf(e)>-1||t.some((function(t){return wa(e,t)})))){var n=t.filter((function(t){return!wa(t,e)}));n.push(e),va(e,n)}};if("function"!=typeof HTMLElement)throw new Error("d3fc-element depends on Custom Elements (v1). Make sure that you load a polyfill in older browsers. See README.");var Sa=function(e){null==e.__measureListener__&&(e.__measureListener__=function(t){return e.setMeasurements(t.detail)},e.addEventListener("measure",e.__measureListener__))},ka=function(e){null!=e.__measureListener__&&(e.removeEventListener("measure",e.__measureListener__),e.__measureListener__=null)},Aa=function(e,t){return function(n){D(a,n);var r=W(a);function a(){return N(this,a),r.apply(this,arguments)}return O(a,[{key:"attributeChangedCallback",value:function(e){"use-device-pixel-ratio"===e&&this.requestRedraw()}},{key:"connectedCallback",value:function(){0===this.childNodes.length&&this.appendChild(e()),Sa(this)}},{key:"disconnectedCallback",value:function(){ka(this)}},{key:"setMeasurements",value:function(e){var n=e.width,r=e.height,a=q(this.childNodes),i=a[0];if(a.slice(1).length>0)throw new Error("A d3fc-svg/canvas element must only contain a single svg/canvas element.");t(this,i,{width:n,height:r})}},{key:"requestRedraw",value:function(){xa(this)}},{key:"useDevicePixelRatio",get:function(){return this.hasAttribute("use-device-pixel-ratio")&&"false"!==this.getAttribute("use-device-pixel-ratio")},set:function(e){e&&!this.useDevicePixelRatio?this.setAttribute("use-device-pixel-ratio",""):!e&&this.useDevicePixelRatio&&this.removeAttribute("use-device-pixel-ratio"),this.requestRedraw()}}],[{key:"observedAttributes",get:function(){return["use-device-pixel-ratio"]}}]),a}(Z(HTMLElement))},Ea=function(e){D(n,e);var t=W(n);function n(){return N(this,n),t.apply(this,arguments)}return O(n,[{key:"setWebglViewport",get:function(){return this.hasAttribute("set-webgl-viewport")&&"false"!==this.getAttribute("set-webgl-viewport")},set:function(e){e&&!this.setWebglViewport?this.setAttribute("set-webgl-viewport",""):!e&&this.setWebglViewport&&this.removeAttribute("set-webgl-viewport"),this.requestRedraw()}}]),n}(Aa((function(){return document.createElement("canvas")}),(function(e,t,n){var r=n.width,a=n.height;t.setAttribute("width",r),t.setAttribute("height",a),e.setWebglViewport&&t.getContext("webgl").viewport(0,0,r,a)}))),Ma=function(e){e.autoResize?Va(e):Ca(e)},Va=function(e){null==e.__autoResizeListener__&&(e.__autoResizeListener__=function(){return xa(e)},addEventListener("resize",e.__autoResizeListener__))},Ca=function(e){null!=e.__autoResizeListener__&&(removeEventListener("resize",e.__autoResizeListener__),e.__autoResizeListener__=null)},za=function(e){D(n,e);var t=W(n);function n(){return N(this,n),t.apply(this,arguments)}return O(n,[{key:"connectedCallback",value:function(){Ma(this)}},{key:"disconnectedCallback",value:function(){Ca(this)}},{key:"requestRedraw",value:function(){xa(this)}},{key:"attributeChangedCallback",value:function(e){"auto-resize"===e&&Ma(this)}},{key:"autoResize",get:function(){return this.hasAttribute("auto-resize")&&"false"!==this.getAttribute("auto-resize")},set:function(e){e&&!this.autoResize?this.setAttribute("auto-resize",""):!e&&this.autoResize&&this.removeAttribute("auto-resize"),Ma(this)}}],[{key:"observedAttributes",get:function(){return["auto-resize"]}}]),n}(Z(HTMLElement)),Ta=Aa((function(){return document.createElementNS("http://www.w3.org/2000/svg","svg")}),(function(e,t,n){var r=n.width,a=n.height;t.setAttribute("viewBox","0 0 ".concat(r," ").concat(a))})),Na="d3fc-canvas,d3fc-svg{position:relative;display:block}d3fc-canvas>canvas,d3fc-svg>svg{position:absolute;height:100%;width:100%}d3fc-svg>svg{overflow:visible}",Pa=document.createElement("style");if(Pa.setAttribute("type","text/css"),document.querySelector("head").appendChild(Pa),Pa.styleSheet?Pa.styleSheet.cssText+=Na:Pa.textContent+=Na,"object"!==("undefined"==typeof customElements?"undefined":T(customElements))||"function"!=typeof customElements.define)throw new Error("d3fc-element depends on Custom Elements (v1). Make sure that you load a polyfill in older browsers. See README.");var Oa=[],Da=function(e,t){customElements.get(e)?Oa.push(e):customElements.define(e,t)};Da("d3fc-canvas",Ea),Da("d3fc-group",za),Da("d3fc-svg",Ta),Oa.length>0&&console.warn('The d3fc components "'.concat(Oa.join(", "),'" is/are already registered on window. Be aware that this can create compatibility issues if different versions are used.'));var La=function(){var e=u.dispatch("point");function t(t){var n=l.pointer(t);e.call("point",this,[{x:n[0],y:n[1]}])}function n(){e.call("point",this,[])}var r=function(e){e.on("mouseenter.pointer",t).on("mousemove.pointer",t).on("mouseleave.pointer",n)};return g(r,e,"on"),r},Ia=function(){var e="",t="vertical",n=function(e,t){return Number(e[t])},r=function(t){return Object.keys(t[0]).filter((function(t){return t!==e})).map((function(r){var a=t.filter((function(e){return e[r]})).map((function(t){var a=[t[e],n(t,r)];return a.data=t,a}));return a.key=r,a}))},a=function(t){return t.map((function(t){var r=Object.keys(t).filter((function(t){return t!==e})).map((function(e){var r=[e,n(t,e)];return r.data=t,r}));return r.key=t[e],r}))},i=function(e){return"vertical"===t?r(e):a(e)};return i.key=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],i):e},i.value=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],i):n},i.orient=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],i):t},i},Ra=function(){for(var e={},t=function(t){for(var n=0,r=Object.keys(e);n<r.length;n++){var a=r[n];t[a].apply(null,e[a])}return t},n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];for(var i=function(){var n=l[o];t[n]=function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return a.length?(e[n]=a,t):e[n]}},o=0,l=r;o<l.length;o++)i();return t},Ba="d3fc-group.cartesian-chart{width:100%;height:100%;overflow:hidden;display:grid;display:-ms-grid;grid-template-columns:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);-ms-grid-columns:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);grid-template-rows:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);-ms-grid-rows:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);}\nd3fc-group.cartesian-chart>.top-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:3;-ms-grid-column:3;grid-row:1;-ms-grid-row:1;}\nd3fc-group.cartesian-chart>.top-axis{height:2em;grid-column:3;-ms-grid-column:3;grid-row:2;-ms-grid-row:2;}\nd3fc-group.cartesian-chart>.left-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:1;-ms-grid-column:1;grid-row:3;-ms-grid-row:3;}\nd3fc-group.cartesian-chart>.left-axis{width:3em;grid-column:2;-ms-grid-column:2;grid-row:3;-ms-grid-row:3;}\nd3fc-group.cartesian-chart>.plot-area{overflow:hidden;grid-column:3;-ms-grid-column:3;grid-row:3;-ms-grid-row:3;}\nd3fc-group.cartesian-chart>.right-axis{width:3em;grid-column:4;-ms-grid-column:4;grid-row:3;-ms-grid-row:3;}\nd3fc-group.cartesian-chart>.right-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:5;-ms-grid-column:5;grid-row:3;-ms-grid-row:3;}\nd3fc-group.cartesian-chart>.bottom-axis{height:2em;grid-column:3;-ms-grid-column:3;grid-row:4;-ms-grid-row:4;}\nd3fc-group.cartesian-chart>.bottom-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:3;-ms-grid-column:3;grid-row:5;-ms-grid-row:5;}\nd3fc-group.cartesian-chart>.y-label{display:flex;transform:rotate(-90deg);width:1em;white-space:nowrap;justify-content:center;}",ja=document.createElement("style");ja.setAttribute("type","text/css"),document.querySelector("head").appendChild(ja),ja.styleSheet?ja.styleSheet.cssText+=Ba:ja.textContent+=Ba;var Za=function(e){return"function"==typeof e?e:function(){return e}},Ha=function(){var e=Fa.apply(void 0,arguments),t=e.xScale,n=e.yScale,r=e.xAxis,a=e.yAxis,i=Za(""),o=Za(""),c=Za(""),s=Za(null),u=Za(null),f=Za("right"),d=Za("bottom"),h=null,g=null,p=null,_=!1,v=!0,y=Ra("tickFormat","ticks","tickArguments","tickSize","tickSizeInner","tickSizeOuter","tickValues","tickPadding","tickCenterLabel"),w=function(){},S=Ra("tickFormat","ticks","tickArguments","tickSize","tickSizeInner","tickSizeOuter","tickValues","tickPadding","tickCenterLabel"),k=function(){},A=function(){},E=Le("d3fc-group","cartesian-chart"),M=Le("d3fc-canvas","webgl-plot-area"),V=Le("d3fc-canvas","canvas-plot-area"),C=Le("d3fc-svg","svg-plot-area"),z=Le("d3fc-svg","x-axis").key((function(e){return e})),T=Le("d3fc-svg","y-axis").key((function(e){return e})),N=Le("div","chart-label"),P=Le("div","x-label").key((function(e){return e})),O=Le("div","y-label").key((function(e){return e})),D=function(e){return function(t){return De(e)?t.transition(e):t}},L=function(e){var b=D(e);e.each((function(e,m,x){var D=E(l.select(x[m]),[e]);D.enter().attr("auto-resize",""),N(D,[d(e)]).attr("class",(function(e){return"top"===e?"chart-label bottom-label":"chart-label top-label"})).style("margin-bottom",(function(e){return"top"===e?0:"1em"})).style("margin-top",(function(e){return"top"===e?"1em":0})).text(i(e)),P(D,[d(e)]).attr("class",(function(e){return"x-label ".concat(e,"-label")})).text(o(e)),O(D,[f(e)]).attr("class",(function(e){return"y-label ".concat(e,"-label")})).text(c(e)),M(D,h?[e]:[]).attr("set-webgl-viewport","").classed("plot-area",!0).attr("use-device-pixel-ratio",v).on("draw",(function(e,r){var a=e.detail,i=a.child,o=a.pixelRatio;h.context(_?null:i.getContext("webgl")).pixelRatio(o).xScale(t).yScale(n),h(r)})),D.select(".webgl-plot-area>canvas").on("webglcontextlost",(function(e){console.warn("WebGLRenderingContext lost"),e.preventDefault(),_=!0,D.node().requestRedraw()})).on("webglcontextrestored",(function(){console.info("WebGLRenderingContext restored"),_=!1,D.node().requestRedraw()})),V(D,g?[e]:[]).classed("plot-area",!0).attr("use-device-pixel-ratio",v).on("draw",(function(e,r){var a=e.detail,i=a.child,o=a.pixelRatio,l=i.getContext("2d");l.save(),v&&l.scale(o,o),g.context(l).xScale(t).yScale(n),g(r),l.restore()})),C(D,p?[e]:[]).classed("plot-area",!0).on("draw",(function(e,r){var a=e.detail.child;p.xScale(t).yScale(n),b(l.select(a).datum(r)).call(p)})),z(D,[d(e)]).attr("class",(function(e){return"x-axis ".concat(e,"-axis")})).style("height",s(e)).on("measure",(function(e,n){var r=e.detail,a=r.width,i=r.height,o=r.child;"top"===n&&l.select(o).attr("viewBox","0 ".concat(-i," ").concat(a," ").concat(i)),t.range([0,a])})).on("draw",(function(e,n){var a=e.detail.child,i="top"===n?r.top(t):r.bottom(t);i.decorate(w),b(l.select(a).datum(n)).call(y(i))})),T(D,[f(e)]).attr("class",(function(e){return"y-axis ".concat(e,"-axis")})).style("width",u(e)).on("measure",(function(e,t){var r=e.detail,a=r.width,i=r.height,o=r.child;"left"===t&&l.select(o).attr("viewBox","".concat(-a," 0 ").concat(a," ").concat(i)),n.range([i,0])})).on("draw",(function(e,t){var r=e.detail.child,i="left"===t?a.left(n):a.right(n);i.decorate(k),b(l.select(r).datum(t)).call(S(i))})),D.each((function(e,t,n){return n[t].requestRedraw()})),A(D,e,m)}))},I=m(/range\w*/,/tickFormat/);return b(L,t,I,x("x")),b(L,n,I,x("y")),b(L,y,x("x")),b(L,S,x("y")),L.xOrient=function(){return arguments.length?(d=Za(arguments.length<=0?void 0:arguments[0]),L):d},L.yOrient=function(){return arguments.length?(f=Za(arguments.length<=0?void 0:arguments[0]),L):f},L.xDecorate=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],L):w},L.yDecorate=function(){return arguments.length?(k=arguments.length<=0?void 0:arguments[0],L):k},L.chartLabel=function(){return arguments.length?(i=Za(arguments.length<=0?void 0:arguments[0]),L):i},L.xLabel=function(){return arguments.length?(o=Za(arguments.length<=0?void 0:arguments[0]),L):o},L.yLabel=function(){return arguments.length?(c=Za(arguments.length<=0?void 0:arguments[0]),L):c},L.xAxisHeight=function(){return arguments.length?(s=Za(arguments.length<=0?void 0:arguments[0]),L):s},L.yAxisWidth=function(){return arguments.length?(u=Za(arguments.length<=0?void 0:arguments[0]),L):u},L.webglPlotArea=function(){return arguments.length?(h=arguments.length<=0?void 0:arguments[0],L):h},L.canvasPlotArea=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],L):g},L.svgPlotArea=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],L):p},L.decorate=function(){return arguments.length?(A=arguments.length<=0?void 0:arguments[0],L):A},L.useDevicePixelRatio=function(){return arguments.length?(v=arguments.length<=0?void 0:arguments[0],L):v},L},Fa=function(){for(var e={xScale:n.scaleIdentity(),yScale:n.scaleIdentity(),xAxis:{bottom:Kr,top:Qr},yAxis:{right:ea,left:Jr}},t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return 1!==r.length||r[0].domain||r[0].range?Object.assign(e,{xScale:r[0]||e.xScale,yScale:r[1]||e.yScale}):Object.assign(e,r[0])},Wa=function(e){return"function"==typeof e?e:function(){return e}},Ya=function(e,t){return function(){var n=Wa(""),r=t,a=function(){},i=Ha.apply(void 0,arguments),o=function(t){e(i,r),i.decorate((function(e,t,r){e.enter().select(".x-label").style("height","1em").style("line-height","1em");var o=i.yOrient()(t);e.enter().append("div").attr("class","y-label-container").style("grid-column","left"===o?1:5).style("-ms-grid-column","left"===o?1:5).style("grid-row",3).style("-ms-grid-row",3).style("width","1em").style("display","flex").style("align-items","center").style("justify-content","center").style("white-space","nowrap").append("div").attr("class","y-label").style("transform","rotate(-90deg)"),e.select(".y-label-container>.y-label").text(n),a(e,t,r)})),t.call(i)};return b(o,i,v(/^x/,/^y/,"chartLabel")),o.yLabel=function(){return arguments.length?(n=Wa(arguments.length<=0?void 0:arguments[0]),o):n},o.plotArea=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],o):r},o.decorate=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],o):a},o}},qa=Ya((function(e,t){return e.svgPlotArea(t)}),ot),Ua=Ya((function(e,t){return e.canvasPlotArea(t)}),lt),$a=function(e){switch(e){case"x":return f.brushX();case"y":return f.brushY();case"xy":return f.brush()}},Ga=function(e){return[e[1],e[0]]},Xa=function(e){var t=$a(e),r=u.dispatch("brush","start","end"),a=n.scaleIdentity(),i=n.scaleIdentity(),o=Le("g","brush"),c=function(t,n,r){switch(e){case"x":return t.map(n);case"y":return t.map(r);case"xy":return[[n(t[0][0]),r(t[0][1])],[n(t[1][0]),r(t[1][1])]]}},s=function(e){return c(e,n.scaleLinear().domain(a.range()).invert,n.scaleLinear().domain(Ga(i.range())).invert)},f=function(e){return c(e,n.scaleLinear().domain(a.range()),n.scaleLinear().domain(Ga(i.range())))},d=function(t){var r=n.scaleLinear().domain(a.domain());return"x"===e?t.map(r.invert):"xy"===e?[r.invert(t[0][0]),r.invert(t[1][0])]:void 0},h=function(t){var r=n.scaleLinear().domain(Ga(i.domain()));return"y"===e?[t[1],t[0]].map(r.invert):"xy"===e?[r.invert(t[1][1]),r.invert(t[0][1])]:void 0},p=function(e){if(!e.sourceEvent||"draw"!==e.sourceEvent.type)if(e.selection){var t=f(e.selection);r.call(e.type,{},{selection:t,xDomain:d(t),yDomain:h(t)})}else r.call(e.type,{},{})},b=function(e){e.each((function(e,n,r){t.extent([[a.range()[0],i.range()[1]],[a.range()[1],i.range()[0]]]),t.on("end",(function(e){return p(e)})).on("brush",(function(e){return p(e)})).on("start",(function(e){return p(e)})),o(l.select(r[n]),[e]).call(t).call(t.move,e?s(e):null)}))};return b.xScale=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],b):a},b.yScale=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],b):i},g(b,r,"on"),g(b,t,"filter","handleSize"),b},Qa=function(){return Xa("x")},Ka=function(){return Xa("y")},Ja=function(){return Xa("xy")},ei=function(e,t){if(null==e&&null==t)return!0;var n=e.domain(),r=t.domain();return n.length===r.length&&n.every((function(e,t){var n;return(null==e?void 0:e.valueOf())===(null===(n=r[t])||void 0===n?void 0:n.valueOf())}))},ti=function(e,t){return d.zoomIdentity.scale(e.k/t.k).translate(e.x-t.x,e.y-t.y)},ni=Symbol("d3fc-domain-zoom"),ri=function(){var e=u.dispatch("zoom"),t=d.zoom().on("zoom",(function(n){var r=n.transform,a=this,i=r,o=a[ni],c=o.originalXScale,s=o.previousXScale,u=o.xScale,f=o.originalYScale,d=o.previousYScale,h=o.yScale,g=o.previousTransform;ei(s,u)&&ei(d,h)||(c=null==u?void 0:u.copy(),f=null==h?void 0:h.copy(),i=ti(r,g)),null!=u&&(s=i.rescaleX(c.range(u.range())),u.domain(s.domain())),null!=h&&(d=i.rescaleY(f.range(h.range())),h.domain(d.domain())),g=i,a[ni]={originalXScale:c,previousXScale:s,xScale:u,originalYScale:f,previousYScale:d,yScale:h,previousTransform:g},i!==r&&t.transform(l.select(a),i),e.call("zoom")})),n=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null==n&&null==r&&console.warn("Without an xScale and/or yScale specified, this component won't do anything. Perhaps you forgot to specify them e.g. selection.call(zoom, x, y)?"),e.each((function(e,t,a){var i=a[t][ni];null!=i&&i.xScale===n&&i.yScale===r&&console.warn("This component should only be called on a selection once. Perhaps you're missing an .enter()?");var o=null==n?void 0:n.copy(),l=null==r?void 0:r.copy();a[t][ni]={originalXScale:o,previousXScale:o,xScale:n,originalYScale:l,previousYScale:l,yScale:r,previousTransform:d.zoomIdentity}})).call(t)};return g(n,e,"on"),g(n,t,"extent","filter","wheelDelta","touchable","clickDistance","tapDistance","duration","interpolate"),n};e.annotationCanvasBand=Dr,e.annotationCanvasCrosshair=Br,e.annotationCanvasGridline=Fr,e.annotationCanvasLine=Rr,e.annotationSvgBand=Or,e.annotationSvgCrosshair=Ir,e.annotationSvgGridline=Hr,e.annotationSvgLine=Lr,e.autoBandwidth=Cr,e.axisBottom=Kr,e.axisLabelOffset=ca,e.axisLabelRotate=la,e.axisLeft=Jr,e.axisOrdinalBottom=ra,e.axisOrdinalLeft=aa,e.axisOrdinalRight=ia,e.axisOrdinalTop=na,e.axisRight=ea,e.axisTop=Qr,e.brush=Ja,e.brushX=Qa,e.brushY=Ka,e.bucket=Se,e.chartCanvasCartesian=Ua,e.chartCartesian=Ha,e.chartSvgCartesian=qa,e.dataJoin=Le,e.discontinuityIdentity=se,e.discontinuityRange=pe,e.discontinuitySkipUtcWeekends=ge,e.discontinuitySkipWeekends=he,e.effectivelyZero=Oe,e.exclude=m,e.extentDate=_e,e.extentLinear=be,e.extentTime=_e,e.feedGdax=xe,e.group=Ia,e.include=v,e.includeMap=y,e.indicatorBollingerBands=V,e.indicatorElderRay=ce,e.indicatorEnvelope=le,e.indicatorExponentialMovingAverage=C,e.indicatorForceIndex=oe,e.indicatorMacd=z,e.indicatorMovingAverage=ae,e.indicatorRelativeStrengthIndex=re,e.indicatorStochasticOscillator=ie,e.isTransition=De,e.largestTriangleOneBucket=ke,e.largestTriangleThreeBucket=Ae,e.layoutAnnealing=Xe,e.layoutBoundingBox=Je,e.layoutGreedy=Ue,e.layoutLabel=Ie,e.layoutRemoveOverlaps=Ke,e.layoutTextLabel=Re,e.modeMedian=Ee,e.pointer=La,e.prefix=x,e.randomFinancial=ye,e.randomGeometricBrownianMotion=me,e.randomSkipWeekends=we,e.rebind=g,e.rebindAll=b,e.scaleDiscontinuous=fe,e.seriesCanvasArea=nr,e.seriesCanvasBar=Gn,e.seriesCanvasBoxPlot=hr,e.seriesCanvasCandlestick=cr,e.seriesCanvasErrorBar=Jn,e.seriesCanvasGrouped=kr,e.seriesCanvasHeatmap=Nr,e.seriesCanvasLine=lt,e.seriesCanvasMulti=yr,e.seriesCanvasOhlc=br,e.seriesCanvasPoint=qn,e.seriesCanvasRepeat=Er,e.seriesSvgArea=tr,e.seriesSvgBar=$n,e.seriesSvgBoxPlot=dr,e.seriesSvgCandlestick=or,e.seriesSvgErrorBar=Kn,e.seriesSvgGrouped=Sr,e.seriesSvgHeatmap=Tr,e.seriesSvgLine=ot,e.seriesSvgMulti=vr,e.seriesSvgOhlc=pr,e.seriesSvgPoint=Yn,e.seriesSvgRepeat=Ar,e.seriesWebglArea=rr,e.seriesWebglBar=Xn,e.seriesWebglBoxPlot=gr,e.seriesWebglCandlestick=ur,e.seriesWebglErrorBar=er,e.seriesWebglLine=Wn,e.seriesWebglMulti=wr,e.seriesWebglOhlc=_r,e.seriesWebglPoint=Un,e.seriesWebglRepeat=Mr,e.shapeBar=Ce,e.shapeBoxPlot=Te,e.shapeCandlestick=ze,e.shapeErrorBar=Ne,e.shapeOhlc=Ve,e.webglAdjacentAttribute=xn,e.webglAttribute=nn,e.webglBaseAttribute=Jt,e.webglBufferBuilder=st,e.webglElementIndices=un,e.webglFillColor=Hn,e.webglProgramBuilder=dt,e.webglScaleLinear=Sn,e.webglScaleLog=kn,e.webglScaleMapper=Pn,e.webglScalePow=An,e.webglSeriesArea=an,e.webglSeriesBar=pn,e.webglSeriesBoxPlot=wn,e.webglSeriesCandlestick=vn,e.webglSeriesErrorBar=_n,e.webglSeriesLine=fn,e.webglSeriesOhlc=hn,e.webglSeriesPoint=ln,e.webglShaderBuilder=ht,e.webglStrokeColor=Fn,e.webglSymbolMapper=jn,e.webglTypes=Xt,e.webglUniform=ut,e.zoom=ri,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(25573),n(9090),n(42796),n(9166),n(85278),n(40549),n(43905),n(90761),n(75258),n(88258),n(86111),n(81501))},93778:(e,t,n)=>{"use strict";n.d(t,{Q1:()=>L});var r=Uint8Array,a=Uint16Array,i=Uint32Array,o=new r([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),l=new r([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),c=new r([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(e,t){for(var n=new a(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var o=new i(n[30]);for(r=1;r<30;++r)for(var l=n[r];l<n[r+1];++l)o[l]=l-n[r]<<5|r;return[n,o]},u=s(o,2),f=u[0],d=u[1];f[28]=258,d[258]=28;for(var h=s(l,0),g=h[0],p=(h[1],new a(32768)),b=0;b<32768;++b){var _=(43690&b)>>>1|(21845&b)<<1;_=(61680&(_=(52428&_)>>>2|(13107&_)<<2))>>>4|(3855&_)<<4,p[b]=((65280&_)>>>8|(255&_)<<8)>>>1}var m=function(e,t,n){for(var r=e.length,i=0,o=new a(t);i<r;++i)e[i]&&++o[e[i]-1];var l,c=new a(t);for(i=0;i<t;++i)c[i]=c[i-1]+o[i-1]<<1;if(n){l=new a(1<<t);var s=15-t;for(i=0;i<r;++i)if(e[i])for(var u=i<<4|e[i],f=t-e[i],d=c[e[i]-1]++<<f,h=d|(1<<f)-1;d<=h;++d)l[p[d]>>>s]=u}else for(l=new a(r),i=0;i<r;++i)e[i]&&(l[i]=p[c[e[i]-1]++]>>>15-e[i]);return l},v=new r(288);for(b=0;b<144;++b)v[b]=8;for(b=144;b<256;++b)v[b]=9;for(b=256;b<280;++b)v[b]=7;for(b=280;b<288;++b)v[b]=8;var y=new r(32);for(b=0;b<32;++b)y[b]=5;var w=m(v,9,1),x=m(y,5,1),S=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},k=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(7&t)&n},A=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},E=function(e){return(e+7)/8|0},M=function(e,t,n){(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length);var o=new(2==e.BYTES_PER_ELEMENT?a:4==e.BYTES_PER_ELEMENT?i:r)(n-t);return o.set(e.subarray(t,n)),o},V=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],C=function(e,t,n){var r=new Error(t||V[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,C),!n)throw r;return r},z=function(e,t,n){var a=e.length;if(!a||n&&n.f&&!n.l)return t||new r(0);var i=!t||n,s=!n||n.i;n||(n={}),t||(t=new r(3*a));var u=function(e){var n=t.length;if(e>n){var a=new r(Math.max(2*n,e));a.set(t),t=a}},d=n.f||0,h=n.p||0,p=n.b||0,b=n.l,_=n.d,v=n.m,y=n.n,V=8*a;do{if(!b){d=k(e,h,1);var z=k(e,h+1,3);if(h+=3,!z){var T=e[(H=E(h)+4)-4]|e[H-3]<<8,N=H+T;if(N>a){s&&C(0);break}i&&u(p+T),t.set(e.subarray(H,N),p),n.b=p+=T,n.p=h=8*N,n.f=d;continue}if(1==z)b=w,_=x,v=9,y=5;else if(2==z){var P=k(e,h,31)+257,O=k(e,h+10,15)+4,D=P+k(e,h+5,31)+1;h+=14;for(var L=new r(D),I=new r(19),R=0;R<O;++R)I[c[R]]=k(e,h+3*R,7);h+=3*O;var B=S(I),j=(1<<B)-1,Z=m(I,B,1);for(R=0;R<D;){var H,F=Z[k(e,h,j)];if(h+=15&F,(H=F>>>4)<16)L[R++]=H;else{var W=0,Y=0;for(16==H?(Y=3+k(e,h,3),h+=2,W=L[R-1]):17==H?(Y=3+k(e,h,7),h+=3):18==H&&(Y=11+k(e,h,127),h+=7);Y--;)L[R++]=W}}var q=L.subarray(0,P),U=L.subarray(P);v=S(q),y=S(U),b=m(q,v,1),_=m(U,y,1)}else C(1);if(h>V){s&&C(0);break}}i&&u(p+131072);for(var $=(1<<v)-1,G=(1<<y)-1,X=h;;X=h){var Q=(W=b[A(e,h)&$])>>>4;if((h+=15&W)>V){s&&C(0);break}if(W||C(2),Q<256)t[p++]=Q;else{if(256==Q){X=h,b=null;break}var K=Q-254;if(Q>264){var J=o[R=Q-257];K=k(e,h,(1<<J)-1)+f[R],h+=J}var ee=_[A(e,h)&G],te=ee>>>4;ee||C(3),h+=15&ee;U=g[te];if(te>3){J=l[te];U+=A(e,h)&(1<<J)-1,h+=J}if(h>V){s&&C(0);break}i&&u(p+131072);for(var ne=p+K;p<ne;p+=4)t[p]=t[p-U],t[p+1]=t[p+1-U],t[p+2]=t[p+2-U],t[p+3]=t[p+3-U];p=ne}}n.l=b,n.p=X,n.b=p,n.f=d,b&&(d=1,n.m=v,n.d=_,n.n=y)}while(!d);return p==t.length?t:M(t,0,p)},T=new r(0),N=function(e){31==e[0]&&139==e[1]&&8==e[2]||C(6,"invalid gzip data");var t=e[3],n=10;4&t&&(n+=e[10]|2+(e[11]<<8));for(var r=(t>>3&1)+(t>>4&1);r>0;r-=!e[n++]);return n+(2&t)};var P=function(){function e(e){this.s={},this.p=new r(0),this.ondata=e}return e.prototype.e=function(e){this.ondata||C(5),this.d&&C(4);var t=this.p.length,n=new r(t+e.length);n.set(this.p),n.set(e,t),this.p=n},e.prototype.c=function(e){this.d=this.s.i=e||!1;var t=this.s.b,n=z(this.p,this.o,this.s);this.ondata(M(n,t,this.s.b),this.d),this.o=M(n,this.s.b-32768),this.s.b=this.o.length,this.p=M(this.p,this.s.p/8|0),this.s.p&=7},e.prototype.push=function(e,t){this.e(e),this.c(t)},e}();var O=function(){function e(e){this.v=1,P.call(this,e)}return e.prototype.push=function(e,t){if(P.prototype.e.call(this,e),this.v){var n=this.p.length>3?N(this.p):4;if(n>=this.p.length&&!t)return;this.p=this.p.subarray(n),this.v=0}t&&(this.p.length<8&&C(6,"invalid gzip data"),this.p=this.p.subarray(0,-8)),P.prototype.c.call(this,t)},e}();var D=function(){function e(e){this.v=1,P.call(this,e)}return e.prototype.push=function(e,t){if(P.prototype.e.call(this,e),this.v){if(this.p.length<2&&!t)return;this.p=this.p.subarray(2),this.v=0}t&&(this.p.length<4&&C(6,"invalid zlib data"),this.p=this.p.subarray(0,-4)),P.prototype.c.call(this,t)},e}();var L=function(){function e(e){this.G=O,this.I=P,this.Z=D,this.ondata=e}return e.prototype.push=function(e,t){if(this.ondata||C(5),this.s)this.s.push(e,t);else{if(this.p&&this.p.length){var n=new r(this.p.length+e.length);n.set(this.p),n.set(e,this.p.length)}else this.p=e;if(this.p.length>2){var a=this,i=function(){a.ondata.apply(a,arguments)};this.s=31==this.p[0]&&139==this.p[1]&&8==this.p[2]?new this.G(i):8!=(15&this.p[0])||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(i):new this.Z(i),this.s.push(this.p,t),this.p=null}}},e}();var I="undefined"!=typeof TextDecoder&&new TextDecoder;try{I.decode(T,{stream:!0}),1}catch(e){}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout},49948:(e,t)=>{var n,r;(r=r||{}).stringify=(n={"visit_linear-gradient":function(e){return n.visit_gradient(e)},"visit_repeating-linear-gradient":function(e){return n.visit_gradient(e)},"visit_radial-gradient":function(e){return n.visit_gradient(e)},"visit_repeating-radial-gradient":function(e){return n.visit_gradient(e)},visit_gradient:function(e){var t=n.visit(e.orientation);return t&&(t+=", "),e.type+"("+t+n.visit(e.colorStops)+")"},visit_shape:function(e){var t=e.value,r=n.visit(e.at),a=n.visit(e.style);return a&&(t+=" "+a),r&&(t+=" at "+r),t},"visit_default-radial":function(e){var t="",r=n.visit(e.at);return r&&(t+=r),t},"visit_extent-keyword":function(e){var t=e.value,r=n.visit(e.at);return r&&(t+=" at "+r),t},"visit_position-keyword":function(e){return e.value},visit_position:function(e){return n.visit(e.value.x)+" "+n.visit(e.value.y)},"visit_%":function(e){return e.value+"%"},visit_em:function(e){return e.value+"em"},visit_px:function(e){return e.value+"px"},visit_literal:function(e){return n.visit_color(e.value,e)},visit_hex:function(e){return n.visit_color("#"+e.value,e)},visit_rgb:function(e){return n.visit_color("rgb("+e.value.join(", ")+")",e)},visit_rgba:function(e){return n.visit_color("rgba("+e.value.join(", ")+")",e)},visit_color:function(e,t){var r=e,a=n.visit(t.length);return a&&(r+=" "+a),r},visit_angular:function(e){return e.value+"deg"},visit_directional:function(e){return"to "+e.value},visit_array:function(e){var t="",r=e.length;return e.forEach((function(e,a){t+=n.visit(e),a<r-1&&(t+=", ")})),t},visit:function(e){if(!e)return"";if(e instanceof Array)return n.visit_array(e,"");if(e.type){var t=n["visit_"+e.type];if(t)return t(e);throw Error("Missing visitor visit_"+e.type)}throw Error("Invalid node.")}},function(e){return n.visit(e)}),(r=r||{}).parse=function(){var e=/^(\-(webkit|o|ms|moz)\-)?(linear\-gradient)/i,t=/^(\-(webkit|o|ms|moz)\-)?(repeating\-linear\-gradient)/i,n=/^(\-(webkit|o|ms|moz)\-)?(radial\-gradient)/i,r=/^(\-(webkit|o|ms|moz)\-)?(repeating\-radial\-gradient)/i,a=/^to (left (top|bottom)|right (top|bottom)|left|right|top|bottom)/i,i=/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,o=/^(left|center|right|top|bottom)/i,l=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,c=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,s=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,u=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,f=/^\(/,d=/^\)/,h=/^,/,g=/^\#([0-9a-fA-F]+)/,p=/^([a-zA-Z]+)/,b=/^rgb/i,_=/^rgba/i,m=/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/,v="";function y(e){var t=new Error(v+": "+e);throw t.source=v,t}function w(){var e=T(x);return v.length>0&&y("Invalid input not EOF"),e}function x(){return S("linear-gradient",e,A)||S("repeating-linear-gradient",t,A)||S("radial-gradient",n,E)||S("repeating-radial-gradient",r,E)}function S(e,t,n){return k(t,(function(t){var r=n();return r&&(I(h)||y("Missing comma before color stops")),{type:e,orientation:r,colorStops:T(N)}}))}function k(e,t){var n=I(e);if(n){I(f)||y("Missing (");var r=t(n);return I(d)||y("Missing )"),r}}function A(){return L("directional",a,1)||L("angular",u,1)}function E(){var e,t,n=M();return n&&((e=[]).push(n),t=v,I(h)&&((n=M())?e.push(n):v=t)),e}function M(){var e=function(){var e=L("shape",/^(circle)/i,0);e&&(e.style=D()||V());return e}()||function(){var e=L("shape",/^(ellipse)/i,0);e&&(e.style=O()||V());return e}();if(e)e.at=C();else{var t=V();if(t){e=t;var n=C();n&&(e.at=n)}else{var r=z();r&&(e={type:"default-radial",at:r})}}return e}function V(){return L("extent-keyword",i,1)}function C(){if(L("position",/^at/,0)){var e=z();return e||y("Missing positioning value"),e}}function z(){var e={x:O(),y:O()};if(e.x||e.y)return{type:"position",value:e}}function T(e){var t=e(),n=[];if(t)for(n.push(t);I(h);)(t=e())?n.push(t):y("One extra comma");return n}function N(){var e=L("hex",g,1)||k(_,(function(){return{type:"rgba",value:T(P)}}))||k(b,(function(){return{type:"rgb",value:T(P)}}))||L("literal",p,0);return e||y("Expected color definition"),e.length=O(),e}function P(){return I(m)[1]}function O(){return L("%",c,1)||L("position-keyword",o,1)||D()}function D(){return L("px",l,1)||L("em",s,1)}function L(e,t,n){var r=I(t);if(r)return{type:e,value:r[n]}}function I(e){var t,n;return(n=/^[\n\r\t\s]+/.exec(v))&&R(n[0].length),(t=e.exec(v))&&R(t[0].length),t}function R(e){v=v.substr(e)}return function(e){return v=e.toString(),w()}}(),t.Q=r.parse,r.stringify},82245:()=>{const e=document.createElement("style");e.textContent="\n.dnd-poly-drag-image {\n    opacity: .5 !important;\n}\n.dnd-poly-drag-image.dnd-poly-snapback {\n    transition-property: transform, -webkit-transform !important;\n    transition-duration: 250ms !important;\n    transition-timing-function: ease-out !important;\n}\n",document.head.appendChild(e);const t="dnd-poly-",n=["none","copy","copyLink","copyMove","link","linkMove","move","all"],r=["none","copy","move","link"];const a=function(){let e=!1;try{const t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(e){}return e}();function i(e){return e&&e.tagName}function o(e,t,n){void 0===n&&(n=!0),document.addEventListener(e,t,!!a&&{passive:n})}function l(e,t){document.removeEventListener(e,t)}function c(e,t,n,r){void 0===r&&(r=!1);const i=a?{passive:!0,capture:r}:r;return e.addEventListener(t,n,i),{off:function(){e.removeEventListener(t,n,i)}}}function s(e,t){if(1===e.nodeType){const n=getComputedStyle(e);for(let e=0;e<n.length;e++){const r=n[e];t.style.setProperty(r,n.getPropertyValue(r),n.getPropertyPriority(r))}if(t.style.pointerEvents="none",t.removeAttribute("id"),t.removeAttribute("class"),t.removeAttribute("draggable"),"CANVAS"===t.nodeName){const n=e,r=t,a=n.getContext("2d").getImageData(0,0,n.width,n.height);r.getContext("2d").putImageData(a,0,0)}}if(e.hasChildNodes())for(let n=0;n<e.childNodes.length;n++)s(e.childNodes[n],t.childNodes[n])}function u(e){return 0===e.length?0:e.reduce((function(e,t){return t+e}),0)/e.length}function f(e,t){for(let n=0;n<e.changedTouches.length;n++){if(e.changedTouches[n].identifier===t)return!0}return!1}function d(e,t,n){const r=[],a=[];for(let n=0;n<t.touches.length;n++){const i=t.touches[n];r.push(i[e+"X"]),a.push(i[e+"Y"])}n.x=u(r),n.y=u(a)}const h=["","-webkit-"];function g(e,t,n,r,a){void 0===a&&(a=!0);let i=t.x,o=t.y;r&&(i+=r.x,o+=r.y),a&&(i-=parseInt(e.offsetWidth,10)/2,o-=parseInt(e.offsetHeight,10)/2);const l="translate3d("+i+"px,"+o+"px, 0)";for(let t=0;t<h.length;t++){const r=h[t]+"transform";e.style[r]=l+" "+n[t]}}const p=function(){function e(e,t){this._dataStore=e,this._setDragImageHandler=t,this._dropEffect=r[0]}return Object.defineProperty(e.prototype,"dropEffect",{get:function(){return this._dropEffect},set:function(e){0!==this._dataStore.mode&&n.indexOf(e)>-1&&(this._dropEffect=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"types",{get:function(){if(0!==this._dataStore.mode)return Object.freeze(this._dataStore.types)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"effectAllowed",{get:function(){return this._dataStore.effectAllowed},set:function(e){2===this._dataStore.mode&&n.indexOf(e)>-1&&(this._dataStore.effectAllowed=e)},enumerable:!0,configurable:!0}),e.prototype.setData=function(e,t){if(2===this._dataStore.mode){if(e.indexOf(" ")>-1)throw new Error("illegal arg: type contains space");this._dataStore.data[e]=t,-1===this._dataStore.types.indexOf(e)&&this._dataStore.types.push(e)}},e.prototype.getData=function(e){if(1===this._dataStore.mode||2===this._dataStore.mode)return this._dataStore.data[e]||""},e.prototype.clearData=function(e){if(2===this._dataStore.mode){if(e&&this._dataStore.data[e]){delete this._dataStore.data[e];const t=this._dataStore.types.indexOf(e);return void(t>-1&&this._dataStore.types.splice(t,1))}this._dataStore.data={},this._dataStore.types=[]}},e.prototype.setDragImage=function(e,t,n){2===this._dataStore.mode&&this._setDragImageHandler(e,t,n)},e}();function b(e,t){return e?e===n[0]?r[0]:0===e.indexOf(n[1])||e===n[7]?r[1]:0===e.indexOf(n[4])?r[3]:e===n[6]?r[2]:r[1]:3===t.nodeType&&"A"===t.tagName?r[3]:r[1]}function _(e,t,n,r,a,i,o){void 0===i&&(i=!0),void 0===o&&(o=null),console.log("dnd-poly: dispatching "+e);const l=function(e,t,n,r,a,i,o){void 0===o&&(o=null);const l=t.changedTouches[0],c=new Event(n,{bubbles:!0,cancelable:r});c.dataTransfer=i,c.relatedTarget=o,c.screenX=l.screenX,c.screenY=l.screenY,c.clientX=l.clientX,c.clientY=l.clientY,c.pageX=l.pageX,c.pageY=l.pageY;const s=e.getBoundingClientRect();return c.offsetX=c.clientX-s.left,c.offsetY=c.clientY-s.top,c}(t,n,e,i,document.defaultView,a,o),c=!t.dispatchEvent(l);return r.mode=0,c}function m(e,t){if(!e||e===n[7])return t;if(t===r[1]){if(0===e.indexOf(r[1]))return r[1]}else if(t===r[3]){if(0===e.indexOf(r[3])||e.indexOf("Link")>-1)return r[3]}else if(t===r[2]&&(0===e.indexOf(r[2])||e.indexOf("Move")>-1))return r[2];return r[0]}const v=function(){function e(e,t,n,r){this._initialEvent=e,this._config=t,this._sourceNode=n,this._dragOperationEndedCb=r,this._dragOperationState=0,this._immediateUserSelection=null,this._currentDropTarget=null,console.log("dnd-poly: setting up potential drag operation.."),this._lastTouchEvent=e,this._initialTouch=e.changedTouches[0],this._touchMoveHandler=this._onTouchMove.bind(this),this._touchEndOrCancelHandler=this._onTouchEndOrCancel.bind(this),o("touchmove",this._touchMoveHandler,!1),o("touchend",this._touchEndOrCancelHandler,!1),o("touchcancel",this._touchEndOrCancelHandler,!1)}return e.prototype._setup=function(){const e=this;console.log("dnd-poly: starting drag and drop operation"),this._dragOperationState=1,this._currentDragOperation=r[0],this._dragDataStore={data:{},effectAllowed:void 0,mode:3,types:[]},this._currentHotspotCoordinates={x:null,y:null},this._dragImagePageCoordinates={x:null,y:null};let t=this._sourceNode;if(this._dataTransfer=new p(this._dragDataStore,(function(n,r,a){t=n,"number"!=typeof r&&"number"!=typeof a||(e._dragImageOffset={x:r||0,y:a||0})})),this._dragDataStore.mode=2,this._dataTransfer.dropEffect=r[0],_("dragstart",this._sourceNode,this._lastTouchEvent,this._dragDataStore,this._dataTransfer))return console.log("dnd-poly: dragstart cancelled"),this._dragOperationState=3,this._cleanup(),!1;d("page",this._lastTouchEvent,this._dragImagePageCoordinates);const n=this._config.dragImageSetup(t);var a;if(this._dragImageTransforms=(a=n,h.map((function(e){const t=a.style[e+"transform"];return t&&"none"!==t?t.replace(/translate\(\D*\d+[^,]*,\D*\d+[^,]*\)\s*/g,""):""}))),n.style.position="absolute",n.style.left="0px",n.style.top="0px",n.style.zIndex="999999",n.classList.add("dnd-poly-drag-image"),n.classList.add("dnd-poly-icon"),this._dragImage=n,!this._dragImageOffset)if(this._config.dragImageOffset)this._dragImageOffset={x:this._config.dragImageOffset.x,y:this._config.dragImageOffset.y};else if(this._config.dragImageCenterOnTouch){const e=getComputedStyle(t);this._dragImageOffset={x:0-parseInt(e.marginLeft,10),y:0-parseInt(e.marginTop,10)}}else{const e=t.getBoundingClientRect(),n=getComputedStyle(t);this._dragImageOffset={x:e.left-this._initialTouch.clientX-parseInt(n.marginLeft,10)+e.width/2,y:e.top-this._initialTouch.clientY-parseInt(n.marginTop,10)+e.height/2}}return g(this._dragImage,this._dragImagePageCoordinates,this._dragImageTransforms,this._dragImageOffset,this._config.dragImageCenterOnTouch),document.body.appendChild(this._dragImage),this._iterationIntervalId=window.setInterval((function(){e._iterationLock?console.log("dnd-poly: iteration skipped because previous iteration hast not yet finished."):(e._iterationLock=!0,e._dragAndDropProcessModelIteration(),e._iterationLock=!1)}),this._config.iterationInterval),!0},e.prototype._cleanup=function(){console.log("dnd-poly: cleanup"),this._iterationIntervalId&&(clearInterval(this._iterationIntervalId),this._iterationIntervalId=null),l("touchmove",this._touchMoveHandler),l("touchend",this._touchEndOrCancelHandler),l("touchcancel",this._touchEndOrCancelHandler),this._dragImage&&(this._dragImage.parentNode.removeChild(this._dragImage),this._dragImage=null),this._dragOperationEndedCb(this._config,this._lastTouchEvent,this._dragOperationState)},e.prototype._onTouchMove=function(e){const t=this;if(!1!==f(e,this._initialTouch.identifier)){if(this._lastTouchEvent=e,0===this._dragOperationState){let t;if(this._config.dragStartConditionOverride)try{t=this._config.dragStartConditionOverride(e)}catch(e){console.error("dnd-poly: error in dragStartConditionOverride hook: "+e),t=!1}else t=1===e.touches.length;return t?void(!0===this._setup()&&(this._initialEvent.preventDefault(),e.preventDefault())):void this._cleanup()}if(console.log("dnd-poly: moving draggable.."),e.preventDefault(),d("client",e,this._currentHotspotCoordinates),d("page",e,this._dragImagePageCoordinates),this._config.dragImageTranslateOverride)try{let n=!1;if(this._config.dragImageTranslateOverride(e,{x:this._currentHotspotCoordinates.x,y:this._currentHotspotCoordinates.y},this._immediateUserSelection,(function(e,r){t._dragImage&&(n=!0,t._currentHotspotCoordinates.x+=e,t._currentHotspotCoordinates.y+=r,t._dragImagePageCoordinates.x+=e,t._dragImagePageCoordinates.y+=r,g(t._dragImage,t._dragImagePageCoordinates,t._dragImageTransforms,t._dragImageOffset,t._config.dragImageCenterOnTouch))})),n)return}catch(e){console.log("dnd-poly: error in dragImageTranslateOverride hook: "+e)}g(this._dragImage,this._dragImagePageCoordinates,this._dragImageTransforms,this._dragImageOffset,this._config.dragImageCenterOnTouch)}},e.prototype._onTouchEndOrCancel=function(e){if(!1!==f(e,this._initialTouch.identifier)){if(this._config.dragImageTranslateOverride)try{this._config.dragImageTranslateOverride(void 0,void 0,void 0,(function(){}))}catch(e){console.log("dnd-poly: error in dragImageTranslateOverride hook: "+e)}0!==this._dragOperationState?(e.preventDefault(),this._dragOperationState="touchcancel"===e.type?3:2):this._cleanup()}},e.prototype._dragAndDropProcessModelIteration=function(){const e=this,n=this._currentDragOperation;this._dragDataStore.mode=3,this._dataTransfer.dropEffect=r[0];const a=_("drag",this._sourceNode,this._lastTouchEvent,this._dragDataStore,this._dataTransfer);if(a&&(console.log("dnd-poly: drag event cancelled."),this._currentDragOperation=r[0]),a||2===this._dragOperationState||3===this._dragOperationState){return this._dragOperationEnded(this._dragOperationState)?void function(e,t,n,r){const a=getComputedStyle(e);if("hidden"===a.visibility||"none"===a.display)return console.log("dnd-poly: source node is not visible. skipping snapback transition."),void r();t.classList.add("dnd-poly-snapback");const i=getComputedStyle(t),o=parseFloat(i.transitionDuration);if(isNaN(o)||0===o)return console.log("dnd-poly: no transition used - skipping snapback"),void r();console.log("dnd-poly: starting dragimage snap back");const l=e.getBoundingClientRect(),c={x:l.left,y:l.top};c.x+=document.body.scrollLeft||document.documentElement.scrollLeft,c.y+=document.body.scrollTop||document.documentElement.scrollTop,c.x-=parseInt(a.marginLeft,10),c.y-=parseInt(a.marginTop,10);const s=parseFloat(i.transitionDelay),u=Math.round(1e3*(o+s));g(t,c,n,void 0,!1),setTimeout(r,u)}(this._sourceNode,this._dragImage,this._dragImageTransforms,(function(){e._finishDragOperation()})):void this._finishDragOperation()}const o=this._config.elementFromPoint(this._currentHotspotCoordinates.x,this._currentHotspotCoordinates.y);console.log("dnd-poly: new immediate user selection is: "+o);const l=this._currentDropTarget;o!==this._immediateUserSelection&&o!==this._currentDropTarget&&(this._immediateUserSelection=o,null!==this._currentDropTarget&&(this._dragDataStore.mode=3,this._dataTransfer.dropEffect=r[0],_("dragexit",this._currentDropTarget,this._lastTouchEvent,this._dragDataStore,this._dataTransfer,!1)),null===this._immediateUserSelection?(this._currentDropTarget=this._immediateUserSelection,console.log("dnd-poly: current drop target changed to null")):(this._dragDataStore.mode=3,this._dataTransfer.dropEffect=b(this._dragDataStore.effectAllowed,this._sourceNode),_("dragenter",this._immediateUserSelection,this._lastTouchEvent,this._dragDataStore,this._dataTransfer)?(console.log("dnd-poly: dragenter default prevented"),this._currentDropTarget=this._immediateUserSelection,this._currentDragOperation=m(this._dataTransfer.effectAllowed,this._dataTransfer.dropEffect)):this._immediateUserSelection!==document.body&&(this._currentDropTarget=document.body))),l!==this._currentDropTarget&&i(l)&&(console.log("dnd-poly: current drop target changed."),this._dragDataStore.mode=3,this._dataTransfer.dropEffect=r[0],_("dragleave",l,this._lastTouchEvent,this._dragDataStore,this._dataTransfer,!1,this._currentDropTarget)),i(this._currentDropTarget)&&(this._dragDataStore.mode=3,this._dataTransfer.dropEffect=b(this._dragDataStore.effectAllowed,this._sourceNode),!1===_("dragover",this._currentDropTarget,this._lastTouchEvent,this._dragDataStore,this._dataTransfer)?(console.log("dnd-poly: dragover not prevented on possible drop-target."),this._currentDragOperation=r[0]):(console.log("dnd-poly: dragover prevented."),this._currentDragOperation=m(this._dataTransfer.effectAllowed,this._dataTransfer.dropEffect))),console.log("dnd-poly: d'n'd iteration ended. current drag operation: "+this._currentDragOperation),n!==this._currentDragOperation&&this._dragImage.classList.remove(t+n);const c=t+this._currentDragOperation;this._dragImage.classList.add(c)},e.prototype._dragOperationEnded=function(e){console.log("dnd-poly: drag operation end detected with "+this._currentDragOperation);const t=this._currentDragOperation===r[0]||null===this._currentDropTarget||3===e;return t?i(this._currentDropTarget)&&(this._dragDataStore.mode=3,this._dataTransfer.dropEffect=r[0],_("dragleave",this._currentDropTarget,this._lastTouchEvent,this._dragDataStore,this._dataTransfer,!1)):i(this._currentDropTarget)&&(this._dragDataStore.mode=1,this._dataTransfer.dropEffect=this._currentDragOperation,!0===_("drop",this._currentDropTarget,this._lastTouchEvent,this._dragDataStore,this._dataTransfer)?this._currentDragOperation=this._dataTransfer.dropEffect:this._currentDragOperation=r[0]),t},e.prototype._finishDragOperation=function(){console.log("dnd-poly: dragimage snap back transition ended"),this._dragDataStore.mode=3,this._dataTransfer.dropEffect=this._currentDragOperation,_("dragend",this._sourceNode,this._lastTouchEvent,this._dragDataStore,this._dataTransfer,!1),this._dragOperationState=2,this._cleanup()},e}(),y={iterationInterval:150,tryFindDraggableTarget:function(e){let t=e.target;do{if(!1!==t.draggable){if(!0===t.draggable)return t;if(t.getAttribute&&"true"===t.getAttribute("draggable"))return t}}while((t=t.parentNode)&&t!==document.body)},dragImageSetup:function(e){const t=e.cloneNode(!0);return s(e,t),t},elementFromPoint:function(e,t){return document.elementFromPoint(e,t)}};let w;function x(e,t){if(console.log("dnd-poly: global touchstart"),w)return void console.log("dnd-poly: drag operation already active");const n=y.tryFindDraggableTarget(e,t);if(n)try{w=new v(e,y,n,k)}catch(t){throw k(y,e,3),t}else console.log("dnd-poly: no draggable at touchstart coordinates")}function S(e){console.log("dnd-poly: setup delayed dragstart..");const t=e.target,n=e.composedPath(),r=function(e){console.log("dnd-poly: aborting delayed drag because of "+e.type),i.off(),o.off(),l.off(),s.off(),t&&t.dispatchEvent(new CustomEvent("dnd-poly-dragstart-cancel",{bubbles:!0,cancelable:!0})),clearTimeout(a)};t&&t.dispatchEvent(new CustomEvent("dnd-poly-dragstart-pending",{bubbles:!0,cancelable:!0}));const a=window.setTimeout((function(){console.log("dnd-poly: starting delayed drag.."),i.off(),o.off(),l.off(),s.off(),x(e,n)}),y.holdToDrag),i=c(t,"touchend",r),o=c(t,"touchcancel",r),l=c(t,"touchmove",r),s=c(window,"scroll",r,!0)}function k(e,t,n){if(0===n&&(console.log("dnd-poly: Drag never started. Last event was "+t.type),e.defaultActionOverride))try{e.defaultActionOverride(t),t.defaultPrevented&&console.log("dnd-poly: defaultActionOverride has taken care of triggering the default action. preventing default on original event")}catch(e){console.log("dnd-poly: error in defaultActionOverride: "+e)}w=null}window.addEventListener("touchmove",(function(){})),function(e){if(e&&Object.keys(e).forEach((function(t){y[t]=e[t]})),!y.forceApply){const e=function(){const e={dragEvents:"ondragstart"in document.documentElement,draggable:"draggable"in document.documentElement,userAgentSupportingNativeDnD:void 0},t=!!window.chrome||/chrome/i.test(navigator.userAgent);return e.userAgentSupportingNativeDnD=!(/iPad|iPhone|iPod|Android/.test(navigator.userAgent)||t&&"ontouchstart"in document.documentElement),e}();if(e.userAgentSupportingNativeDnD&&e.draggable&&e.dragEvents)return!1}console.log("dnd-poly: Applying mobile drag and drop polyfill."),y.holdToDrag?(console.log("dnd-poly: holdToDrag set to "+y.holdToDrag),o("touchstart",S,!1)):o("touchstart",x,!1)}({tryFindDraggableTarget:function(e,t){const n=t||e.composedPath();for(let e of n){let t=e;do{if(!1!==t.draggable&&t.getAttribute&&"true"===t.getAttribute("draggable"))return t}while((t=t.parentNode)&&t!==document.body)}},elementFromPoint:function(e,t){for(let n of this._path)if(n.elementFromPoint){let r=n.elementFromPoint(e,t);if(r){for(;r.shadowRoot;)r=r.shadowRoot.elementFromPoint(e,t);return r}}},dragStartConditionOverride:function(e){return this._path=e.composedPath(),!0},holdToDrag:500})},67722:()=>{const e=new WeakMap,t=navigator.userAgent.toLowerCase().indexOf("firefox")>-1?5e6:1e7;function n(e,t,n,r,a){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),a&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}let r=0,a=0,i=performance.now();const o=(e,...t)=>e.map(((e,n)=>[e,t[n]])).flat().filter((e=>!!e)).join("");function l(e,t,n){const r=n.value,a=Symbol("regular-table throttle lock");return n.value=async function(...e){if(void 0!==this[a]&&(await this[a],void 0!==this[a]))return void await this[a];let t;this[a]=(()=>{let e;const t=new Promise((t=>{e=t}));return t.resolve=e,t})();try{t=await r.call(this,...e)}finally{const e=this[a];this[a]=void 0,e.resolve()}return t},n.value.flush=async function(){return await new Promise(requestAnimationFrame),await this[a]},n}var c;let s=(n((c=class extends HTMLElement{create_shadow_dom(){this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=o` <style> ${":host{bottom:0;overflow:scroll;overflow-anchor:none;overscroll-behavior:none;-webkit-overflow-scrolling:touch}:host,div.rt-virtual-panel{position:absolute;top:0;left:0;right:0}div.rt-virtual-panel{pointer-events:none}div.rt-scroll-table-clip{position:sticky;contain:strict;overflow-anchor:none;width:100%;height:100%}div.rt-tree-container{display:flex;align-items:center;height:100%}slot{position:absolute;overflow:hidden;overflow-anchor:none}"} </style> <style> ${":host ::slotted(table){--regular-table--transform-x:0px;--regular-table--transform-y:0px;--regular-table--clip-x:0px;--regular-table--clip-y:0px}"} </style> <div class="rt-virtual-panel"></div> <div class="rt-scroll-table-clip"> ${"<slot></slot>"} </div> `;const[,e,t,n]=this.shadowRoot.children;this._sub_cell_style=e,this._table_clip=n,this._virtual_panel=t,this._setup_virtual_scroll()}_setup_virtual_scroll(){this._table_clip&&("both"===this._virtual_mode||"vertical"===this._virtual_mode?this._table_clip.style.top="0px":this._table_clip.style.removeProperty("top"),"both"===this._virtual_mode||"horizontal"===this._virtual_mode?this._table_clip.style.left="0px":this._table_clip.style.removeProperty("left"),"both"!==this._virtual_mode?this._table_clip.style.contain="none":this._table_clip.style.removeProperty("contain"))}_calculate_viewport(e,t){const{start_row:n,end_row:r}=this._calculate_row_range(e),{start_col:a,end_col:i}=this._calculate_column_range(t);return this._nrows=e,{start_col:a,end_col:i,start_row:n,end_row:r}}_calculate_row_range(e){const{height:t}=this._container_size,n=this._column_sizes.row_height||19,r=this._view_cache.config.column_pivots.length,a=Math.max(1,this._virtual_panel.offsetHeight-this.clientHeight),i=Math.max(Math.ceil(this.scrollTop),0)/a,o=t/n-r,l=e||0,c=Math.max(0,Math.ceil(l-o))*i;return{start_row:c,end_row:Math.max(0,Math.min(c+o,e))}}_calc_start_column(){const e=this._view_cache.config.row_pivots.length;let t=0,n=0,r=0;for(;n<this.scrollLeft;){const a=this._column_sizes.indices[t+e];r=this.scrollLeft-n,t+=1,n+=void 0!==a?a:60}return t+=r/(this._column_sizes.indices[t+e-1]||60),Math.max(0,t-1)}_calculate_column_range(e){if("none"===this._virtual_mode||"vertical"===this._virtual_mode)return{start_col:0,end_col:1/0};{const t=this._calc_start_column();return{start_col:t,end_col:t+(this.table_model.num_columns()||Math.min(e,Math.ceil(this._container_size.width/60)))+1}}}_max_scroll_column(e){let t=0;if(this._view_cache.config.row_pivots.length>0)for(const e of this._column_sizes.indices.slice(0,this._view_cache.config.row_pivots.length))t+=e;let n=this._view_cache.config.row_pivots.length,r=e;for(;t<this._container_size.width&&r>=0;)r--,t+=this._column_sizes.indices[r+n]||60;return Math.min(e-1,r+1)}_validate_viewport({start_col:e,end_col:t,start_row:n,end_row:r}){n=Math.floor(n),r=Math.ceil(r),e=Math.floor(e),t=Math.ceil(t);const a=this._start_col!==e,i=this._start_row!==n||this._end_row!==r||this._end_col!==t;return this._start_col=e,this._end_col=t,this._start_row=n,this._end_row=r,{invalid_column:a,invalid_row:i}}_calc_scrollable_column_width(e){let t=this._view_cache.config.row_pivots.length;const n=this._max_scroll_column(e);let r=t,a=0;for(;r<n+t;)a+=this._column_sizes.indices[r]||60,r++;return a}_update_virtual_panel_width(e,t){if(e)if("vertical"===this._virtual_mode||"none"===this._virtual_mode)this._virtual_panel.style.width=this._column_sizes.indices.reduce(((e,t)=>e+t),0)+"px";else{const e=this._calc_scrollable_column_width(t);if(0!==e){const t=this._container_size.width+e+2;this._virtual_panel.style.width=t+"px"}else this._virtual_panel.style.width="1px"}}_update_virtual_panel_height(e){const{row_height:n=19}=this._column_sizes,r=this._view_cache.config.column_pivots.length*n;let a;if("horizontal"===this._virtual_mode||"none"===this._virtual_mode)a=e*n+r;else{const i=this.clientHeight/(this._table_clip.offsetHeight-r);a=Math.min(t,e*n*i)}this._virtual_panel.style.height=a+"px"}async draw(e={}){const t=performance.now(),{invalid_viewport:n=!0,preserve_width:i=!1}=e,{num_columns:o,num_rows:l}=await this._view_cache.view(0,0,0,0);this._container_size={width:"none"===this._virtual_mode||"vertical"===this._virtual_mode?1/0:this._table_clip.clientWidth,height:"none"===this._virtual_mode||"horizontal"===this._virtual_mode?1/0:this._table_clip.clientHeight},this._update_virtual_panel_height(l),i||this._update_virtual_panel_width(n,o);const c=this._calculate_viewport(l,o),{invalid_row:s,invalid_column:u}=this._validate_viewport(c);if(this._invalid_schema||s||u||n){let e=[],t=!0;for await(let n of this.table_model.draw(this._container_size,this._view_cache,this._selected_id,i,c,o)){void 0!==n&&(e=e.concat(n)),t&&(this.update_sub_cell_offset(c),t=!1),this._is_styling=!0;const r=this._style_callbacks;for(const e of r)await e({detail:this});if(this._is_styling=!1,!this._invalidated&&void 0!==n)break;this._invalidated=!1}this.table_model.autosize_cells(e),this.table_model.header.reset_header_cache(),i||this._update_virtual_panel_width(this._invalid_schema||u,o),this._invalid_schema=!1}else this.update_sub_cell_offset(c);var f;f=performance.now()-t,r=(r*a+f)/(a+1),a+=1}update_sub_cell_offset(e){var t;const n=this._column_sizes.row_height*(e.start_row%1)||0,r=this._column_sizes.indices[(this.table_model._row_headers_length||0)+Math.floor(e.start_col)]*(e.start_col%1)||0;let a=null===(t=this._sub_cell_style.sheet)||void 0===t?void 0:t.cssRules[0].style;a&&(a.setProperty("--regular-table--clip-x",r+"px"),a.setProperty("--regular-table--clip-y",n+"px"),a.setProperty("--regular-table--transform-x",`-${r}px`),a.setProperty("--regular-table--transform-y",`-${n}px`))}}).prototype,"draw",[l],Object.getOwnPropertyDescriptor(c.prototype,"draw"),c.prototype),c);var u;let f=(n((u=class extends s{register_listeners(){this.addEventListener("mousedown",this._on_click_or_dblclick.bind(this)),this.addEventListener("scroll",this._on_scroll.bind(this),{passive:!0}),this._register_glitch_scroll_listeners()}_on_scroll(e){e.stopPropagation(),this.draw({invalid_viewport:!1})}_register_glitch_scroll_listeners(){this.addEventListener("mousewheel",this._on_mousewheel.bind(this))}_on_mousewheel(e){if(!window.safari)return;const{clientWidth:t,clientHeight:n,scrollTop:r,scrollLeft:a}=this;e.preventDefault(),e.returnValue=!1;const i=Math.max(1,this._virtual_panel.offsetHeight-n),o=Math.max(1,this._virtual_panel.offsetWidth-t);this.scrollTop=Math.max(0,Math.min(i,r+e.deltaY)),this.scrollLeft=Math.max(0,Math.min(o,a+e.deltaX)),this._on_scroll(e)}_on_touchmove(e){e.stopPropagation(),e.preventDefault(),e.returnValue=!1;const{clientWidth:t,clientHeight:n}=this,r=Math.max(1,this._virtual_panel.offsetHeight-n),a=Math.max(1,this._virtual_panel.offsetWidth-t);this.scrollTop=Math.min(r,this._memo_scroll_top+(this._memo_touch_startY-e.touches[0].pageY)),this.scrollLeft=Math.min(a,this._memo_scroll_left+(this._memo_touch_startX-e.touches[0].pageX)),this._on_scroll(e)}_on_touchstart(e){this._memo_touch_startY=e.touches[0].pageY,this._memo_touch_startX=e.touches[0].pageX,this._memo_scroll_top=this.scrollTop,this._memo_scroll_left=this.scrollLeft}async _on_dblclick(t){let n=t.target;for(;"TD"!==n.tagName&&"TH"!==n.tagName;)if(n=n.parentElement,!this.contains(n))return;const r=t.target.classList.contains("rt-column-resize"),a=e.get(n);if(r){t.stopImmediatePropagation(),n.style.minWidth="",n.style.maxWidth="",t.shiftKey?(this._column_sizes.override=[],this._column_sizes.auto=[],this._column_sizes.indices=[]):(this._column_sizes.override[a.size_key]=void 0,this._column_sizes.auto[a.size_key]=void 0,this._column_sizes.indices[a.size_key]=void 0);for(const e of t.shiftKey?[this.table_model.header.cells[this.table_model.header.cells.length-1],...this.table_model.body.cells]:this.table_model.body.cells)for(const n of t.shiftKey?e:[e[a._virtual_x]])n&&(n.style.minWidth="",n.style.maxWidth="",n.classList.remove("rt-cell-clip"));await this.draw()}}async _on_click(t){if(0!==t.button)return;let n=t.target;for(;"TD"!==n.tagName&&"TH"!==n.tagName;)if(n=n.parentElement,!this.contains(n))return;const r=t.target.classList.contains("rt-column-resize"),a=e.get(n);r&&(this._on_resize_column(t,n,a),t.stopImmediatePropagation())}async _on_click_or_dblclick(e){const t=performance.now();this._last_clicked_time&&t-this._last_clicked_time<500?(this._last_clicked_time=t,await this._on_dblclick(e)):(this._last_clicked_time=t,await this._on_click(e))}_on_resize_column(e,t,n){const{_virtual_x:r,size_key:a}=n,i=e.pageX,o=r+t.colSpan-1,l=this.table_model.header.get_column_header(o),c=this._column_sizes.indices[a],s=e=>this._on_resize_column_move(e,l,i,c,a,o),u=()=>{document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",u);const e=this._column_sizes.override[a],t=this._column_sizes.indices[a]!==e;this._column_sizes.indices[a]=e,t&&this.draw()};document.addEventListener("mousemove",s),document.addEventListener("mouseup",u)}async _on_resize_column_move(e,t,n,r,a,i){await new Promise(setTimeout);const o=e.pageX-n,l=Math.max(1,r+o);if(this._column_sizes.override[a]=l,o<0)await this.draw({preserve_width:!0});else{t.style.minWidth=l+"px",t.style.maxWidth=l+"px";const e=this._column_sizes.auto[a];for(const t of this.table_model.body.cells){const n=t[i];n&&(n.style.maxWidth=n.style.minWidth=l+"px",n.classList.toggle("rt-cell-clip",e>l))}}}}).prototype,"_on_resize_column_move",[l],Object.getOwnPropertyDescriptor(u.prototype,"_on_resize_column_move"),u.prototype),u);class d{constructor(e){this._name=e,this._elements=[],this._index=0}reset(){this._index=0}get(){this._elements[this._index]||(this._elements[this._index]=document.createElement(this._name));const e=this._elements[this._index];return this._index+=1,e}}class h{constructor(e,t,n){this._column_sizes=e,this._container=t,this._span_factory=new d("span"),this.table=n,this.cells=[],this.rows=[]}num_columns(){return this._get_row(Math.max(0,this.rows.length-1)).row_container.length}num_rows(){return this.cells.length}_set_metadata(t,n){e.set(t,n)}_get_or_create_metadata(t){if(void 0===t)return{};if(e.has(t))return e.get(t);{const n={};return e.set(t,n),n}}_replace_cell(e,t){const{tr:n,row_container:r}=this._get_row(e);let a=r[t];return a&&(n.removeChild(a),r.splice(t,1,void 0)),a}_fetch_cell(e,t){if(e<0||t<0)return;const{row_container:n}=this._get_row(e);return n[t]}_get_cell(e="TD",t,n){const{tr:r,row_container:a}=this._get_row(t);let i=a[n];if(i||(n<a.length?(i=a[n]=document.createElement(e),r.insertBefore(i,a.slice(n+1).find((e=>e)))):(i=a[n]=document.createElement(e),r.appendChild(i))),i.tagName!==e){const a=document.createElement(e);r.replaceChild(a,i),this.cells[t].splice(n,1,a),i=a}return i}_get_row(e){let t=this.rows[e];t||(t=this.rows[e]=document.createElement("tr"),this.table.appendChild(t));let n=this.cells[e];return n||(n=this.cells[e]=[]),{tr:t,row_container:n}}_clean_columns(e){for(let t=0;t<this.rows.length;t++){const n=this.rows[t],r=this.cells[t];this.cells[t]=r.slice(0,e[t]||e);const a=this.cells[t].filter((e=>void 0!==e)).length;for(;n.children[a];)n.removeChild(n.children[a])}}_clean_rows(e){for(;this.table.children[e];)this.table.removeChild(this.table.children[e]);this.rows=this.rows.slice(0,e),this.cells=this.cells.slice(0,e)}}class g extends h{constructor(...e){super(...e),this._group_header_cache=[],this._offset_cache=[]}_draw_group_th(e,t,n){const r=this._get_cell("TH",t,e[t]||0);if(e[t]+=1,r.removeAttribute("colspan"),r.style.minWidth="0",r.textContent="",n instanceof HTMLElement)r.appendChild(n);else{const e=this._span_factory.get("span");e.textContent=n,r.appendChild(e)}const a=this._span_factory.get("span");return a.className="rt-column-resize",r.appendChild(a),r}_draw_group(e,t,n){const r=this._get_or_create_metadata(n);return r.column_header=e,r.value=t,r.value=t,r}_draw_th(e,t,n,r,a){const i=this._get_or_create_metadata(n);if(i.column_header=e,i.value=t,i.size_key=a.length?a[0]:a,!(a.length>1)){const e=this._column_sizes.override[i.size_key],t=this._column_sizes.auto[i.size_key];e?(n.classList.toggle("rt-cell-clip",t>e),n.style.minWidth=e+"px",n.style.maxWidth=e+"px"):t?(n.classList.remove("rt-cell-clip"),n.style.maxWidth="",n.style.minWidth=t+"px"):(n.style.maxWidth="",n.style.maxWidth="")}return i}get_column_header(e){return this._get_cell("TH",this.num_rows()-1,e)}draw(e,t,n,r,a,i,o){const l=null==t?void 0:t.length;if(0===l)return;let c,s,u;for(let g=0;g<l;g++){if(u=t[g]?t[g]:"",this._offset_cache[g]=this._offset_cache[g]||0,g<l-1){var f,d,h;(null===(f=this._group_header_cache)||void 0===f||null===(d=f[g])||void 0===d||null===(h=d[0])||void 0===h?void 0:h.value)===u?(c=this._group_header_cache[g][1],this._group_header_cache[g][2]+=1,1===n&&(this._group_header_cache[g][0].row_header_x=a),c.setAttribute("colspan",this._group_header_cache[g][2])):(c=this._draw_group_th(this._offset_cache,g,u),s=this._draw_group(t,u,c),this._group_header_cache[g]=[s,c,1])}else{c=this._draw_group_th(this._offset_cache,g,u),s=this._draw_th(e||t,u,c,r,a);for(const[e]of this._group_header_cache)e.size_key=s.size_key;c.removeAttribute("colspan")}c.classList.toggle("rt-group-corner",void 0===r),s&&(s.x=void 0===r?r:Math.floor(r),s.column_header_y=g,s.x0=Math.floor(i),s._virtual_x=o,1===n&&(s.row_header_x=a))}return this._clean_rows(this._offset_cache.length),{th:c,metadata:s}}clean(){this._clean_columns(this._offset_cache)}reset_header_cache(){this._offset_cache=[],this._group_header_cache=[]}}class p extends h{_draw_td(e,t,n,r,{column_name:a},{ridx_offset:i},o){const l=this._get_cell(e,t,r),c=this._get_or_create_metadata(l);c.y=t+Math.floor(i),c.size_key=o,"TD"===e&&(c.column_header=a);const s=this._column_sizes.override[c.size_key];if(s){const e=this._column_sizes.auto[c.size_key];l.classList.toggle("rt-cell-clip",e>s),l.style.minWidth=s+"px",l.style.maxWidth=s+"px"}else l.classList.remove("rt-cell-clip"),l.style.minWidth="",l.style.maxWidth="";return c.value!==n&&(n instanceof HTMLElement?(l.textContent="",l.appendChild(n)):l.textContent=n),c.value=n,{td:l,metadata:c}}draw(e,t,n,r=!1,a,i,o){const{cidx:l,column_data:c,row_headers:s,column_data_listener_metadata:u}=t;let f,{row_height:d}=n;const h=[],g=[];let p=0;const b=[];for(let m=0;m<(r?n.row_headers_length:1);m++){p=0;for(const v of c){var _;const c=null==s?void 0:s[p];let y;if(r){const e=v[m],r=this._fetch_cell(p-(h[m]||1),l+m),a=this._get_or_create_metadata(r),o=this._fetch_cell(p,l+m-(b[p]||1)),c=this._get_or_create_metadata(o);!o||c.value!==e&&void 0!==e||o.hasAttribute("rowspan")?r&&a.value===e&&!r.hasAttribute("colspan")?(h[m]=h[m]?h[m]+1:2,r.setAttribute("rowspan",h[m]),this._replace_cell(p,l+m)):(y=this._draw_td("TH",p,e,l+m,t,n,m),y.td.style.display="",y.td.removeAttribute("rowspan"),y.td.removeAttribute("colspan"),y.metadata.row_header=v,y.metadata.row_header_x=m,y.metadata.y0=Math.floor(n.ridx_offset),y.metadata.y1=Math.ceil(n.y1),y.metadata._virtual_x=m,void 0!==i&&(y.metadata.x0=Math.floor(i)),h[m]=1,b[p]=1,g[m]=y):(b[p]=b[p]?b[p]+1:2,o.setAttribute("colspan",b[p]),this._replace_cell(p,l+m))}else y=this._draw_td("TD",p,v,l,t,n,o),u&&(y.metadata.user=u[p]),y.metadata.x=void 0===a?a:Math.floor(a),y.metadata.x1=Math.ceil(n.x1),y.metadata.row_header=c||[],y.metadata.y0=Math.floor(n.ridx_offset),y.metadata.y1=Math.ceil(n.y1),y.metadata.dx=Math.floor(a-i),y.metadata.dy=y.metadata.y-Math.floor(y.metadata.y0),y.metadata._virtual_x=l,void 0!==i&&(y.metadata.x0=Math.floor(i)),g[0]=y;if(p++,f=y?y.metadata:f,d=d||(null===(_=y)||void 0===_?void 0:_.td.offsetHeight),p*d>e)break}}return this._clean_rows(p),{tds:g,ridx:p,metadata:f,row_height:d}}clean({ridx:e,cidx:t}){this._clean_rows(e),this._clean_columns(t)}}class b{constructor(e,t,n){this.clear(n);const[r]=n.children,[a,i]=r.children;this.table=r,this._column_sizes=t,this.header=new g(t,e,a),this.body=new p(t,e,i),this.fragment=document.createDocumentFragment()}num_columns(){return this.header.num_columns()}clear(e){e.innerHTML=o` <table cellspacing="0"> <thead></thead> <tbody></tbody> </table> `}autosize_cells(e){for(;e.length>0;){const[t,n,r]=e.pop();let a;const i=getComputedStyle(t);"border-box"!==i.boxSizing?(a=t.clientWidth,a-=i.paddingLeft?parseFloat(i.paddingLeft):0,a-=i.paddingRight?parseFloat(i.paddingRight):0):a=parseFloat(i.width),this._column_sizes.row_height=this._column_sizes.row_height||r.offsetHeight,this._column_sizes.indices[n.size_key]=a;const o=void 0!==this._column_sizes.override[n.size_key];a&&!o&&(this._column_sizes.auto[n.size_key]=a),"0px"===t.style.minWidth&&(t.style.minWidth=a+"px")}}async*draw(e,t,n,r,a,i){var o,l,c,s;const{width:u,height:f}=e,{view:d,config:h}=t;let{data:g,row_headers:p,column_headers:b,metadata:_}=await d(Math.floor(a.start_col),Math.floor(a.start_row),Math.ceil(a.end_col),Math.ceil(a.end_row));const{start_row:m=0,start_col:v=0,end_col:y=0,end_row:w=0}=a;p&&(this._row_headers_length=p.reduce(((e,t)=>Math.max(e,t.length)),0),p=p.map((e=>(e.length=this._row_headers_length,e)))),t.config.column_pivots=Array.from(Array((null==b||null===(o=b[0])||void 0===o?void 0:o.length)||0).keys()),t.config.row_pivots=Array.from(Array((null===(l=p)||void 0===l||null===(c=l[0])||void 0===c?void 0:c.length)||0).keys());const x={viewport_width:0,selected_id:n,ridx_offset:m,sub_cell_offset:this._column_sizes.indices[(this._row_headers_length||0)+Math.floor(a.start_col)]||0,x0:v,x1:y,y1:w,row_height:this._column_sizes.row_height,row_headers_length:this._row_headers_length};let S,k=0,A=[],E=!0;if((null===(s=p)||void 0===s?void 0:s.length)>0){const e=h.row_pivots.join(","),n={column_name:e,cidx:0,column_data:p,row_headers:p,first_col:E},a=k+Math.floor(v);S=this.body.draw(f,n,{...x,x0:0},!0,void 0,void 0,a);const i=[];for(let n=0;n<t.config.row_pivots.length;n++){const r=this.header.draw(e,Array(t.config.column_pivots.length).fill(""),1,void 0,n,v,n);r&&i.push(r)}if(E=!1,x.viewport_width+=i.reduce(((e,{th:t},n)=>e+(this._column_sizes.indices[n]||t.offsetWidth)),0),x.row_height=x.row_height||S.row_height,k=p[0].length,!r)for(let e=0;e<t.config.row_pivots.length;e++){const{td:t,metadata:n}=S.tds[e]||{},{th:r,metadata:a}=i[e]||{};(t||r)&&A.push([r||t,a||n,t||r])}}try{var M;let e=0;const t=i-a.start_col;for(;e<t;){if(!g[e]){let t=Math.max(a.end_col,0);a.start_col=t;let n=0,r=0;for(;this._column_sizes.indices.length>k+v+n+1&&r+x.viewport_width<u;)n++,r+=this._column_sizes.indices[k+v+n];if(r+x.viewport_width<u){const e=Math.min(i,t+5);a.end_col=Math.max(1,Math.min(i,e))}else a.end_col=Math.max(1,Math.min(i,t+n));const o=d(Math.floor(a.start_col),Math.floor(a.start_row),Math.ceil(a.end_col),Math.ceil(a.end_row));yield;const l=await o;if(0===l.data.length)return void(yield A);a.end_col=a.start_col+l.data.length;for(let t=0;t<l.data.length;t++){var V;g[e+t]=l.data[t],l.metadata&&(_[e+t]=l.metadata[t]),b&&(b[e+t]=null===(V=l.column_headers)||void 0===V?void 0:V[t])}}const t=(null==b?void 0:b[e])||"",n={column_name:t,cidx:k,column_data:g[e],column_data_listener_metadata:null==_?void 0:_[e],row_headers:p,first_col:E},o=e+v,l=k+Math.floor(v),c=this.header.draw(void 0,t,void 0,o,l,v,k);if(S=this.body.draw(f,n,x,!1,o,v,l),E=!1,!r)for(const{td:e,metadata:t}of S.tds)A.push([(null==c?void 0:c.th)||e,(null==c?void 0:c.metadata)||t,e||(null==c?void 0:c.th)]);const s=this._column_sizes.indices[k+Math.floor(v)];var C;if(x.viewport_width+=s||((null==c||null===(C=c.th)||void 0===C?void 0:C.offsetWidth)||S.tds.reduce(((e,t)=>{var n;return e+(null===(n=t.td)||void 0===n?void 0:n.offsetWidth)}),0)),x.row_height=x.row_height||S.row_height,k++,e++,x.viewport_width-x.sub_cell_offset>u){var z;this.body.clean({ridx:(null===(z=S)||void 0===z?void 0:z.ridx)||0,cidx:k}),this.header.clean(),yield A,x.viewport_width=0;for(let[e]of A)x.viewport_width+=e.offsetWidth;if(x.viewport_width-x.sub_cell_offset>u)return}}this.body.clean({ridx:(null===(M=S)||void 0===M?void 0:M.ridx)||0,cidx:k}),this.header.clean(),yield A}finally{var T;this.body.clean({ridx:(null===(T=S)||void 0===T?void 0:T.ridx)||0,cidx:k}),this.header.clean(),this.body._span_factory.reset(),this.header._span_factory.reset()}}}const _=["both","horizontal","vertical","none"];document.createElement("regular-table").constructor===HTMLElement&&window.customElements.define("regular-table",class extends f{constructor(){super(),this._column_sizes={auto:[],override:[],indices:[]},this._style_callbacks=[],this._initialized=!1}connectedCallback(){this._initialized||(this.create_shadow_dom(),this.register_listeners(),this.setAttribute("tabindex","0"),this._initialized=!0,this.table_model=new b(this._table_clip,this._column_sizes,this))}_reset_viewport(){this._start_row=void 0,this._end_row=void 0,this._start_col=void 0,this._end_col=void 0}_reset_scroll(){this._column_sizes.indices=[],this.scrollTop=0,this.scrollLeft=0,this._reset_viewport()}_resetAutoSize(){this._column_sizes.auto=[],this._column_sizes.override=[],this._column_sizes.indices=[];for(let e=0;e<this.table_model.header.num_columns();e++){const t=this.table_model.header.get_column_header(e);t.style.minWidth="",t.style.maxWidth=""}}clear(){this.table_model=new b(this._table_clip,this._column_sizes,this)}addStyleListener(e){this._style_callbacks=this._style_callbacks.concat(e);let t=!0;return()=>{if(!t)return;t=!1;const n=this._style_callbacks=this._style_callbacks.slice(),r=n.indexOf(e);n.splice(r,1)}}invalidate(){if(!this._is_styling)throw new Error("Cannot call `invalidate()` outside of a `StyleListener`");this._invalidated=!0}getMeta(t){if(void 0!==t){if(t instanceof HTMLElement)return e.get(t);if(t.row_header_x>=0){if(t.row_header_x<this._view_cache.config.row_pivots.length){const e=this.table_model.body._fetch_cell(t.y,t.row_header_x);return this.getMeta(e)}}else{if(!(t.column_header_y>=0))return this.getMeta(this.table_model.body._fetch_cell(t.dy,t.dx+this.table_model._row_headers_length));if(t.column_header_y<this._view_cache.config.column_pivots.length){const e=this.table_model.body._fetch_cell(t.column_header_y,t.y);return this.getMeta(e)}}}}getDrawFPS(){return function(){const e=performance.now(),t=e-i,n=r,o=1e3*a/t,l=a;return r=0,a=0,i=e,{avg:n,real_fps:o,virtual_fps:1e3/n,num_frames:l,elapsed:t}}()}async scrollToCell(e,t){if(!this._view_cache)return void console.warn("data listener not configured");const n=this._column_sizes.row_height||19,r=this._view_cache.config.column_pivots.length*n,a=(this._table_clip.offsetHeight-r)%n;let i=(this._virtual_panel.offsetHeight-a)/this._nrows;this.scrollTop=Math.ceil(i*t);let o=0;for(;e>0;)e--,o+=this._column_sizes.indices[e+this._view_cache.config.row_pivots.length]||60;this.scrollLeft=Math.ceil(o),await new Promise(requestAnimationFrame),await this.draw.flush()}setDataListener(e,{virtual_mode:t="both"}={}){console.assert(_.indexOf(t)>-1,`Unknown virtual_mode ${t};  valid options are "both" (default), "horizontal", "vertical" or "none"`),this._virtual_mode=t,this._invalid_schema=!0,this._view_cache={view:e,config:{row_pivots:[],column_pivots:[]},schema:{}},this._setup_virtual_scroll()}__noop_jsdoc_hints(){}})},78227:(e,t,n)=>{"use strict";e.exports=n.p+"d25ec7fd83c6ef1735a4.wasm"},86111:(e,t,n)=>{"use strict";n.r(t),n.d(t,{brush:()=>B,brushSelection:()=>L,brushX:()=>I,brushY:()=>R});var r=n(92626),a=n(22718),i=n(73172),o=n(23838),l=n(73109),c=n(5814);const s=e=>()=>e;function u(e,{sourceEvent:t,target:n,selection:r,mode:a,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:a,enumerable:!0,configurable:!0},_:{value:i}})}function f(e){e.stopImmediatePropagation()}function d(e){e.preventDefault(),e.stopImmediatePropagation()}var h={name:"drag"},g={name:"space"},p={name:"handle"},b={name:"center"};const{abs:_,max:m,min:v}=Math;function y(e){return[+e[0],+e[1]]}function w(e){return[y(e[0]),y(e[1])]}var x={name:"x",handles:["w","e"].map(z),input:function(e,t){return null==e?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},S={name:"y",handles:["n","s"].map(z),input:function(e,t){return null==e?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},k={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(z),input:function(e){return null==e?null:w(e)},output:function(e){return e}},A={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},E={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},M={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},V={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},C={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function z(e){return{type:e}}function T(e){return!e.ctrlKey&&!e.button}function N(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function P(){return navigator.maxTouchPoints||"ontouchstart"in this}function O(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function D(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function L(e){var t=e.__brush;return t?t.dim.output(t.selection):null}function I(){return j(x)}function R(){return j(S)}function B(){return j(k)}function j(e){var t,n=N,y=T,k=P,L=!0,I=(0,r.Z)("start","brush","end"),R=6;function B(t){var n=t.property("__brush",q).selectAll(".overlay").data([z("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",A.overlay).merge(n).each((function(){var e=O(this).extent;(0,o.Z)(this).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1])})),t.selectAll(".selection").data([z("selection")]).enter().append("rect").attr("class","selection").attr("cursor",A.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=t.selectAll(".handle").data(e.handles,(function(e){return e.type}));r.exit().remove(),r.enter().append("rect").attr("class",(function(e){return"handle handle--"+e.type})).attr("cursor",(function(e){return A[e.type]})),t.each(j).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",F).filter(k).on("touchstart.brush",F).on("touchmove.brush",W).on("touchend.brush touchcancel.brush",Y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function j(){var e=(0,o.Z)(this),t=O(this).selection;t?(e.selectAll(".selection").style("display",null).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1]),e.selectAll(".handle").style("display",null).attr("x",(function(e){return"e"===e.type[e.type.length-1]?t[1][0]-R/2:t[0][0]-R/2})).attr("y",(function(e){return"s"===e.type[0]?t[1][1]-R/2:t[0][1]-R/2})).attr("width",(function(e){return"n"===e.type||"s"===e.type?t[1][0]-t[0][0]+R:R})).attr("height",(function(e){return"e"===e.type||"w"===e.type?t[1][1]-t[0][1]+R:R}))):e.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function Z(e,t,n){var r=e.__brush.emitter;return!r||n&&r.clean?new H(e,t,n):r}function H(e,t,n){this.that=e,this.args=t,this.state=e.__brush,this.active=0,this.clean=n}function F(n){if((!t||n.touches)&&y.apply(this,arguments)){var r,i,s,u,w,k,z,T,N,P,I,R=this,B=n.target.__data__.type,H="selection"===(L&&n.metaKey?B="overlay":B)?h:L&&n.altKey?b:p,F=e===S?null:V[B],W=e===x?null:C[B],Y=O(R),q=Y.extent,U=Y.selection,$=q[0][0],G=q[0][1],X=q[1][0],Q=q[1][1],K=0,J=0,ee=F&&W&&L&&n.shiftKey,te=Array.from(n.touches||[n],(e=>{const t=e.identifier;return(e=(0,l.Z)(e,R)).point0=e.slice(),e.identifier=t,e}));(0,c.e1)(R);var ne=Z(R,arguments,!0).beforestart();if("overlay"===B){U&&(N=!0);const t=[te[0],te[1]||te[0]];Y.selection=U=[[r=e===S?$:v(t[0][0],t[1][0]),s=e===x?G:v(t[0][1],t[1][1])],[w=e===S?X:m(t[0][0],t[1][0]),z=e===x?Q:m(t[0][1],t[1][1])]],te.length>1&&le(n)}else r=U[0][0],s=U[0][1],w=U[1][0],z=U[1][1];i=r,u=s,k=w,T=z;var re=(0,o.Z)(R).attr("pointer-events","none"),ae=re.selectAll(".overlay").attr("cursor",A[B]);if(n.touches)ne.moved=oe,ne.ended=ce;else{var ie=(0,o.Z)(n.view).on("mousemove.brush",oe,!0).on("mouseup.brush",ce,!0);L&&ie.on("keydown.brush",se,!0).on("keyup.brush",ue,!0),(0,a.Z)(n.view)}j.call(R),ne.start(n,H.name)}function oe(e){for(const t of e.changedTouches||[e])for(const e of te)e.identifier===t.identifier&&(e.cur=(0,l.Z)(t,R));if(ee&&!P&&!I&&1===te.length){const e=te[0];_(e.cur[0]-e[0])>_(e.cur[1]-e[1])?I=!0:P=!0}for(const e of te)e.cur&&(e[0]=e.cur[0],e[1]=e.cur[1]);N=!0,d(e),le(e)}function le(e){const t=te[0],n=t.point0;var a;switch(K=t[0]-n[0],J=t[1]-n[1],H){case g:case h:F&&(K=m($-r,v(X-w,K)),i=r+K,k=w+K),W&&(J=m(G-s,v(Q-z,J)),u=s+J,T=z+J);break;case p:te[1]?(F&&(i=m($,v(X,te[0][0])),k=m($,v(X,te[1][0])),F=1),W&&(u=m(G,v(Q,te[0][1])),T=m(G,v(Q,te[1][1])),W=1)):(F<0?(K=m($-r,v(X-r,K)),i=r+K,k=w):F>0&&(K=m($-w,v(X-w,K)),i=r,k=w+K),W<0?(J=m(G-s,v(Q-s,J)),u=s+J,T=z):W>0&&(J=m(G-z,v(Q-z,J)),u=s,T=z+J));break;case b:F&&(i=m($,v(X,r-K*F)),k=m($,v(X,w+K*F))),W&&(u=m(G,v(Q,s-J*W)),T=m(G,v(Q,z+J*W)))}k<i&&(F*=-1,a=r,r=w,w=a,a=i,i=k,k=a,B in E&&ae.attr("cursor",A[B=E[B]])),T<u&&(W*=-1,a=s,s=z,z=a,a=u,u=T,T=a,B in M&&ae.attr("cursor",A[B=M[B]])),Y.selection&&(U=Y.selection),P&&(i=U[0][0],k=U[1][0]),I&&(u=U[0][1],T=U[1][1]),U[0][0]===i&&U[0][1]===u&&U[1][0]===k&&U[1][1]===T||(Y.selection=[[i,u],[k,T]],j.call(R),ne.brush(e,H.name))}function ce(e){if(f(e),e.touches){if(e.touches.length)return;t&&clearTimeout(t),t=setTimeout((function(){t=null}),500)}else(0,a.D)(e.view,N),ie.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);re.attr("pointer-events","all"),ae.attr("cursor",A.overlay),Y.selection&&(U=Y.selection),D(U)&&(Y.selection=null,j.call(R)),ne.end(e,H.name)}function se(e){switch(e.keyCode){case 16:ee=F&&W;break;case 18:H===p&&(F&&(w=k-K*F,r=i+K*F),W&&(z=T-J*W,s=u+J*W),H=b,le(e));break;case 32:H!==p&&H!==b||(F<0?w=k-K:F>0&&(r=i-K),W<0?z=T-J:W>0&&(s=u-J),H=g,ae.attr("cursor",A.selection),le(e));break;default:return}d(e)}function ue(e){switch(e.keyCode){case 16:ee&&(P=I=ee=!1,le(e));break;case 18:H===b&&(F<0?w=k:F>0&&(r=i),W<0?z=T:W>0&&(s=u),H=p,le(e));break;case 32:H===g&&(e.altKey?(F&&(w=k-K*F,r=i+K*F),W&&(z=T-J*W,s=u+J*W),H=b):(F<0?w=k:F>0&&(r=i),W<0?z=T:W>0&&(s=u),H=p),ae.attr("cursor",A[B]),le(e));break;default:return}d(e)}}function W(e){Z(this,arguments).moved(e)}function Y(e){Z(this,arguments).ended(e)}function q(){var t=this.__brush||{selection:null};return t.extent=w(n.apply(this,arguments)),t.dim=e,t}return B.move=function(t,n,r){t.tween?t.on("start.brush",(function(e){Z(this,arguments).beforestart().start(e)})).on("interrupt.brush end.brush",(function(e){Z(this,arguments).end(e)})).tween("brush",(function(){var t=this,r=t.__brush,a=Z(t,arguments),o=r.selection,l=e.input("function"==typeof n?n.apply(this,arguments):n,r.extent),c=(0,i.Z)(o,l);function s(e){r.selection=1===e&&null===l?null:c(e),j.call(t),a.brush()}return null!==o&&null!==l?s:s(1)})):t.each((function(){var t=this,a=arguments,i=t.__brush,o=e.input("function"==typeof n?n.apply(t,a):n,i.extent),l=Z(t,a).beforestart();(0,c.e1)(t),i.selection=null===o?null:o,j.call(t),l.start(r).brush(r).end(r)}))},B.clear=function(e,t){B.move(e,null,t)},H.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(e,t){return this.starting?(this.starting=!1,this.emit("start",e,t)):this.emit("brush",e),this},brush:function(e,t){return this.emit("brush",e,t),this},end:function(e,t){return 0==--this.active&&(delete this.state.emitter,this.emit("end",e,t)),this},emit:function(t,n,r){var a=(0,o.Z)(this.that).datum();I.call(t,this.that,new u(t,{sourceEvent:n,target:B,selection:e.output(this.state.selection),mode:r,dispatch:I}),a)}},B.extent=function(e){return arguments.length?(n="function"==typeof e?e:s(w(e)),B):n},B.filter=function(e){return arguments.length?(y="function"==typeof e?e:s(!!e),B):y},B.touchable=function(e){return arguments.length?(k="function"==typeof e?e:s(!!e),B):k},B.handleSize=function(e){return arguments.length?(R=+e,B):R},B.keyModifiers=function(e){return arguments.length?(L=!!e,B):L},B.on=function(){var e=I.on.apply(I,arguments);return e===I?B:e},B}},22718:(e,t,n)=>{"use strict";n.d(t,{D:()=>o,Z:()=>i});var r=n(23838),a=n(79611);function i(e){var t=e.document.documentElement,n=(0,r.Z)(e).on("dragstart.drag",a.ZP,a.Dd);"onselectstart"in t?n.on("selectstart.drag",a.ZP,a.Dd):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function o(e,t){var n=e.document.documentElement,i=(0,r.Z)(e).on("dragstart.drag",null);t&&(i.on("click.drag",a.ZP,a.Dd),setTimeout((function(){i.on("click.drag",null)}),0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}},79611:(e,t,n)=>{"use strict";n.d(t,{Dd:()=>a,Q7:()=>r,ZP:()=>o,rG:()=>i});const r={passive:!1},a={capture:!0,passive:!1};function i(e){e.stopImmediatePropagation()}function o(e){e.preventDefault(),e.stopImmediatePropagation()}},2067:(e,t,n)=>{"use strict";function r(e){return--e*e*e+1}function a(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}n.d(t,{_e:()=>r,tw:()=>a})},85278:(e,t,n)=>{"use strict";function r(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.blob()}function a(e,t){return fetch(e,t).then(r)}function i(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.arrayBuffer()}function o(e,t){return fetch(e,t).then(i)}n.r(t),n.d(t,{blob:()=>a,buffer:()=>o,csv:()=>b,dsv:()=>p,html:()=>S,image:()=>m,json:()=>y,svg:()=>k,text:()=>h,tsv:()=>_,xml:()=>x});var l=n(59038),c=(0,l.Z)(","),s=c.parse,u=(c.parseRows,c.format,c.formatBody,c.formatRows,c.formatRow,c.formatValue,(0,l.Z)("\t")),f=u.parse;u.parseRows,u.format,u.formatBody,u.formatRows,u.formatRow,u.formatValue;function d(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function h(e,t){return fetch(e,t).then(d)}function g(e){return function(t,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=void 0),h(t,n).then((function(t){return e(t,r)}))}}function p(e,t,n,r){3===arguments.length&&"function"==typeof n&&(r=n,n=void 0);var a=(0,l.Z)(e);return h(t,n).then((function(e){return a.parse(e,r)}))}var b=g(s),_=g(f);function m(e,t){return new Promise((function(n,r){var a=new Image;for(var i in t)a[i]=t[i];a.onerror=r,a.onload=function(){n(a)},a.src=e}))}function v(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);if(204!==e.status&&205!==e.status)return e.json()}function y(e,t){return fetch(e,t).then(v)}function w(e){return(t,n)=>h(t,n).then((t=>(new DOMParser).parseFromString(t,e)))}const x=w("application/xml");var S=w("text/html"),k=w("image/svg+xml")},9166:(e,t,n)=>{"use strict";n.r(t),n.d(t,{randomBates:()=>s,randomBernoulli:()=>d,randomBeta:()=>p,randomBinomial:()=>b,randomCauchy:()=>m,randomExponential:()=>u,randomGamma:()=>g,randomGeometric:()=>h,randomInt:()=>i,randomIrwinHall:()=>c,randomLcg:()=>x,randomLogNormal:()=>l,randomLogistic:()=>v,randomNormal:()=>o,randomPareto:()=>f,randomPoisson:()=>y,randomUniform:()=>a,randomWeibull:()=>_});const r=Math.random,a=function e(t){function n(e,n){return e=null==e?0:+e,n=null==n?1:+n,1===arguments.length?(n=e,e=0):n-=e,function(){return t()*n+e}}return n.source=e,n}(r),i=function e(t){function n(e,n){return arguments.length<2&&(n=e,e=0),e=Math.floor(e),n=Math.floor(n)-e,function(){return Math.floor(t()*n+e)}}return n.source=e,n}(r),o=function e(t){function n(e,n){var r,a;return e=null==e?0:+e,n=null==n?1:+n,function(){var i;if(null!=r)i=r,r=null;else do{r=2*t()-1,i=2*t()-1,a=r*r+i*i}while(!a||a>1);return e+n*i*Math.sqrt(-2*Math.log(a)/a)}}return n.source=e,n}(r),l=function e(t){var n=o.source(t);function r(){var e=n.apply(this,arguments);return function(){return Math.exp(e())}}return r.source=e,r}(r),c=function e(t){function n(e){return(e=+e)<=0?()=>0:function(){for(var n=0,r=e;r>1;--r)n+=t();return n+r*t()}}return n.source=e,n}(r),s=function e(t){var n=c.source(t);function r(e){if(0==(e=+e))return t;var r=n(e);return function(){return r()/e}}return r.source=e,r}(r),u=function e(t){function n(e){return function(){return-Math.log1p(-t())/e}}return n.source=e,n}(r),f=function e(t){function n(e){if((e=+e)<0)throw new RangeError("invalid alpha");return e=1/-e,function(){return Math.pow(1-t(),e)}}return n.source=e,n}(r),d=function e(t){function n(e){if((e=+e)<0||e>1)throw new RangeError("invalid p");return function(){return Math.floor(t()+e)}}return n.source=e,n}(r),h=function e(t){function n(e){if((e=+e)<0||e>1)throw new RangeError("invalid p");return 0===e?()=>1/0:1===e?()=>1:(e=Math.log1p(-e),function(){return 1+Math.floor(Math.log1p(-t())/e)})}return n.source=e,n}(r),g=function e(t){var n=o.source(t)();function r(e,r){if((e=+e)<0)throw new RangeError("invalid k");if(0===e)return()=>0;if(r=null==r?1:+r,1===e)return()=>-Math.log1p(-t())*r;var a=(e<1?e+1:e)-1/3,i=1/(3*Math.sqrt(a)),o=e<1?()=>Math.pow(t(),1/e):()=>1;return function(){do{do{var e=n(),l=1+i*e}while(l<=0);l*=l*l;var c=1-t()}while(c>=1-.0331*e*e*e*e&&Math.log(c)>=.5*e*e+a*(1-l+Math.log(l)));return a*l*o()*r}}return r.source=e,r}(r),p=function e(t){var n=g.source(t);function r(e,t){var r=n(e),a=n(t);return function(){var e=r();return 0===e?0:e/(e+a())}}return r.source=e,r}(r),b=function e(t){var n=h.source(t),r=p.source(t);function a(e,t){return e=+e,(t=+t)>=1?()=>e:t<=0?()=>0:function(){for(var a=0,i=e,o=t;i*o>16&&i*(1-o)>16;){var l=Math.floor((i+1)*o),c=r(l,i-l+1)();c<=o?(a+=l,i-=l,o=(o-c)/(1-c)):(i=l-1,o/=c)}for(var s=o<.5,u=n(s?o:1-o),f=u(),d=0;f<=i;++d)f+=u();return a+(s?d:i-d)}}return a.source=e,a}(r),_=function e(t){function n(e,n,r){var a;return 0==(e=+e)?a=e=>-Math.log(e):(e=1/e,a=t=>Math.pow(t,e)),n=null==n?0:+n,r=null==r?1:+r,function(){return n+r*a(-Math.log1p(-t()))}}return n.source=e,n}(r),m=function e(t){function n(e,n){return e=null==e?0:+e,n=null==n?1:+n,function(){return e+n*Math.tan(Math.PI*t())}}return n.source=e,n}(r),v=function e(t){function n(e,n){return e=null==e?0:+e,n=null==n?1:+n,function(){var r=t();return e+n*Math.log(r/(1-r))}}return n.source=e,n}(r),y=function e(t){var n=g.source(t),r=b.source(t);function a(e){return function(){for(var a=0,i=e;i>16;){var o=Math.floor(.875*i),l=n(o)();if(l>i)return a+r(o-1,i/l)();a+=o,i-=l}for(var c=-Math.log1p(-t()),s=0;c<=i;++s)c-=Math.log1p(-t());return a+s}}return a.source=e,a}(r),w=1/4294967296;function x(e=Math.random()){let t=0|(0<=e&&e<1?e/w:Math.abs(e));return()=>(t=1664525*t+1013904223|0,w*(t>>>0))}},75258:(e,t,n)=>{"use strict";function r(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}n.r(t),n.d(t,{interpolateBlues:()=>ie,interpolateBrBG:()=>_,interpolateBuGn:()=>D,interpolateBuPu:()=>I,interpolateCividis:()=>be,interpolateCool:()=>Se,interpolateCubehelixDefault:()=>we,interpolateGnBu:()=>B,interpolateGreens:()=>le,interpolateGreys:()=>se,interpolateInferno:()=>Oe,interpolateMagma:()=>Pe,interpolateOrRd:()=>Z,interpolateOranges:()=>pe,interpolatePRGn:()=>v,interpolatePiYG:()=>w,interpolatePlasma:()=>De,interpolatePuBu:()=>Y,interpolatePuBuGn:()=>F,interpolatePuOr:()=>S,interpolatePuRd:()=>U,interpolatePurples:()=>fe,interpolateRainbow:()=>Ae,interpolateRdBu:()=>A,interpolateRdGy:()=>M,interpolateRdPu:()=>G,interpolateRdYlBu:()=>C,interpolateRdYlGn:()=>T,interpolateReds:()=>he,interpolateSinebow:()=>Ce,interpolateSpectral:()=>P,interpolateTurbo:()=>ze,interpolateViridis:()=>Ne,interpolateWarm:()=>xe,interpolateYlGn:()=>J,interpolateYlGnBu:()=>Q,interpolateYlOrBr:()=>te,interpolateYlOrRd:()=>re,schemeAccent:()=>i,schemeBlues:()=>ae,schemeBrBG:()=>b,schemeBuGn:()=>O,schemeBuPu:()=>L,schemeCategory10:()=>a,schemeDark2:()=>o,schemeGnBu:()=>R,schemeGreens:()=>oe,schemeGreys:()=>ce,schemeOrRd:()=>j,schemeOranges:()=>ge,schemePRGn:()=>m,schemePaired:()=>l,schemePastel1:()=>c,schemePastel2:()=>s,schemePiYG:()=>y,schemePuBu:()=>W,schemePuBuGn:()=>H,schemePuOr:()=>x,schemePuRd:()=>q,schemePurples:()=>ue,schemeRdBu:()=>k,schemeRdGy:()=>E,schemeRdPu:()=>$,schemeRdYlBu:()=>V,schemeRdYlGn:()=>z,schemeReds:()=>de,schemeSet1:()=>u,schemeSet2:()=>f,schemeSet3:()=>d,schemeSpectral:()=>N,schemeTableau10:()=>h,schemeYlGn:()=>K,schemeYlGnBu:()=>X,schemeYlOrBr:()=>ee,schemeYlOrRd:()=>ne});const a=r("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),i=r("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),o=r("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),l=r("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),c=r("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),s=r("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),u=r("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),f=r("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),d=r("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),h=r("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");var g=n(3474);const p=e=>(0,g.hD)(e[e.length-1]);var b=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(r);const _=p(b);var m=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(r);const v=p(m);var y=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(r);const w=p(y);var x=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(r);const S=p(x);var k=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(r);const A=p(k);var E=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(r);const M=p(E);var V=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(r);const C=p(V);var z=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(r);const T=p(z);var N=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(r);const P=p(N);var O=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(r);const D=p(O);var L=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(r);const I=p(L);var R=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(r);const B=p(R);var j=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(r);const Z=p(j);var H=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(r);const F=p(H);var W=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(r);const Y=p(W);var q=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(r);const U=p(q);var $=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(r);const G=p($);var X=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(r);const Q=p(X);var K=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(r);const J=p(K);var ee=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(r);const te=p(ee);var ne=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(r);const re=p(ne);var ae=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(r);const ie=p(ae);var oe=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(r);const le=p(oe);var ce=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(r);const se=p(ce);var ue=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(r);const fe=p(ue);var de=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(r);const he=p(de);var ge=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(r);const pe=p(ge);function be(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-2710.57*e)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-67.37*e)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-2475.67*e)))))))+")"}var _e=n(18218),me=n(85910);function ve(e){return function t(n){function r(t,r){var a=e((t=(0,_e.Z)(t)).h,(r=(0,_e.Z)(r)).h),i=(0,me.ZP)(t.s,r.s),o=(0,me.ZP)(t.l,r.l),l=(0,me.ZP)(t.opacity,r.opacity);return function(e){return t.h=a(e),t.s=i(e),t.l=o(Math.pow(e,n)),t.opacity=l(e),t+""}}return n=+n,r.gamma=t,r}(1)}ve(me.wx);var ye=ve(me.ZP);const we=ye((0,_e.Z)(300,.5,0),(0,_e.Z)(-240,.5,1));var xe=ye((0,_e.Z)(-100,.75,.35),(0,_e.Z)(80,1.5,.8)),Se=ye((0,_e.Z)(260,.75,.35),(0,_e.Z)(80,1.5,.8)),ke=(0,_e.Z)();function Ae(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return ke.h=360*e-100,ke.s=1.5-1.5*t,ke.l=.8-.9*t,ke+""}var Ee=(0,n(16372).B8)(),Me=Math.PI/3,Ve=2*Math.PI/3;function Ce(e){var t;return e=(.5-e)*Math.PI,Ee.r=255*(t=Math.sin(e))*t,Ee.g=255*(t=Math.sin(e+Me))*t,Ee.b=255*(t=Math.sin(e+Ve))*t,Ee+""}function ze(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-14825.05*e)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+707.56*e)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-6838.66*e)))))))+")"}function Te(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const Ne=Te(r("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var Pe=Te(r("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Oe=Te(r("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),De=Te(r("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"))},9090:(e,t,n)=>{"use strict";n.r(t),n.d(t,{scaleBand:()=>o,scaleDiverging:()=>C.ZP,scaleDivergingLog:()=>C.QA,scaleDivergingPow:()=>C.ld,scaleDivergingSqrt:()=>C.Km,scaleDivergingSymlog:()=>C.UM,scaleIdentity:()=>s.Z,scaleImplicit:()=>i.O,scaleLinear:()=>u.Z,scaleLog:()=>f.Z,scaleOrdinal:()=>i.Z,scalePoint:()=>c,scalePow:()=>h.ZP,scaleQuantile:()=>v.Z,scaleQuantize:()=>y.Z,scaleRadial:()=>m,scaleSequential:()=>k.ZP,scaleSequentialLog:()=>k.S5,scaleSequentialPow:()=>k.UN,scaleSequentialQuantile:()=>V,scaleSequentialSqrt:()=>k.L2,scaleSequentialSymlog:()=>k.cV,scaleSqrt:()=>h._b,scaleSymlog:()=>d.Z,scaleThreshold:()=>w.Z,scaleTime:()=>x.Z,scaleUtc:()=>S.Z,tickFormat:()=>z.Z});var r=n(96047),a=n(94182),i=n(38973);function o(){var e,t,n=(0,i.Z)().unknown(void 0),l=n.domain,c=n.range,s=0,u=1,f=!1,d=0,h=0,g=.5;function p(){var n=l().length,a=u<s,i=a?u:s,o=a?s:u;e=(o-i)/Math.max(1,n-d+2*h),f&&(e=Math.floor(e)),i+=(o-i-e*(n-d))*g,t=e*(1-d),f&&(i=Math.round(i),t=Math.round(t));var p=(0,r.Z)(n).map((function(t){return i+e*t}));return c(a?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(l(e),p()):l()},n.range=function(e){return arguments.length?([s,u]=e,s=+s,u=+u,p()):[s,u]},n.rangeRound=function(e){return[s,u]=e,s=+s,u=+u,f=!0,p()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(f=!!e,p()):f},n.padding=function(e){return arguments.length?(d=Math.min(1,h=+e),p()):d},n.paddingInner=function(e){return arguments.length?(d=Math.min(1,e),p()):d},n.paddingOuter=function(e){return arguments.length?(h=+e,p()):h},n.align=function(e){return arguments.length?(g=Math.max(0,Math.min(1,e)),p()):g},n.copy=function(){return o(l(),[s,u]).round(f).paddingInner(d).paddingOuter(h).align(g)},a.o.apply(p(),arguments)}function l(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return l(t())},e}function c(){return l(o.apply(null,arguments).paddingInner(1))}var s=n(3613),u=n(85036),f=n(75432),d=n(35801),h=n(14177),g=n(78565),p=n(66938);function b(e){return Math.sign(e)*e*e}function _(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function m(){var e,t=(0,g.ZP)(),n=[0,1],r=!1;function i(n){var a=_(t(n));return isNaN(a)?e:r?Math.round(a):a}return i.invert=function(e){return t.invert(b(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain()},i.range=function(e){return arguments.length?(t.range((n=Array.from(e,p.Z)).map(b)),i):n.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(r=!!e,i):r},i.clamp=function(e){return arguments.length?(t.clamp(e),i):t.clamp()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return m(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},a.o.apply(i,arguments),(0,u.Q)(i)}var v=n(68337),y=n(92625),w=n(20602),x=n(25108),S=n(77636),k=n(70272),A=n(44355),E=n(91077),M=n(41461);function V(){var e=[],t=g.yR;function n(n){if(null!=n&&!isNaN(n=+n))return t(((0,A.ZP)(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(E.Z),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map(((n,r)=>t(r/(e.length-1))))},n.quantiles=function(t){return Array.from({length:t+1},((n,r)=>(0,M.Z)(e,r/t)))},n.copy=function(){return V(t).domain(e)},a.O.apply(n,arguments)}var C=n(14872),z=n(77727)},76395:(e,t,n)=>{"use strict";function r(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}n.d(t,{Z:()=>r})},87841:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(31663),a=n(91226);function i(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===a.P&&t.documentElement.namespaceURI===a.P?t.createElement(e):t.createElementNS(n,e)}}function o(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function l(e){var t=(0,r.Z)(e);return(t.local?o:i)(t)}},43905:(e,t,n)=>{"use strict";n.r(t),n.d(t,{create:()=>i,creator:()=>r.Z,local:()=>l,matcher:()=>s.Z,namespace:()=>u.Z,namespaces:()=>f.Z,pointer:()=>d.Z,pointers:()=>g,select:()=>a.Z,selectAll:()=>_,selection:()=>b.ZP,selector:()=>m.Z,selectorAll:()=>v.Z,style:()=>y.S,window:()=>w.Z});var r=n(87841),a=n(23838);function i(e){return(0,a.Z)((0,r.Z)(e).call(document.documentElement))}var o=0;function l(){return new c}function c(){this._="@"+(++o).toString(36)}c.prototype=l.prototype={constructor:c,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};var s=n(24421),u=n(31663),f=n(91226),d=n(73109),h=n(39439);function g(e,t){return e.target&&(e=(0,h.Z)(e),void 0===t&&(t=e.currentTarget),e=e.touches||[e]),Array.from(e,(e=>(0,d.Z)(e,t)))}var p=n(76395),b=n(86740);function _(e){return"string"==typeof e?new b.Y1([document.querySelectorAll(e)],[document.documentElement]):new b.Y1([(0,p.Z)(e)],b.Jz)}var m=n(83010),v=n(19701),y=n(52627),w=n(89920)},24421:(e,t,n)=>{"use strict";function r(e){return function(){return this.matches(e)}}function a(e){return function(t){return t.matches(e)}}n.d(t,{P:()=>a,Z:()=>r})},31663:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(91226);function a(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),r.Z.hasOwnProperty(t)?{space:r.Z[t],local:e}:e}},91226:(e,t,n)=>{"use strict";n.d(t,{P:()=>r,Z:()=>a});var r="http://www.w3.org/1999/xhtml";const a={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},73109:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(39439);function a(e,t){if(e=(0,r.Z)(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var a=n.createSVGPoint();return a.x=e.clientX,a.y=e.clientY,[(a=a.matrixTransform(t.getScreenCTM().inverse())).x,a.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}},23838:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(86740);function a(e){return"string"==typeof e?new r.Y1([[document.querySelector(e)]],[document.documentElement]):new r.Y1([[e]],r.Jz)}},86740:(e,t,n)=>{"use strict";n.d(t,{Y1:()=>ie,ZP:()=>le,Jz:()=>ae});var r=n(83010);var a=n(76395),i=n(19701);var o=n(24421),l=Array.prototype.find;function c(){return this.firstElementChild}var s=Array.prototype.filter;function u(){return Array.from(this.children)}function f(e){return new Array(e.length)}function d(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function h(e){return function(){return e}}function g(e,t,n,r,a,i){for(var o,l=0,c=t.length,s=i.length;l<s;++l)(o=t[l])?(o.__data__=i[l],r[l]=o):n[l]=new d(e,i[l]);for(;l<c;++l)(o=t[l])&&(a[l]=o)}function p(e,t,n,r,a,i,o){var l,c,s,u=new Map,f=t.length,h=i.length,g=new Array(f);for(l=0;l<f;++l)(c=t[l])&&(g[l]=s=o.call(c,c.__data__,l,t)+"",u.has(s)?a[l]=c:u.set(s,c));for(l=0;l<h;++l)s=o.call(e,i[l],l,i)+"",(c=u.get(s))?(r[l]=c,c.__data__=i[l],u.delete(s)):n[l]=new d(e,i[l]);for(l=0;l<f;++l)(c=t[l])&&u.get(g[l])===c&&(a[l]=c)}function b(e){return e.__data__}function _(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function m(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}d.prototype={constructor:d,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var v=n(31663);function y(e){return function(){this.removeAttribute(e)}}function w(e){return function(){this.removeAttributeNS(e.space,e.local)}}function x(e,t){return function(){this.setAttribute(e,t)}}function S(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function k(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function A(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}var E=n(52627);function M(e){return function(){delete this[e]}}function V(e,t){return function(){this[e]=t}}function C(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function z(e){return e.trim().split(/^|\s+/)}function T(e){return e.classList||new N(e)}function N(e){this._node=e,this._names=z(e.getAttribute("class")||"")}function P(e,t){for(var n=T(e),r=-1,a=t.length;++r<a;)n.add(t[r])}function O(e,t){for(var n=T(e),r=-1,a=t.length;++r<a;)n.remove(t[r])}function D(e){return function(){P(this,e)}}function L(e){return function(){O(this,e)}}function I(e,t){return function(){(t.apply(this,arguments)?P:O)(this,e)}}function R(){this.textContent=""}function B(e){return function(){this.textContent=e}}function j(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function Z(){this.innerHTML=""}function H(e){return function(){this.innerHTML=e}}function F(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function W(){this.nextSibling&&this.parentNode.appendChild(this)}function Y(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}N.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var q=n(87841);function U(){return null}function $(){var e=this.parentNode;e&&e.removeChild(this)}function G(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function X(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Q(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function K(e){return function(){var t=this.__on;if(t){for(var n,r=0,a=-1,i=t.length;r<i;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++a]=n:this.removeEventListener(n.type,n.listener,n.options);++a?t.length=a:delete this.__on}}}function J(e,t,n){return function(){var r,a=this.__on,i=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(a)for(var o=0,l=a.length;o<l;++o)if((r=a[o]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=n),void(r.value=t);this.addEventListener(e.type,i,n),r={type:e.type,name:e.name,value:t,listener:i,options:n},a?a.push(r):this.__on=[r]}}var ee=n(89920);function te(e,t,n){var r=(0,ee.Z)(e),a=r.CustomEvent;"function"==typeof a?a=new a(t,n):(a=r.document.createEvent("Event"),n?(a.initEvent(t,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function ne(e,t){return function(){return te(this,e,t)}}function re(e,t){return function(){return te(this,e,t.apply(this,arguments))}}var ae=[null];function ie(e,t){this._groups=e,this._parents=t}function oe(){return new ie([[document.documentElement]],ae)}ie.prototype=oe.prototype={constructor:ie,select:function(e){"function"!=typeof e&&(e=(0,r.Z)(e));for(var t=this._groups,n=t.length,a=new Array(n),i=0;i<n;++i)for(var o,l,c=t[i],s=c.length,u=a[i]=new Array(s),f=0;f<s;++f)(o=c[f])&&(l=e.call(o,o.__data__,f,c))&&("__data__"in o&&(l.__data__=o.__data__),u[f]=l);return new ie(a,this._parents)},selectAll:function(e){e="function"==typeof e?function(e){return function(){return(0,a.Z)(e.apply(this,arguments))}}(e):(0,i.Z)(e);for(var t=this._groups,n=t.length,r=[],o=[],l=0;l<n;++l)for(var c,s=t[l],u=s.length,f=0;f<u;++f)(c=s[f])&&(r.push(e.call(c,c.__data__,f,s)),o.push(c));return new ie(r,o)},selectChild:function(e){return this.select(null==e?c:function(e){return function(){return l.call(this.children,e)}}("function"==typeof e?e:(0,o.P)(e)))},selectChildren:function(e){return this.selectAll(null==e?u:function(e){return function(){return s.call(this.children,e)}}("function"==typeof e?e:(0,o.P)(e)))},filter:function(e){"function"!=typeof e&&(e=(0,o.Z)(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var i,l=t[a],c=l.length,s=r[a]=[],u=0;u<c;++u)(i=l[u])&&e.call(i,i.__data__,u,l)&&s.push(i);return new ie(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,b);var n=t?p:g,r=this._parents,a=this._groups;"function"!=typeof e&&(e=h(e));for(var i=a.length,o=new Array(i),l=new Array(i),c=new Array(i),s=0;s<i;++s){var u=r[s],f=a[s],d=f.length,m=_(e.call(u,u&&u.__data__,s,r)),v=m.length,y=l[s]=new Array(v),w=o[s]=new Array(v),x=c[s]=new Array(d);n(u,f,y,w,x,m,t);for(var S,k,A=0,E=0;A<v;++A)if(S=y[A]){for(A>=E&&(E=A+1);!(k=w[E])&&++E<v;);S._next=k||null}}return(o=new ie(o,r))._enter=l,o._exit=c,o},enter:function(){return new ie(this._enter||this._groups.map(f),this._parents)},exit:function(){return new ie(this._exit||this._groups.map(f),this._parents)},join:function(e,t,n){var r=this.enter(),a=this,i=this.exit();return"function"==typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(a=t(a))&&(a=a.selection()),null==n?i.remove():n(i),r&&a?r.merge(a).order():a},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,a=n.length,i=r.length,o=Math.min(a,i),l=new Array(a),c=0;c<o;++c)for(var s,u=n[c],f=r[c],d=u.length,h=l[c]=new Array(d),g=0;g<d;++g)(s=u[g]||f[g])&&(h[g]=s);for(;c<a;++c)l[c]=n[c];return new ie(l,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,a=e[t],i=a.length-1,o=a[i];--i>=0;)(r=a[i])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=m);for(var n=this._groups,r=n.length,a=new Array(r),i=0;i<r;++i){for(var o,l=n[i],c=l.length,s=a[i]=new Array(c),u=0;u<c;++u)(o=l[u])&&(s[u]=o);s.sort(t)}return new ie(a,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,i=r.length;a<i;++a){var o=r[a];if(o)return o}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var a,i=t[n],o=0,l=i.length;o<l;++o)(a=i[o])&&e.call(a,a.__data__,o,i);return this},attr:function(e,t){var n=(0,v.Z)(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?w:y:"function"==typeof t?n.local?A:k:n.local?S:x)(n,t))},style:E.Z,property:function(e,t){return arguments.length>1?this.each((null==t?M:"function"==typeof t?C:V)(e,t)):this.node()[e]},classed:function(e,t){var n=z(e+"");if(arguments.length<2){for(var r=T(this.node()),a=-1,i=n.length;++a<i;)if(!r.contains(n[a]))return!1;return!0}return this.each(("function"==typeof t?I:t?D:L)(n,t))},text:function(e){return arguments.length?this.each(null==e?R:("function"==typeof e?j:B)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?Z:("function"==typeof e?F:H)(e)):this.node().innerHTML},raise:function(){return this.each(W)},lower:function(){return this.each(Y)},append:function(e){var t="function"==typeof e?e:(0,q.Z)(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"==typeof e?e:(0,q.Z)(e),a=null==t?U:"function"==typeof t?t:(0,r.Z)(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),a.apply(this,arguments)||null)}))},remove:function(){return this.each($)},clone:function(e){return this.select(e?X:G)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,a,i=Q(e+""),o=i.length;if(!(arguments.length<2)){for(l=t?J:K,r=0;r<o;++r)this.each(l(i[r],t,n));return this}var l=this.node().__on;if(l)for(var c,s=0,u=l.length;s<u;++s)for(r=0,c=l[s];r<o;++r)if((a=i[r]).type===c.type&&a.name===c.name)return c.value},dispatch:function(e,t){return this.each(("function"==typeof t?re:ne)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,a=e[t],i=0,o=a.length;i<o;++i)(r=a[i])&&(yield r)}};const le=oe},52627:(e,t,n)=>{"use strict";n.d(t,{S:()=>c,Z:()=>l});var r=n(89920);function a(e){return function(){this.style.removeProperty(e)}}function i(e,t,n){return function(){this.style.setProperty(e,t,n)}}function o(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function l(e,t,n){return arguments.length>1?this.each((null==t?a:"function"==typeof t?o:i)(e,t,null==n?"":n)):c(this.node(),e)}function c(e,t){return e.style.getPropertyValue(t)||(0,r.Z)(e).getComputedStyle(e,null).getPropertyValue(t)}},83010:(e,t,n)=>{"use strict";function r(){}function a(e){return null==e?r:function(){return this.querySelector(e)}}n.d(t,{Z:()=>a})},19701:(e,t,n)=>{"use strict";function r(){return[]}function a(e){return null==e?r:function(){return this.querySelectorAll(e)}}n.d(t,{Z:()=>a})},39439:(e,t,n)=>{"use strict";function r(e){let t;for(;t=e.sourceEvent;)e=t;return e}n.d(t,{Z:()=>r})},89920:(e,t,n)=>{"use strict";function r(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}n.d(t,{Z:()=>r})},90761:(e,t,n)=>{"use strict";n.r(t),n.d(t,{arc:()=>r.Z,area:()=>a.Z,areaRadial:()=>m,curveBasis:()=>G.ZP,curveBasisClosed:()=>U.Z,curveBasisOpen:()=>$.Z,curveBumpX:()=>S,curveBumpY:()=>k,curveBundle:()=>X.Z,curveCardinal:()=>J.ZP,curveCardinalClosed:()=>Q.Z,curveCardinalOpen:()=>K.Z,curveCatmullRom:()=>ne.Z,curveCatmullRomClosed:()=>ee.Z,curveCatmullRomOpen:()=>te.Z,curveLinear:()=>d.Z,curveLinearClosed:()=>re.Z,curveMonotoneX:()=>ae.Z,curveMonotoneY:()=>ae.s,curveNatural:()=>ie.Z,curveStep:()=>oe.ZP,curveStepAfter:()=>oe.cD,curveStepBefore:()=>oe.RN,line:()=>i.Z,lineRadial:()=>_,link:()=>C,linkHorizontal:()=>z,linkRadial:()=>N,linkVertical:()=>T,pie:()=>f,pointRadial:()=>v,radialArea:()=>m,radialLine:()=>_,stack:()=>fe,stackOffsetDiverging:()=>he,stackOffsetExpand:()=>de,stackOffsetNone:()=>le,stackOffsetSilhouette:()=>ge,stackOffsetWiggle:()=>pe,stackOrderAppearance:()=>be,stackOrderAscending:()=>me,stackOrderDescending:()=>ye,stackOrderInsideOut:()=>we,stackOrderNone:()=>ce,stackOrderReverse:()=>xe,symbol:()=>P.ZP,symbolAsterisk:()=>O.Z,symbolCircle:()=>D.Z,symbolCross:()=>L.Z,symbolDiamond:()=>I.Z,symbolDiamond2:()=>R.Z,symbolPlus:()=>B.Z,symbolSquare:()=>j.Z,symbolSquare2:()=>Z.Z,symbolStar:()=>H.Z,symbolTriangle:()=>F.Z,symbolTriangle2:()=>W.Z,symbolWye:()=>Y.Z,symbolX:()=>q.Z,symbols:()=>P.Hl,symbolsFill:()=>P.Hl,symbolsStroke:()=>P.WY});var r=n(16348),a=n(43419),i=n(47281),o=n(94788),l=n(20309);function c(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function s(e){return e}var u=n(41978);function f(){var e=s,t=c,n=null,r=(0,l.Z)(0),a=(0,l.Z)(u.BZ),i=(0,l.Z)(0);function f(l){var c,s,f,d,h,g=(l=(0,o.Z)(l)).length,p=0,b=new Array(g),_=new Array(g),m=+r.apply(this,arguments),v=Math.min(u.BZ,Math.max(-u.BZ,a.apply(this,arguments)-m)),y=Math.min(Math.abs(v)/g,i.apply(this,arguments)),w=y*(v<0?-1:1);for(c=0;c<g;++c)(h=_[b[c]=c]=+e(l[c],c,l))>0&&(p+=h);for(null!=t?b.sort((function(e,n){return t(_[e],_[n])})):null!=n&&b.sort((function(e,t){return n(l[e],l[t])})),c=0,f=p?(v-g*w)/p:0;c<g;++c,m=d)s=b[c],d=m+((h=_[s])>0?h*f:0)+w,_[s]={data:l[s],index:c,value:h,startAngle:m,endAngle:d,padAngle:y};return _}return f.value=function(t){return arguments.length?(e="function"==typeof t?t:(0,l.Z)(+t),f):e},f.sortValues=function(e){return arguments.length?(t=e,n=null,f):t},f.sort=function(e){return arguments.length?(n=e,t=null,f):n},f.startAngle=function(e){return arguments.length?(r="function"==typeof e?e:(0,l.Z)(+e),f):r},f.endAngle=function(e){return arguments.length?(a="function"==typeof e?e:(0,l.Z)(+e),f):a},f.padAngle=function(e){return arguments.length?(i="function"==typeof e?e:(0,l.Z)(+e),f):i},f}var d=n(85925),h=p(d.Z);function g(e){this._curve=e}function p(e){function t(t){return new g(e(t))}return t._curve=e,t}function b(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(e){return arguments.length?t(p(e)):t()._curve},e}function _(){return b((0,i.Z)().curve(h))}function m(){var e=(0,a.Z)().curve(h),t=e.curve,n=e.lineX0,r=e.lineX1,i=e.lineY0,o=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return b(n())},delete e.lineX0,e.lineEndAngle=function(){return b(r())},delete e.lineX1,e.lineInnerRadius=function(){return b(i())},delete e.lineY0,e.lineOuterRadius=function(){return b(o())},delete e.lineY1,e.curve=function(e){return arguments.length?t(p(e)):t()._curve},e}function v(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]}g.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};var y=n(11108);class w{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}class x{constructor(e){this._context=e}lineStart(){this._point=0}lineEnd(){}point(e,t){if(e=+e,t=+t,0==this._point++)this._x0=e,this._y0=t;else{const n=v(this._x0,this._y0),r=v(this._x0,this._y0=(this._y0+t)/2),a=v(e,this._y0),i=v(e,t);this._context.moveTo(...n),this._context.bezierCurveTo(...r,...a,...i)}}}function S(e){return new w(e,!0)}function k(e){return new w(e,!1)}function A(e){return new x(e)}var E=n(26810);function M(e){return e.source}function V(e){return e.target}function C(e){let t=M,n=V,r=E.x,a=E.y,i=null,c=null;function s(){let l;const s=o.t.call(arguments),u=t.apply(this,s),f=n.apply(this,s);if(null==i&&(c=e(l=(0,y.Z)())),c.lineStart(),s[0]=u,c.point(+r.apply(this,s),+a.apply(this,s)),s[0]=f,c.point(+r.apply(this,s),+a.apply(this,s)),c.lineEnd(),l)return c=null,l+""||null}return s.source=function(e){return arguments.length?(t=e,s):t},s.target=function(e){return arguments.length?(n=e,s):n},s.x=function(e){return arguments.length?(r="function"==typeof e?e:(0,l.Z)(+e),s):r},s.y=function(e){return arguments.length?(a="function"==typeof e?e:(0,l.Z)(+e),s):a},s.context=function(t){return arguments.length?(null==t?i=c=null:c=e(i=t),s):i},s}function z(){return C(S)}function T(){return C(k)}function N(){const e=C(A);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}var P=n(40474),O=n(14350),D=n(98811),L=n(52170),I=n(15841),R=n(41675),B=n(18383),j=n(70783),Z=n(79765),H=n(78960),F=n(36658),W=n(46311),Y=n(38161),q=n(3945),U=n(20243),$=n(29282),G=n(18990),X=n(27470),Q=n(86600),K=n(81199),J=n(75908),ee=n(54885),te=n(1968),ne=n(84252),re=n(94474),ae=n(69786),ie=n(67185),oe=n(14643);function le(e,t){if((a=e.length)>1)for(var n,r,a,i=1,o=e[t[0]],l=o.length;i<a;++i)for(r=o,o=e[t[i]],n=0;n<l;++n)o[n][1]+=o[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function ce(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function se(e,t){return e[t]}function ue(e){const t=[];return t.key=e,t}function fe(){var e=(0,l.Z)([]),t=ce,n=le,r=se;function a(a){var i,l,c=Array.from(e.apply(this,arguments),ue),s=c.length,u=-1;for(const e of a)for(i=0,++u;i<s;++i)(c[i][u]=[0,+r(e,c[i].key,u,a)]).data=e;for(i=0,l=(0,o.Z)(t(c));i<s;++i)c[l[i]].index=i;return n(c,l),c}return a.keys=function(t){return arguments.length?(e="function"==typeof t?t:(0,l.Z)(Array.from(t)),a):e},a.value=function(e){return arguments.length?(r="function"==typeof e?e:(0,l.Z)(+e),a):r},a.order=function(e){return arguments.length?(t=null==e?ce:"function"==typeof e?e:(0,l.Z)(Array.from(e)),a):t},a.offset=function(e){return arguments.length?(n=null==e?le:e,a):n},a}function de(e,t){if((r=e.length)>0){for(var n,r,a,i=0,o=e[0].length;i<o;++i){for(a=n=0;n<r;++n)a+=e[n][i][1]||0;if(a)for(n=0;n<r;++n)e[n][i][1]/=a}le(e,t)}}function he(e,t){if((l=e.length)>0)for(var n,r,a,i,o,l,c=0,s=e[t[0]].length;c<s;++c)for(i=o=0,n=0;n<l;++n)(a=(r=e[t[n]][c])[1]-r[0])>0?(r[0]=i,r[1]=i+=a):a<0?(r[1]=o,r[0]=o+=a):(r[0]=0,r[1]=a)}function ge(e,t){if((n=e.length)>0){for(var n,r=0,a=e[t[0]],i=a.length;r<i;++r){for(var o=0,l=0;o<n;++o)l+=e[o][r][1]||0;a[r][1]+=a[r][0]=-l/2}le(e,t)}}function pe(e,t){if((a=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,a,i=0,o=1;o<r;++o){for(var l=0,c=0,s=0;l<a;++l){for(var u=e[t[l]],f=u[o][1]||0,d=(f-(u[o-1][1]||0))/2,h=0;h<l;++h){var g=e[t[h]];d+=(g[o][1]||0)-(g[o-1][1]||0)}c+=f,s+=d*f}n[o-1][1]+=n[o-1][0]=i,c&&(i-=s/c)}n[o-1][1]+=n[o-1][0]=i,le(e,t)}}function be(e){var t=e.map(_e);return ce(e).sort((function(e,n){return t[e]-t[n]}))}function _e(e){for(var t,n=-1,r=0,a=e.length,i=-1/0;++n<a;)(t=+e[n][1])>i&&(i=t,r=n);return r}function me(e){var t=e.map(ve);return ce(e).sort((function(e,n){return t[e]-t[n]}))}function ve(e){for(var t,n=0,r=-1,a=e.length;++r<a;)(t=+e[r][1])&&(n+=t);return n}function ye(e){return me(e).reverse()}function we(e){var t,n,r=e.length,a=e.map(ve),i=be(e),o=0,l=0,c=[],s=[];for(t=0;t<r;++t)n=i[t],o<l?(o+=a[n],c.push(n)):(l+=a[n],s.push(n));return s.reverse().concat(c)}function xe(e){return ce(e).reverse()}},5814:(e,t,n)=>{"use strict";n.d(t,{e1:()=>h});var r=n(86740),a=n(92626),i=n(91739);function o(e,t,n){var r=new i.B7;return t=null==t?0:+t,r.restart((n=>{r.stop(),e(n+t)}),t,n),r}var l=(0,a.Z)("start","end","cancel","interrupt"),c=[];function s(e,t,n,r,a,s){var u=e.__transition;if(u){if(n in u)return}else e.__transition={};!function(e,t,n){var r,a=e.__transition;function l(e){n.state=1,n.timer.restart(c,n.delay,n.time),n.delay<=e&&c(e-n.delay)}function c(i){var l,f,d,h;if(1!==n.state)return u();for(l in a)if((h=a[l]).name===n.name){if(3===h.state)return o(c);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete a[l]):+l<t&&(h.state=6,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete a[l])}if(o((function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(i))})),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(d=n.tween.length),l=0,f=-1;l<d;++l)(h=n.tween[l].value.call(e,e.__data__,n.index,n.group))&&(r[++f]=h);r.length=f+1}}function s(t){for(var a=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(u),n.state=5,1),i=-1,o=r.length;++i<o;)r[i].call(e,a);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){for(var r in n.state=6,n.timer.stop(),delete a[t],a)return;delete e.__transition}a[t]=n,n.timer=(0,i.HT)(l,0,n.time)}(e,n,{name:t,index:r,group:a,on:l,tween:c,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:0})}function u(e,t){var n=d(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function f(e,t){var n=d(e,t);if(n.state>3)throw new Error("too late; already running");return n}function d(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function h(e,t){var n,r,a,i=e.__transition,o=!0;if(i){for(a in t=null==t?null:t+"",i)(n=i[a]).name===t?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete i[a]):o=!1;o&&delete e.__transition}}var g,p=n(73626),b=180/Math.PI,_={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function m(e,t,n,r,a,i){var o,l,c;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,c/=l),e*r<t*n&&(e=-e,t=-t,c=-c,o=-o),{translateX:a,translateY:i,rotate:Math.atan2(t,e)*b,skewX:Math.atan(c)*b,scaleX:o,scaleY:l}}function v(e,t,n,r){function a(e){return e.length?e.pop()+" ":""}return function(i,o){var l=[],c=[];return i=e(i),o=e(o),function(e,r,a,i,o,l){if(e!==a||r!==i){var c=o.push("translate(",null,t,null,n);l.push({i:c-4,x:(0,p.Z)(e,a)},{i:c-2,x:(0,p.Z)(r,i)})}else(a||i)&&o.push("translate("+a+t+i+n)}(i.translateX,i.translateY,o.translateX,o.translateY,l,c),function(e,t,n,i){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),i.push({i:n.push(a(n)+"rotate(",null,r)-2,x:(0,p.Z)(e,t)})):t&&n.push(a(n)+"rotate("+t+r)}(i.rotate,o.rotate,l,c),function(e,t,n,i){e!==t?i.push({i:n.push(a(n)+"skewX(",null,r)-2,x:(0,p.Z)(e,t)}):t&&n.push(a(n)+"skewX("+t+r)}(i.skewX,o.skewX,l,c),function(e,t,n,r,i,o){if(e!==n||t!==r){var l=i.push(a(i)+"scale(",null,",",null,")");o.push({i:l-4,x:(0,p.Z)(e,n)},{i:l-2,x:(0,p.Z)(t,r)})}else 1===n&&1===r||i.push(a(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,o.scaleX,o.scaleY,l,c),i=o=null,function(e){for(var t,n=-1,r=c.length;++n<r;)l[(t=c[n]).i]=t.x(e);return l.join("")}}}var y=v((function(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?_:m(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),w=v((function(e){return null==e?_:(g||(g=document.createElementNS("http://www.w3.org/2000/svg","g")),g.setAttribute("transform",e),(e=g.transform.baseVal.consolidate())?m((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):_)}),", ",")",")"),x=n(31663);function S(e,t){var n,r;return function(){var a=f(this,e),i=a.tween;if(i!==n)for(var o=0,l=(r=n=i).length;o<l;++o)if(r[o].name===t){(r=r.slice()).splice(o,1);break}a.tween=r}}function k(e,t,n){var r,a;if("function"!=typeof n)throw new Error;return function(){var i=f(this,e),o=i.tween;if(o!==r){a=(r=o).slice();for(var l={name:t,value:n},c=0,s=a.length;c<s;++c)if(a[c].name===t){a[c]=l;break}c===s&&a.push(l)}i.tween=a}}function A(e,t,n){var r=e._id;return e.each((function(){var e=f(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return d(e,r).value[t]}}var E=n(16372),M=n(3474),V=n(59843);function C(e,t){var n;return("number"==typeof t?p.Z:t instanceof E.ZP?M.ZP:(n=(0,E.ZP)(t))?(t=n,M.ZP):V.Z)(e,t)}function z(e){return function(){this.removeAttribute(e)}}function T(e){return function(){this.removeAttributeNS(e.space,e.local)}}function N(e,t,n){var r,a,i=n+"";return function(){var o=this.getAttribute(e);return o===i?null:o===r?a:a=t(r=o,n)}}function P(e,t,n){var r,a,i=n+"";return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?a:a=t(r=o,n)}}function O(e,t,n){var r,a,i;return function(){var o,l,c=n(this);if(null!=c)return(o=this.getAttribute(e))===(l=c+"")?null:o===r&&l===a?i:(a=l,i=t(r=o,c));this.removeAttribute(e)}}function D(e,t,n){var r,a,i;return function(){var o,l,c=n(this);if(null!=c)return(o=this.getAttributeNS(e.space,e.local))===(l=c+"")?null:o===r&&l===a?i:(a=l,i=t(r=o,c));this.removeAttributeNS(e.space,e.local)}}function L(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function I(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function R(e,t){var n,r;function a(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&I(e,a)),n}return a._value=t,a}function B(e,t){var n,r;function a(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&L(e,a)),n}return a._value=t,a}function j(e,t){return function(){u(this,e).delay=+t.apply(this,arguments)}}function Z(e,t){return t=+t,function(){u(this,e).delay=t}}function H(e,t){return function(){f(this,e).duration=+t.apply(this,arguments)}}function F(e,t){return t=+t,function(){f(this,e).duration=t}}function W(e,t){if("function"!=typeof t)throw new Error;return function(){f(this,e).ease=t}}var Y=n(24421);function q(e,t,n){var r,a,i=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?u:f;return function(){var o=i(this,e),l=o.on;l!==r&&(a=(r=l).copy()).on(t,n),o.on=a}}var U=n(83010);var $=n(19701);var G=r.ZP.prototype.constructor;var X=n(52627);function Q(e){return function(){this.style.removeProperty(e)}}function K(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function J(e,t,n){var r,a;function i(){var i=t.apply(this,arguments);return i!==a&&(r=(a=i)&&K(e,i,n)),r}return i._value=t,i}function ee(e){return function(t){this.textContent=e.call(this,t)}}function te(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&ee(r)),t}return r._value=e,r}var ne=0;function re(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function ae(){return++ne}var ie=r.ZP.prototype;re.prototype=function(e){return(0,r.ZP)().transition(e)}.prototype={constructor:re,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=(0,U.Z)(e));for(var r=this._groups,a=r.length,i=new Array(a),o=0;o<a;++o)for(var l,c,u=r[o],f=u.length,h=i[o]=new Array(f),g=0;g<f;++g)(l=u[g])&&(c=e.call(l,l.__data__,g,u))&&("__data__"in l&&(c.__data__=l.__data__),h[g]=c,s(h[g],t,n,g,h,d(l,n)));return new re(i,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=(0,$.Z)(e));for(var r=this._groups,a=r.length,i=[],o=[],l=0;l<a;++l)for(var c,u=r[l],f=u.length,h=0;h<f;++h)if(c=u[h]){for(var g,p=e.call(c,c.__data__,h,u),b=d(c,n),_=0,m=p.length;_<m;++_)(g=p[_])&&s(g,t,n,_,p,b);i.push(p),o.push(c)}return new re(i,o,t,n)},selectChild:ie.selectChild,selectChildren:ie.selectChildren,filter:function(e){"function"!=typeof e&&(e=(0,Y.Z)(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var i,o=t[a],l=o.length,c=r[a]=[],s=0;s<l;++s)(i=o[s])&&e.call(i,i.__data__,s,o)&&c.push(i);return new re(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,a=n.length,i=Math.min(r,a),o=new Array(r),l=0;l<i;++l)for(var c,s=t[l],u=n[l],f=s.length,d=o[l]=new Array(f),h=0;h<f;++h)(c=s[h]||u[h])&&(d[h]=c);for(;l<r;++l)o[l]=t[l];return new re(o,this._parents,this._name,this._id)},selection:function(){return new G(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=ae(),r=this._groups,a=r.length,i=0;i<a;++i)for(var o,l=r[i],c=l.length,u=0;u<c;++u)if(o=l[u]){var f=d(o,t);s(o,e,n,u,l,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new re(r,this._parents,e,n)},call:ie.call,nodes:ie.nodes,node:ie.node,size:ie.size,empty:ie.empty,each:ie.each,on:function(e,t){var n=this._id;return arguments.length<2?d(this.node(),n).on.on(e):this.each(q(n,e,t))},attr:function(e,t){var n=(0,x.Z)(e),r="transform"===n?w:C;return this.attrTween(e,"function"==typeof t?(n.local?D:O)(n,r,A(this,"attr."+e,t)):null==t?(n.local?T:z)(n):(n.local?P:N)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var r=(0,x.Z)(e);return this.tween(n,(r.local?R:B)(r,t))},style:function(e,t,n){var r="transform"==(e+="")?y:C;return null==t?this.styleTween(e,function(e,t){var n,r,a;return function(){var i=(0,X.S)(this,e),o=(this.style.removeProperty(e),(0,X.S)(this,e));return i===o?null:i===n&&o===r?a:a=t(n=i,r=o)}}(e,r)).on("end.style."+e,Q(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var r,a,i;return function(){var o=(0,X.S)(this,e),l=n(this),c=l+"";return null==l&&(this.style.removeProperty(e),c=l=(0,X.S)(this,e)),o===c?null:o===r&&c===a?i:(a=c,i=t(r=o,l))}}(e,r,A(this,"style."+e,t))).each(function(e,t){var n,r,a,i,o="style."+t,l="end."+o;return function(){var c=f(this,e),s=c.on,u=null==c.value[o]?i||(i=Q(t)):void 0;s===n&&a===u||(r=(n=s).copy()).on(l,a=u),c.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,a,i=n+"";return function(){var o=(0,X.S)(this,e);return o===i?null:o===r?a:a=t(r=o,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,J(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(A(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,te(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,a=d(this.node(),n).tween,i=0,o=a.length;i<o;++i)if((r=a[i]).name===e)return r.value;return null}return this.each((null==t?S:k)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?j:Z)(t,e)):d(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?H:F)(t,e)):d(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(W(t,e)):d(this.node(),t).ease},easeVarying:function(e){if("function"!=typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!=typeof n)throw new Error;f(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,a=n.size();return new Promise((function(i,o){var l={value:o},c={value:function(){0==--a&&i()}};n.each((function(){var n=f(this,r),a=n.on;a!==e&&((t=(e=a).copy())._.cancel.push(l),t._.interrupt.push(l),t._.end.push(c)),n.on=t})),0===a&&i()}))},[Symbol.iterator]:ie[Symbol.iterator]};var oe={time:null,delay:0,duration:250,ease:n(2067).tw};function le(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}r.ZP.prototype.interrupt=function(e){return this.each((function(){h(this,e)}))},r.ZP.prototype.transition=function(e){var t,n;e instanceof re?(t=e._id,e=e._name):(t=ae(),(n=oe).time=(0,i.zO)(),e=null==e?null:e+"");for(var r=this._groups,a=r.length,o=0;o<a;++o)for(var l,c=r[o],u=c.length,f=0;f<u;++f)(l=c[f])&&s(l,e,t,f,c,n||le(l,t));return new re(r,this._parents,e,t)}},81501:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ZoomTransform:()=>d,zoom:()=>S,zoomIdentity:()=>h,zoomTransform:()=>g});var r=n(92626),a=n(22718);function i(e){return((e=Math.exp(e))+1/e)/2}const o=function e(t,n,r){function a(e,a){var o,l,c=e[0],s=e[1],u=e[2],f=a[0],d=a[1],h=a[2],g=f-c,p=d-s,b=g*g+p*p;if(b<1e-12)l=Math.log(h/u)/t,o=function(e){return[c+e*g,s+e*p,u*Math.exp(t*e*l)]};else{var _=Math.sqrt(b),m=(h*h-u*u+r*b)/(2*u*n*_),v=(h*h-u*u-r*b)/(2*h*n*_),y=Math.log(Math.sqrt(m*m+1)-m),w=Math.log(Math.sqrt(v*v+1)-v);l=(w-y)/t,o=function(e){var r,a=e*l,o=i(y),f=u/(n*_)*(o*(r=t*a+y,((r=Math.exp(2*r))-1)/(r+1))-function(e){return((e=Math.exp(e))-1/e)/2}(y));return[c+f*g,s+f*p,u*o/i(t*a+y)]}}return o.duration=1e3*l*t/Math.SQRT2,o}return a.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},a}(Math.SQRT2,2,4);var l=n(23838),c=n(73109),s=n(5814);const u=e=>()=>e;function f(e,{sourceEvent:t,target:n,transform:r,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:a}})}function d(e,t,n){this.k=e,this.x=t,this.y=n}d.prototype={constructor:d,scale:function(e){return 1===e?this:new d(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new d(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var h=new d(1,0,0);function g(e){for(;!e.__zoom;)if(!(e=e.parentNode))return h;return e.__zoom}function p(e){e.stopImmediatePropagation()}function b(e){e.preventDefault(),e.stopImmediatePropagation()}function _(e){return!(e.ctrlKey&&"wheel"!==e.type||e.button)}function m(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function v(){return this.__zoom||h}function y(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function w(){return navigator.maxTouchPoints||"ontouchstart"in this}function x(e,t,n){var r=e.invertX(t[0][0])-n[0][0],a=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(a>r?(r+a)/2:Math.min(0,r)||Math.max(0,a),o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o))}function S(){var e,t,n,i=_,g=m,S=x,k=y,A=w,E=[0,1/0],M=[[-1/0,-1/0],[1/0,1/0]],V=250,C=o,z=(0,r.Z)("start","zoom","end"),T=500,N=0,P=10;function O(e){e.property("__zoom",v).on("wheel.zoom",Z,{passive:!1}).on("mousedown.zoom",H).on("dblclick.zoom",F).filter(A).on("touchstart.zoom",W).on("touchmove.zoom",Y).on("touchend.zoom touchcancel.zoom",q).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function D(e,t){return(t=Math.max(E[0],Math.min(E[1],t)))===e.k?e:new d(t,e.x,e.y)}function L(e,t,n){var r=t[0]-n[0]*e.k,a=t[1]-n[1]*e.k;return r===e.x&&a===e.y?e:new d(e.k,r,a)}function I(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function R(e,t,n,r){e.on("start.zoom",(function(){B(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){B(this,arguments).event(r).end()})).tween("zoom",(function(){var e=this,a=arguments,i=B(e,a).event(r),o=g.apply(e,a),l=null==n?I(o):"function"==typeof n?n.apply(e,a):n,c=Math.max(o[1][0]-o[0][0],o[1][1]-o[0][1]),s=e.__zoom,u="function"==typeof t?t.apply(e,a):t,f=C(s.invert(l).concat(c/s.k),u.invert(l).concat(c/u.k));return function(e){if(1===e)e=u;else{var t=f(e),n=c/t[2];e=new d(n,l[0]-t[0]*n,l[1]-t[1]*n)}i.zoom(null,e)}}))}function B(e,t,n){return!n&&e.__zooming||new j(e,t)}function j(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=g.apply(e,t),this.taps=0}function Z(e,...t){if(i.apply(this,arguments)){var n=B(this,t).event(e),r=this.__zoom,a=Math.max(E[0],Math.min(E[1],r.k*Math.pow(2,k.apply(this,arguments)))),o=(0,c.Z)(e);if(n.wheel)n.mouse[0][0]===o[0]&&n.mouse[0][1]===o[1]||(n.mouse[1]=r.invert(n.mouse[0]=o)),clearTimeout(n.wheel);else{if(r.k===a)return;n.mouse=[o,r.invert(o)],(0,s.e1)(this),n.start()}b(e),n.wheel=setTimeout(l,150),n.zoom("mouse",S(L(D(r,a),n.mouse[0],n.mouse[1]),n.extent,M))}function l(){n.wheel=null,n.end()}}function H(e,...t){if(!n&&i.apply(this,arguments)){var r=e.currentTarget,o=B(this,t,!0).event(e),u=(0,l.Z)(e.view).on("mousemove.zoom",g,!0).on("mouseup.zoom",_,!0),f=(0,c.Z)(e,r),d=e.clientX,h=e.clientY;(0,a.Z)(e.view),p(e),o.mouse=[f,this.__zoom.invert(f)],(0,s.e1)(this),o.start()}function g(e){if(b(e),!o.moved){var t=e.clientX-d,n=e.clientY-h;o.moved=t*t+n*n>N}o.event(e).zoom("mouse",S(L(o.that.__zoom,o.mouse[0]=(0,c.Z)(e,r),o.mouse[1]),o.extent,M))}function _(e){u.on("mousemove.zoom mouseup.zoom",null),(0,a.D)(e.view,o.moved),b(e),o.event(e).end()}}function F(e,...t){if(i.apply(this,arguments)){var n=this.__zoom,r=(0,c.Z)(e.changedTouches?e.changedTouches[0]:e,this),a=n.invert(r),o=n.k*(e.shiftKey?.5:2),s=S(L(D(n,o),r,a),g.apply(this,t),M);b(e),V>0?(0,l.Z)(this).transition().duration(V).call(R,s,r,e):(0,l.Z)(this).call(O.transform,s,r,e)}}function W(n,...r){if(i.apply(this,arguments)){var a,o,l,u,f=n.touches,d=f.length,h=B(this,r,n.changedTouches.length===d).event(n);for(p(n),o=0;o<d;++o)l=f[o],u=[u=(0,c.Z)(l,this),this.__zoom.invert(u),l.identifier],h.touch0?h.touch1||h.touch0[2]===u[2]||(h.touch1=u,h.taps=0):(h.touch0=u,a=!0,h.taps=1+!!e);e&&(e=clearTimeout(e)),a&&(h.taps<2&&(t=u[0],e=setTimeout((function(){e=null}),T)),(0,s.e1)(this),h.start())}}function Y(e,...t){if(this.__zooming){var n,r,a,i,o=B(this,t).event(e),l=e.changedTouches,s=l.length;for(b(e),n=0;n<s;++n)r=l[n],a=(0,c.Z)(r,this),o.touch0&&o.touch0[2]===r.identifier?o.touch0[0]=a:o.touch1&&o.touch1[2]===r.identifier&&(o.touch1[0]=a);if(r=o.that.__zoom,o.touch1){var u=o.touch0[0],f=o.touch0[1],d=o.touch1[0],h=o.touch1[1],g=(g=d[0]-u[0])*g+(g=d[1]-u[1])*g,p=(p=h[0]-f[0])*p+(p=h[1]-f[1])*p;r=D(r,Math.sqrt(g/p)),a=[(u[0]+d[0])/2,(u[1]+d[1])/2],i=[(f[0]+h[0])/2,(f[1]+h[1])/2]}else{if(!o.touch0)return;a=o.touch0[0],i=o.touch0[1]}o.zoom("touch",S(L(r,a,i),o.extent,M))}}function q(e,...r){if(this.__zooming){var a,i,o=B(this,r).event(e),s=e.changedTouches,u=s.length;for(p(e),n&&clearTimeout(n),n=setTimeout((function(){n=null}),T),a=0;a<u;++a)i=s[a],o.touch0&&o.touch0[2]===i.identifier?delete o.touch0:o.touch1&&o.touch1[2]===i.identifier&&delete o.touch1;if(o.touch1&&!o.touch0&&(o.touch0=o.touch1,delete o.touch1),o.touch0)o.touch0[1]=this.__zoom.invert(o.touch0[0]);else if(o.end(),2===o.taps&&(i=(0,c.Z)(i,this),Math.hypot(t[0]-i[0],t[1]-i[1])<P)){var f=(0,l.Z)(this).on("dblclick.zoom");f&&f.apply(this,arguments)}}}return O.transform=function(e,t,n,r){var a=e.selection?e.selection():e;a.property("__zoom",v),e!==a?R(e,t,n,r):a.interrupt().each((function(){B(this,arguments).event(r).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()}))},O.scaleBy=function(e,t,n,r){O.scaleTo(e,(function(){var e=this.__zoom.k,n="function"==typeof t?t.apply(this,arguments):t;return e*n}),n,r)},O.scaleTo=function(e,t,n,r){O.transform(e,(function(){var e=g.apply(this,arguments),r=this.__zoom,a=null==n?I(e):"function"==typeof n?n.apply(this,arguments):n,i=r.invert(a),o="function"==typeof t?t.apply(this,arguments):t;return S(L(D(r,o),a,i),e,M)}),n,r)},O.translateBy=function(e,t,n,r){O.transform(e,(function(){return S(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof n?n.apply(this,arguments):n),g.apply(this,arguments),M)}),null,r)},O.translateTo=function(e,t,n,r,a){O.transform(e,(function(){var e=g.apply(this,arguments),a=this.__zoom,i=null==r?I(e):"function"==typeof r?r.apply(this,arguments):r;return S(h.translate(i[0],i[1]).scale(a.k).translate("function"==typeof t?-t.apply(this,arguments):-t,"function"==typeof n?-n.apply(this,arguments):-n),e,M)}),r,a)},j.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=(0,l.Z)(this.that).datum();z.call(e,this.that,new f(e,{sourceEvent:this.sourceEvent,target:O,type:e,transform:this.that.__zoom,dispatch:z}),t)}},O.wheelDelta=function(e){return arguments.length?(k="function"==typeof e?e:u(+e),O):k},O.filter=function(e){return arguments.length?(i="function"==typeof e?e:u(!!e),O):i},O.touchable=function(e){return arguments.length?(A="function"==typeof e?e:u(!!e),O):A},O.extent=function(e){return arguments.length?(g="function"==typeof e?e:u([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),O):g},O.scaleExtent=function(e){return arguments.length?(E[0]=+e[0],E[1]=+e[1],O):[E[0],E[1]]},O.translateExtent=function(e){return arguments.length?(M[0][0]=+e[0][0],M[1][0]=+e[1][0],M[0][1]=+e[0][1],M[1][1]=+e[1][1],O):[[M[0][0],M[0][1]],[M[1][0],M[1][1]]]},O.constrain=function(e){return arguments.length?(S=e,O):S},O.duration=function(e){return arguments.length?(V=+e,O):V},O.interpolate=function(e){return arguments.length?(C=e,O):C},O.on=function(){var e=z.on.apply(z,arguments);return e===z?O:e},O.clickDistance=function(e){return arguments.length?(N=(e=+e)*e,O):Math.sqrt(N)},O.tapDistance=function(e){return arguments.length?(P=+e,O):P},O}g.prototype=d.prototype}}]);
//# sourceMappingURL=5655.1b30635509192163eb37.chunk.js.map