(self.webpackChunkquilt_navigator=self.webpackChunkquilt_navigator||[]).push([[3130],{97274:e=>{e.exports="data:image/svg+xml,%3csvg width='18' height='18' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M9 3.48c1.69 0 2.83.73 3.48 1.34l2.54-2.48C13.46.89 11.43 0 9 0 5.48 0 2.44 2.02.96 4.96l2.91 2.26C4.6 5.05 6.62 3.48 9 3.48z' fill='%23EA4335'/%3e%3cpath d='M17.64 9.2c0-.74-.06-1.28-.19-1.84H9v3.34h4.96c-.1.83-.64 2.08-1.84 2.92l2.84 2.2c1.7-1.57 2.68-3.88 2.68-6.62z' fill='%234285F4'/%3e%3cpath d='M3.88 10.78A5.54 5.54 0 013.58 9c0-.62.11-1.22.29-1.78L.96 4.96A9.008 9.008 0 000 9c0 1.45.35 2.82.96 4.04l2.92-2.26z' fill='%23FBBC05'/%3e%3cpath d='M9 18c2.43 0 4.47-.8 5.96-2.18l-2.84-2.2c-.76.53-1.78.9-3.12.9-2.38 0-4.4-1.57-5.12-3.74L.97 13.04C2.45 15.98 5.48 18 9 18z' fill='%2334A853'/%3e%3c/svg%3e"},67045:e=>{e.exports="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='21' height='21'%3e%3cpath fill='%23f25022' d='M1 1h9v9H1z'/%3e%3cpath fill='%2300a4ef' d='M1 11h9v9H1z'/%3e%3cpath fill='%237fba00' d='M11 1h9v9h-9z'/%3e%3cpath fill='%23ffb900' d='M11 11h9v9h-9z'/%3e%3c/svg%3e"},32981:e=>{e.exports="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='64' height='64'%3e%3cpath d='M32 0C14.37 0 0 14.267 0 32s14.268 32 32 32 32-14.268 32-32S49.63 0 32 0zm0 48c-8.866 0-16-7.134-16-16s7.134-16 16-16 16 7.134 16 16-7.134 16-16 16z' fill='%23007dc1'/%3e%3c/svg%3e"},33908:e=>{e.exports="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='110 110 226.7 225.6'%3e%3cpath fill='%231C1F2A' d='M223.3 111.8C161.9 111.8 112 161.6 112 223c0 61.5 49.8 111.3 111.3 111.3S334.6 284.5 334.6 223c0-61.4-49.8-111.2-111.3-111.2z'/%3e%3cpath fill='%23FFF' d='M239.9 262.4c0 2.1-1.1 3.2-3.2 3.2h-20c-2.1 0-3.2-1.1-3.2-3.2v-48.2h-15.3c-2.1 0-3.2-1.1-3.2-3.2v-20c0-2.1 1.1-3.2 3.2-3.2h39c2.1 0 2.6 1.1 2.6 2.6v72z'/%3e%3c/svg%3e"},42571:(e,n,t)=>{"use strict";t.d(n,{Z:()=>c});var a=t(67294),r=t(10529),i=t(22318),o=t(49699),s=t(99643);const l=t.p+"63564743e28ef3b99964e75d2c0afecb.jpg";var u=(0,o.Z)(r.Z)({backgroundImage:"url(".concat(l,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover"});function c(e){var n=e.detail,t=void 0===n?"Check network connection and login":n,o=e.headline,l=void 0===o?"Something went wrong":o,c=e.object;return a.createElement(a.Fragment,null,a.createElement(i.Z,{variant:"h4",gutterBottom:!0},l),a.createElement(i.Z,{variant:"body1"},t),a.createElement(u,{height:600,mt:2}),!!c&&a.createElement(r.Z,{component:"pre"},(0,s.N$)(c)))}},59574:(e,n,t)=>{"use strict";t.d(n,{Z:()=>l});var a=t(70655),r=t(94184),i=t.n(r),o=t(67294),s=t(41120).Z({root:{display:"inline-block",paddingTop:function(e){return e.drop||0}}});function l(e){var n=e.className,t=e.drop,r=(0,a._T)(e,["className","drop"]),l=s({drop:t});return o.createElement("div",(0,a.pi)({className:i()(n,l.root)},r),o.createElement("i",{className:"fa fa-cog fa-fw fa-spin"}))}},28423:(e,n,t)=>{"use strict";t.d(n,{Z:()=>a});const a=(0,t(32248).iE)()},27502:(e,n,t)=>{"use strict";t.d(n,{Or:()=>_,e4:()=>O,eX:()=>v,gN:()=>g,jj:()=>h,k4:()=>R,kW:()=>S,rh:()=>T,v0:()=>A});var a=t(70655),r=t(67294),i=t(73727),o=t(41120),s=t(22318),l=t(39803),u=t(10529),c=t(282),d=t(55517),m=t(39473),p=t(59574),f=o.Z({root:{marginLeft:"auto",marginRight:"auto",maxWidth:300,width:"100%"}});function y(e){var n=f();return r.createElement("div",(0,a.pi)({className:n.root},e))}function k(e){return r.createElement(s.Z,(0,a.pi)({variant:"h4",align:"center"},e))}function g(e){var n=e.input,t=e.meta,i=e.errors,o=e.floatingLabelText,s=(0,a._T)(e,["input","meta","errors","floatingLabelText"]),u=t.error||t.submitError,c=(0,a.pi)((0,a.pi)({error:t.submitFailed&&!!u,helperText:t.submitFailed&&u?i[u]||u:void 0,label:o,fullWidth:!0,margin:"normal"},n),s);return r.createElement(l.Z,(0,a.pi)({},c))}var N=o.Z({root:{color:"inherit !important",textDecoration:"underline"}});function T(e){var n=N();return r.createElement(i.Link,(0,a.pi)({className:n.root},e))}var L=o.Z((function(e){return{root:{color:e.palette.error.main,marginTop:e.spacing(3),textAlign:"center","& a":{color:"inherit !important",textDecoration:"underline"}}}}));function h(e){var n=e.submitFailed,t=e.error,i=e.errors,o=(0,a._T)(e,["submitFailed","error","errors"]),s=L(),l=n&&t?i[t]||t:void 0;return l?r.createElement("p",(0,a.pi)({className:s.root,"data-testid":"auth-error"},o),l):null}var E=o.Z((function(e){return{root:{display:"flex",justifyContent:"center",marginTop:e.spacing(4)}}}));function v(e){var n=E();return r.createElement("div",(0,a.pi)({className:n.root},e))}var C=o.Z((function(e){return{root:{fontSize:12,lineHeight:"16px",marginBottom:e.spacing(1.5),marginTop:e.spacing(4),textAlign:"center","p + &":{marginTop:e.spacing(1.5)}}}}));function S(e){var n=C();return r.createElement("p",(0,a.pi)({className:n.root},e))}function A(e){return r.createElement(u.Z,{pt:2},r.createElement(s.Z,(0,a.pi)({align:"center"},e)))}var O=function(e){return function(n){var t=n.children,i=(0,a._T)(n,["children"]);return r.createElement(m.ZP,null,r.createElement(y,null,r.createElement(u.Z,{pt:5,pb:2},r.createElement(k,{"data-testid":"auth-heading"},"function"==typeof e?e(i):e)),t))}};function R(e){var n=e.busy,t=e.label,i=e.children,o=(0,a._T)(e,["busy","label","children"]);return r.createElement(c.Z,(0,a.pi)({color:"primary",variant:"contained",type:"submit","data-testid":"auth-submit"},o),t,i,n&&r.createElement(r.Fragment,null," ",r.createElement(p.Z,{style:{fontSize:"1.5em",opacity:".5",position:"absolute",right:"-1.5em"}})))}var b=o.Z((function(e){return{root:{alignItems:"center",display:"flex",justifyContent:"space-between",paddingTop:e.spacing(4)},divider:{flexGrow:1},text:{paddingLeft:e.spacing(1),paddingRight:e.spacing(1)}}}));function _(){var e=b();return r.createElement("div",{className:e.root},r.createElement(d.Z,{className:e.divider}),r.createElement(s.Z,{variant:"button",className:e.text},"Or"),r.createElement(d.Z,{className:e.divider}))}},14895:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>C});var a=t(70655),r=t(95142),i=t(67294),o=t(66688),s=t(28216),l=t(16550),u=t(51259),c=t(69534),d=t(6626),m=t(70397),p=t(17228),f=t(31708),y=t(27502),k=t(70775),g=t(84366),N=t(147),T=t(52164),L=y.e4("Change Password");function h(){var e=s.v9(T.waiting),n=i.useRef();return n.current=(0,k.useSignOut)(),i.useEffect((function(){e||n.current()}),[e,n]),i.createElement(L,null,i.createElement(u.Z,{style:{textAlign:"center"}},"Signing out"))}function E(e){var n=this,t=e.onSuccess,l=e.link,u=c.D$().urls,k=d.D$(),T=s.I0();return i.createElement(L,null,i.createElement(o.l0,{onSubmit:function(e){var i=e.password;return(0,a.mG)(n,void 0,void 0,(function(){var e,n,o,s,u,c,d;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),e=(0,p.Z)(),T((0,g.changePassword)(l,i,e.resolver)),[4,e.promise];case 1:return a.sent(),t(),[2,void 0];case 2:return(n=a.sent())instanceof N.su?[2,(o={},o[r.Ck]="invalidToken",o)]:n instanceof N.nF?[2,(s={},s[r.Ck]="notAllowed",s)]:n instanceof N.zd?[2,(u={},u[r.Ck]="userNotFound",u)]:n instanceof N.Ac?[2,(c={},c[r.Ck]="invalid",c)]:(k("captureException",n),[2,(d={},d[r.Ck]="unexpected",d)]);case 3:return[2]}}))}))}},(function(e){var n=e.error,t=e.handleSubmit,r=e.hasSubmitErrors,s=e.hasValidationErrors,l=e.modifiedSinceLastSubmit,c=e.submitError,d=e.submitFailed,p=e.submitting;return i.createElement("form",{onSubmit:t},i.createElement(o.gN,{component:y.gN,name:"password",type:"password",validate:f.C1,disabled:p,floatingLabelText:"New password",errors:{required:"Enter a password"}}),i.createElement(o.gN,{component:y.gN,name:"passwordCheck",type:"password",validate:f.ne(f.C1,(0,f.ZP)("check",f.nQ("password"))),disabled:p,floatingLabelText:"Re-enter your new password",errors:{required:"Enter the password again",check:"Passwords must match"},fullWidth:!0}),i.createElement(y.jj,(0,a.pi)({},{submitFailed:d,error:n||!l&&c},{errors:{invalidToken:i.createElement(i.Fragment,null,"This reset link is invalid (probably expired). Try"," ",i.createElement(m.Z,{to:u.passReset()},"resetting password")," again."),invalid:"Password must be at least 8 characters long",notAllowed:"You are not allowed to set password.",userNotFound:"User not found for this reset link. Please contact support.",unexpected:"Something went wrong. Try again later."}})),i.createElement(y.eX,null,i.createElement(y.k4,{label:"Change Password",disabled:p||s&&d||r&&!l,busy:p})))})))}function v(){var e=c.D$().urls;return i.createElement(L,null,i.createElement(y.v0,null,"Your password has been changed."),i.createElement(y.v0,null,i.createElement(i.Fragment,null,"Now you can ",i.createElement(m.Z,{to:e.signIn()},"sign in")," using your new password.")))}function C(e){var n=e.match.params.link,t=c.D$().urls,r=s.v9(T.authenticated),o=i.useState(!1),u=o[0],d=o[1],m=i.useCallback((function(){return d(!0)}),[d]),p=i.useState(n)[0],f=(0,l.k6)(),y=t.passChange("_");return i.useEffect((function(){"_"!==n&&f.replace(y)}),[n,f,y]),r?i.createElement(h,null):u?i.createElement(v,null):i.createElement(E,(0,a.pi)({},{onSuccess:m,link:p}))}},38066:(e,n,t)=>{"use strict";t.d(n,{Z:()=>A});var a=t(70655),r=t(88306),i=t.n(r),o=t(33287),s=t(67294),l=t(28216),u=t(16550),c=t(22222),d=t(41120),m=t(282),p=t(22318),f=t(42571),y=t(39473),k=t(51259),g=t(69534),N=t(67869),T=t(84366),L=t(147),h=t(52164),E=d.Z({button:{marginLeft:"1em"}}),v=function(){var e=l.I0(),n=s.useCallback((function(){return e((0,T.check)())}),[e]),t=E();return s.createElement(y.ZP,null,s.createElement(f.Z,{headline:"Authentication error",detail:s.createElement("span",null,"Something went wrong. Try again.",s.createElement(m.Z,{variant:"contained",color:"primary",className:t.button,onClick:n},"Retry"))}))},C=d.Z((function(e){return{heading:{marginTop:e.spacing(10)}}}));function S(){var e=C();return s.createElement(y.ZP,null,s.createElement(p.Z,{variant:"h3",align:"center",className:e.heading,gutterBottom:!0},"Not Authorized"),s.createElement(p.Z,{variant:"body1",align:"center"},"Contact a Quilt admin to perform this task."))}function A(e){var n=(void 0===e?{}:e).authorizedSelector,t=void 0===n?o.Z:n,r=(0,c.zB)({authenticated:h.authenticated,authorized:t,error:h.error,waiting:h.waiting,location:N.FD});return i()((function(e){return function(n){var t=l.v9(r),i=g.D$().urls;if(t.error&&!(t.error instanceof L.li))return s.createElement(v,null);if(t.waiting)return s.createElement(k.Z,null,"Authenticating…");if(!t.authenticated){var o=t.location;return s.createElement(u.l_,{to:i.signIn(o.pathname+o.search)})}return t.authorized?s.createElement(e,(0,a.pi)({},n)):s.createElement(S,null)}}))}},57100:(e,n,t)=>{"use strict";t.d(n,{$:()=>M});var a=t(70655),r=t(43880),i=t(16946),o=t(29969),s=t(61889),l=t(66115),u=t(68981),c=t(86458),d=t(67294),m=t(28216),p=t(26997),f=t(92432),y=t(42576),k=t(41357);const g={__schema:{queryType:{name:"Query"},mutationType:{name:"Mutation"},subscriptionType:null,types:[{kind:"OBJECT",name:"AccessCountForDate",fields:[{name:"date",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"Datetime",ofType:null}},args:[]},{name:"value",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"Int",ofType:null}},args:[]}],interfaces:[]},{kind:"SCALAR",name:"Int"},{kind:"OBJECT",name:"AccessCounts",fields:[{name:"total",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"Int",ofType:null}},args:[]},{name:"counts",type:{kind:"NON_NULL",ofType:{kind:"LIST",ofType:{kind:"NON_NULL",ofType:{kind:"OBJECT",name:"AccessCountForDate",ofType:null}}}},args:[]}],interfaces:[]},{kind:"SCALAR",name:"String"},{kind:"SCALAR",name:"Boolean"},{kind:"UNION",name:"BucketAddResult",possibleTypes:[{kind:"OBJECT",name:"BucketAddSuccess"},{kind:"OBJECT",name:"BucketAlreadyAdded"},{kind:"OBJECT",name:"BucketDoesNotExist"},{kind:"OBJECT",name:"BucketFileExtensionsToIndexInvalid"},{kind:"OBJECT",name:"BucketIndexContentBytesInvalid"},{kind:"OBJECT",name:"InsufficientPermissions"},{kind:"OBJECT",name:"NotificationConfigurationError"},{kind:"OBJECT",name:"NotificationTopicNotFound"},{kind:"OBJECT",name:"SnsInvalid"}]},{kind:"OBJECT",name:"BucketAddSuccess",fields:[{name:"bucketConfig",type:{kind:"NON_NULL",ofType:{kind:"OBJECT",name:"BucketConfig",ofType:null}},args:[]}],interfaces:[]},{kind:"OBJECT",name:"BucketAlreadyAdded",fields:[{name:"_",type:{kind:"SCALAR",name:"Boolean",ofType:null},args:[]}],interfaces:[]},{kind:"OBJECT",name:"BucketConfig",fields:[{name:"name",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"String",ofType:null}},args:[]},{name:"title",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"String",ofType:null}},args:[]},{name:"iconUrl",type:{kind:"SCALAR",name:"String",ofType:null},args:[]},{name:"description",type:{kind:"SCALAR",name:"String",ofType:null},args:[]},{name:"linkedData",type:{kind:"SCALAR",name:"Json",ofType:null},args:[]},{name:"overviewUrl",type:{kind:"SCALAR",name:"String",ofType:null},args:[]},{name:"tags",type:{kind:"LIST",ofType:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"String",ofType:null}}},args:[]},{name:"relevanceScore",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"Int",ofType:null}},args:[]},{name:"lastIndexed",type:{kind:"SCALAR",name:"Datetime",ofType:null},args:[]},{name:"snsNotificationArn",type:{kind:"SCALAR",name:"String",ofType:null},args:[]},{name:"scannerParallelShardsDepth",type:{kind:"SCALAR",name:"Int",ofType:null},args:[]},{name:"skipMetaDataIndexing",type:{kind:"SCALAR",name:"Boolean",ofType:null},args:[]},{name:"fileExtensionsToIndex",type:{kind:"LIST",ofType:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"String",ofType:null}}},args:[]},{name:"indexContentBytes",type:{kind:"SCALAR",name:"Int",ofType:null},args:[]},{name:"associatedPolicies",type:{kind:"NON_NULL",ofType:{kind:"LIST",ofType:{kind:"NON_NULL",ofType:{kind:"OBJECT",name:"PolicyBucketPermission",ofType:null}}}},args:[]},{name:"associatedRoles",type:{kind:"NON_NULL",ofType:{kind:"LIST",ofType:{kind:"NON_NULL",ofType:{kind:"OBJECT",name:"RoleBucketPermission",ofType:null}}}},args:[]},{name:"collaborators",type:{kind:"NON_NULL",ofType:{kind:"LIST",ofType:{kind:"NON_NULL",ofType:{kind:"OBJECT",name:"CollaboratorBucketConnection",ofType:null}}}},args:[]}],interfaces:[]},{kind:"OBJECT",name:"BucketDoesNotExist",fields:[{name:"_",type:{kind:"SCALAR",name:"Boolean",ofType:null},args:[]}],interfaces:[]},{kind:"OBJECT",name:"BucketFileExtensionsToIndexInvalid",fields:[{name:"_",type:{kind:"SCALAR",name:"Boolean",ofType:null},args:[]}],interfaces:[]},{kind:"OBJECT",name:"BucketIndexContentBytesInvalid",fields:[{name:"_",type:{kind:"SCALAR",name:"Boolean",ofType:null},args:[]}],interfaces:[]},{kind:"OBJECT",name:"BucketNotFound",fields:[{name:"_",type:{kind:"SCALAR",name:"Boolean",ofType:null},args:[]}],interfaces:[]},{kind:"INTERFACE",name:"BucketPermission",fields:[{name:"bucket",type:{kind:"NON_NULL",ofType:{kind:"OBJECT",name:"BucketConfig",ofType:null}},args:[]},{name:"level",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"Any"}},args:[]}],interfaces:[],possibleTypes:[{kind:"OBJECT",name:"PolicyBucketPermission"},{kind:"OBJECT",name:"RoleBucketPermission"}]},{kind:"UNION",name:"BucketRemoveResult",possibleTypes:[{kind:"OBJECT",name:"BucketRemoveSuccess"},{kind:"OBJECT",name:"BucketNotFound"},{kind:"OBJECT",name:"IndexingInProgress"}]},{kind:"OBJECT",name:"BucketRemoveSuccess",fields:[{name:"_",type:{kind:"SCALAR",name:"Boolean",ofType:null},args:[]}],interfaces:[]},{kind:"UNION",name:"BucketUpdateResult",possibleTypes:[{kind:"OBJECT",name:"BucketUpdateSuccess"},{kind:"OBJECT",name:"BucketFileExtensionsToIndexInvalid"},{kind:"OBJECT",name:"BucketIndexContentBytesInvalid"},{kind:"OBJECT",name:"BucketNotFound"},{kind:"OBJECT",name:"NotificationConfigurationError"},{kind:"OBJECT",name:"NotificationTopicNotFound"},{kind:"OBJECT",name:"SnsInvalid"}]},{kind:"OBJECT",name:"BucketUpdateSuccess",fields:[{name:"bucketConfig",type:{kind:"NON_NULL",ofType:{kind:"OBJECT",name:"BucketConfig",ofType:null}},args:[]}],interfaces:[]},{kind:"OBJECT",name:"Canary",fields:[{name:"name",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"String",ofType:null}},args:[]},{name:"region",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"String",ofType:null}},args:[]},{name:"group",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"String",ofType:null}},args:[]},{name:"title",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"String",ofType:null}},args:[]},{name:"description",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"String",ofType:null}},args:[]},{name:"schedule",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"String",ofType:null}},args:[]},{name:"ok",type:{kind:"SCALAR",name:"Boolean",ofType:null},args:[]},{name:"lastRun",type:{kind:"SCALAR",name:"Datetime",ofType:null},args:[]}],interfaces:[]},{kind:"OBJECT",name:"Collaborator",fields:[{name:"email",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"String",ofType:null}},args:[]},{name:"username",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"String",ofType:null}},args:[]}],interfaces:[]},{kind:"OBJECT",name:"CollaboratorBucketConnection",fields:[{name:"collaborator",type:{kind:"NON_NULL",ofType:{kind:"OBJECT",name:"Collaborator",ofType:null}},args:[]},{name:"permissionLevel",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"Any"}},args:[]}],interfaces:[]},{kind:"OBJECT",name:"Config",fields:[{name:"contentIndexingSettings",type:{kind:"NON_NULL",ofType:{kind:"OBJECT",name:"ContentIndexingSettings",ofType:null}},args:[]}],interfaces:[]},{kind:"OBJECT",name:"ContentIndexingSettings",fields:[{name:"extensions",type:{kind:"NON_NULL",ofType:{kind:"LIST",ofType:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"String",ofType:null}}}},args:[]},{name:"bytesDefault",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"Int",ofType:null}},args:[]},{name:"bytesMin",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"Int",ofType:null}},args:[]},{name:"bytesMax",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"Int",ofType:null}},args:[]}],interfaces:[]},{kind:"SCALAR",name:"Datetime"},{kind:"OBJECT",name:"IndexingInProgress",fields:[{name:"_",type:{kind:"SCALAR",name:"Boolean",ofType:null},args:[]}],interfaces:[]},{kind:"OBJECT",name:"InputError",fields:[{name:"path",type:{kind:"SCALAR",name:"String",ofType:null},args:[]},{name:"message",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"String",ofType:null}},args:[]},{name:"name",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"String",ofType:null}},args:[]},{name:"context",type:{kind:"SCALAR",name:"JsonRecord",ofType:null},args:[]}],interfaces:[]},{kind:"OBJECT",name:"InsufficientPermissions",fields:[{name:"_",type:{kind:"SCALAR",name:"Boolean",ofType:null},args:[]}],interfaces:[]},{kind:"OBJECT",name:"InvalidInput",fields:[{name:"errors",type:{kind:"NON_NULL",ofType:{kind:"LIST",ofType:{kind:"NON_NULL",ofType:{kind:"OBJECT",name:"InputError",ofType:null}}}},args:[]}],interfaces:[]},{kind:"SCALAR",name:"Json"},{kind:"SCALAR",name:"JsonRecord"},{kind:"SCALAR",name:"ID"},{kind:"OBJECT",name:"ManagedRole",fields:[{name:"id",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"ID",ofType:null}},args:[]},{name:"name",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"String",ofType:null}},args:[]},{name:"arn",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"String",ofType:null}},args:[]},{name:"policies",type:{kind:"NON_NULL",ofType:{kind:"LIST",ofType:{kind:"NON_NULL",ofType:{kind:"OBJECT",name:"Policy",ofType:null}}}},args:[]},{name:"permissions",type:{kind:"NON_NULL",ofType:{kind:"LIST",ofType:{kind:"NON_NULL",ofType:{kind:"OBJECT",name:"RoleBucketPermission",ofType:null}}}},args:[]}],interfaces:[]},{kind:"OBJECT",name:"Mutation",fields:[{name:"packageConstruct",type:{kind:"NON_NULL",ofType:{kind:"UNION",name:"PackageConstructResult",ofType:null}},args:[{name:"params",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"Any"}}},{name:"src",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"Any"}}}]},{name:"packagePromote",type:{kind:"NON_NULL",ofType:{kind:"UNION",name:"PackagePromoteResult",ofType:null}},args:[{name:"params",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"Any"}}},{name:"src",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"Any"}}}]},{name:"packageFromFolder",type:{kind:"NON_NULL",ofType:{kind:"UNION",name:"PackageFromFolderResult",ofType:null}},args:[{name:"params",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"Any"}}},{name:"src",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"Any"}}}]},{name:"packageRevisionDelete",type:{kind:"NON_NULL",ofType:{kind:"UNION",name:"PackageRevisionDeleteResult",ofType:null}},args:[{name:"bucket",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"String",ofType:null}}},{name:"name",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"String",ofType:null}}},{name:"hash",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"String",ofType:null}}}]},{name:"bucketAdd",type:{kind:"NON_NULL",ofType:{kind:"UNION",name:"BucketAddResult",ofType:null}},args:[{name:"input",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"Any"}}}]},{name:"bucketUpdate",type:{kind:"NON_NULL",ofType:{kind:"UNION",name:"BucketUpdateResult",ofType:null}},args:[{name:"name",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"String",ofType:null}}},{name:"input",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"Any"}}}]},{name:"bucketRemove",type:{kind:"NON_NULL",ofType:{kind:"UNION",name:"BucketRemoveResult",ofType:null}},args:[{name:"name",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"String",ofType:null}}}]},{name:"policyCreateManaged",type:{kind:"NON_NULL",ofType:{kind:"UNION",name:"PolicyResult",ofType:null}},args:[{name:"input",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"Any"}}}]},{name:"policyCreateUnmanaged",type:{kind:"NON_NULL",ofType:{kind:"UNION",name:"PolicyResult",ofType:null}},args:[{name:"input",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"Any"}}}]},{name:"policyUpdateManaged",type:{kind:"NON_NULL",ofType:{kind:"UNION",name:"PolicyResult",ofType:null}},args:[{name:"id",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"ID",ofType:null}}},{name:"input",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"Any"}}}]},{name:"policyUpdateUnmanaged",type:{kind:"NON_NULL",ofType:{kind:"UNION",name:"PolicyResult",ofType:null}},args:[{name:"id",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"ID",ofType:null}}},{name:"input",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"Any"}}}]},{name:"policyDelete",type:{kind:"NON_NULL",ofType:{kind:"UNION",name:"PolicyDeleteResult",ofType:null}},args:[{name:"id",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"ID",ofType:null}}}]},{name:"roleCreateManaged",type:{kind:"NON_NULL",ofType:{kind:"UNION",name:"RoleCreateResult",ofType:null}},args:[{name:"input",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"Any"}}}]},{name:"roleCreateUnmanaged",type:{kind:"NON_NULL",ofType:{kind:"UNION",name:"RoleCreateResult",ofType:null}},args:[{name:"input",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"Any"}}}]},{name:"roleUpdateManaged",type:{kind:"NON_NULL",ofType:{kind:"UNION",name:"RoleUpdateResult",ofType:null}},args:[{name:"id",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"ID",ofType:null}}},{name:"input",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"Any"}}}]},{name:"roleUpdateUnmanaged",type:{kind:"NON_NULL",ofType:{kind:"UNION",name:"RoleUpdateResult",ofType:null}},args:[{name:"id",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"ID",ofType:null}}},{name:"input",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"Any"}}}]},{name:"roleDelete",type:{kind:"NON_NULL",ofType:{kind:"UNION",name:"RoleDeleteResult",ofType:null}},args:[{name:"id",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"ID",ofType:null}}}]},{name:"roleSetDefault",type:{kind:"NON_NULL",ofType:{kind:"UNION",name:"RoleSetDefaultResult",ofType:null}},args:[{name:"id",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"ID",ofType:null}}}]}],interfaces:[]},{kind:"OBJECT",name:"NotificationConfigurationError",fields:[{name:"_",type:{kind:"SCALAR",name:"Boolean",ofType:null},args:[]}],interfaces:[]},{kind:"OBJECT",name:"NotificationTopicNotFound",fields:[{name:"_",type:{kind:"SCALAR",name:"Boolean",ofType:null},args:[]}],interfaces:[]},{kind:"OBJECT",name:"Ok",fields:[{name:"_",type:{kind:"SCALAR",name:"Boolean",ofType:null},args:[]}],interfaces:[]},{kind:"OBJECT",name:"OperationError",fields:[{name:"message",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"String",ofType:null}},args:[]},{name:"name",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"String",ofType:null}},args:[]},{name:"context",type:{kind:"SCALAR",name:"JsonRecord",ofType:null},args:[]}],interfaces:[]},{kind:"OBJECT",name:"Package",fields:[{name:"bucket",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"String",ofType:null}},args:[]},{name:"name",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"String",ofType:null}},args:[]},{name:"modified",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"Datetime",ofType:null}},args:[]},{name:"revisions",type:{kind:"NON_NULL",ofType:{kind:"OBJECT",name:"PackageRevisionList",ofType:null}},args:[]},{name:"revision",type:{kind:"OBJECT",name:"PackageRevision",ofType:null},args:[{name:"hashOrTag",type:{kind:"SCALAR",name:"String",ofType:null}}]},{name:"accessCounts",type:{kind:"OBJECT",name:"AccessCounts",ofType:null},args:[{name:"window",type:{kind:"SCALAR",name:"Int",ofType:null}}]}],interfaces:[]},{kind:"SCALAR",name:"Float"},{kind:"UNION",name:"PackageConstructResult",possibleTypes:[{kind:"OBJECT",name:"PackagePushSuccess"},{kind:"OBJECT",name:"InvalidInput"},{kind:"OBJECT",name:"OperationError"}]},{kind:"SCALAR",name:"PackageContentsFlatMap"},{kind:"OBJECT",name:"PackageDir",fields:[{name:"path",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"String",ofType:null}},args:[]},{name:"metadata",type:{kind:"SCALAR",name:"JsonRecord",ofType:null},args:[]},{name:"size",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"Float",ofType:null}},args:[]},{name:"children",type:{kind:"NON_NULL",ofType:{kind:"LIST",ofType:{kind:"NON_NULL",ofType:{kind:"UNION",name:"PackageEntry",ofType:null}}}},args:[]}],interfaces:[]},{kind:"UNION",name:"PackageEntry",possibleTypes:[{kind:"OBJECT",name:"PackageFile"},{kind:"OBJECT",name:"PackageDir"}]},{kind:"OBJECT",name:"PackageFile",fields:[{name:"path",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"String",ofType:null}},args:[]},{name:"metadata",type:{kind:"SCALAR",name:"JsonRecord",ofType:null},args:[]},{name:"size",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"Float",ofType:null}},args:[]},{name:"physicalKey",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"String",ofType:null}},args:[]}],interfaces:[]},{kind:"UNION",name:"PackageFromFolderResult",possibleTypes:[{kind:"OBJECT",name:"PackagePushSuccess"},{kind:"OBJECT",name:"InvalidInput"},{kind:"OBJECT",name:"OperationError"}]},{kind:"OBJECT",name:"PackageList",fields:[{name:"total",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"Int",ofType:null}},args:[]},{name:"page",type:{kind:"NON_NULL",ofType:{kind:"LIST",ofType:{kind:"NON_NULL",ofType:{kind:"OBJECT",name:"Package",ofType:null}}}},args:[{name:"number",type:{kind:"SCALAR",name:"Int",ofType:null}},{name:"perPage",type:{kind:"SCALAR",name:"Int",ofType:null}},{name:"order",type:{kind:"SCALAR",name:"Any"}}]}],interfaces:[]},{kind:"UNION",name:"PackagePromoteResult",possibleTypes:[{kind:"OBJECT",name:"PackagePushSuccess"},{kind:"OBJECT",name:"InvalidInput"},{kind:"OBJECT",name:"OperationError"}]},{kind:"OBJECT",name:"PackagePushSuccess",fields:[{name:"package",type:{kind:"NON_NULL",ofType:{kind:"OBJECT",name:"Package",ofType:null}},args:[]},{name:"revision",type:{kind:"NON_NULL",ofType:{kind:"OBJECT",name:"PackageRevision",ofType:null}},args:[]}],interfaces:[]},{kind:"OBJECT",name:"PackageRevision",fields:[{name:"hash",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"String",ofType:null}},args:[]},{name:"modified",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"Datetime",ofType:null}},args:[]},{name:"message",type:{kind:"SCALAR",name:"String",ofType:null},args:[]},{name:"metadata",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"JsonRecord",ofType:null}},args:[]},{name:"userMeta",type:{kind:"SCALAR",name:"JsonRecord",ofType:null},args:[]},{name:"workflow",type:{kind:"OBJECT",name:"PackageWorkflow",ofType:null},args:[]},{name:"totalEntries",type:{kind:"SCALAR",name:"Int",ofType:null},args:[]},{name:"totalBytes",type:{kind:"SCALAR",name:"Float",ofType:null},args:[]},{name:"dir",type:{kind:"OBJECT",name:"PackageDir",ofType:null},args:[{name:"path",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"String",ofType:null}}}]},{name:"file",type:{kind:"OBJECT",name:"PackageFile",ofType:null},args:[{name:"path",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"String",ofType:null}}}]},{name:"accessCounts",type:{kind:"OBJECT",name:"AccessCounts",ofType:null},args:[{name:"window",type:{kind:"SCALAR",name:"Int",ofType:null}}]},{name:"contentsFlatMap",type:{kind:"SCALAR",name:"PackageContentsFlatMap",ofType:null},args:[{name:"max",type:{kind:"SCALAR",name:"Int",ofType:null}}]}],interfaces:[]},{kind:"UNION",name:"PackageRevisionDeleteResult",possibleTypes:[{kind:"OBJECT",name:"PackageRevisionDeleteSuccess"},{kind:"OBJECT",name:"OperationError"}]},{kind:"OBJECT",name:"PackageRevisionDeleteSuccess",fields:[{name:"_",type:{kind:"SCALAR",name:"Boolean",ofType:null},args:[]}],interfaces:[]},{kind:"OBJECT",name:"PackageRevisionList",fields:[{name:"total",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"Int",ofType:null}},args:[]},{name:"page",type:{kind:"NON_NULL",ofType:{kind:"LIST",ofType:{kind:"NON_NULL",ofType:{kind:"OBJECT",name:"PackageRevision",ofType:null}}}},args:[{name:"number",type:{kind:"SCALAR",name:"Int",ofType:null}},{name:"perPage",type:{kind:"SCALAR",name:"Int",ofType:null}}]}],interfaces:[]},{kind:"OBJECT",name:"PackageWorkflow",fields:[{name:"config",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"String",ofType:null}},args:[]},{name:"id",type:{kind:"SCALAR",name:"String",ofType:null},args:[]}],interfaces:[]},{kind:"OBJECT",name:"Policy",fields:[{name:"id",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"ID",ofType:null}},args:[]},{name:"title",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"String",ofType:null}},args:[]},{name:"arn",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"String",ofType:null}},args:[]},{name:"managed",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"Boolean",ofType:null}},args:[]},{name:"permissions",type:{kind:"NON_NULL",ofType:{kind:"LIST",ofType:{kind:"NON_NULL",ofType:{kind:"OBJECT",name:"PolicyBucketPermission",ofType:null}}}},args:[]},{name:"roles",type:{kind:"NON_NULL",ofType:{kind:"LIST",ofType:{kind:"NON_NULL",ofType:{kind:"OBJECT",name:"ManagedRole",ofType:null}}}},args:[]}],interfaces:[]},{kind:"OBJECT",name:"PolicyBucketPermission",fields:[{name:"policy",type:{kind:"NON_NULL",ofType:{kind:"OBJECT",name:"Policy",ofType:null}},args:[]},{name:"bucket",type:{kind:"NON_NULL",ofType:{kind:"OBJECT",name:"BucketConfig",ofType:null}},args:[]},{name:"level",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"Any"}},args:[]}],interfaces:[{kind:"INTERFACE",name:"BucketPermission"}]},{kind:"UNION",name:"PolicyDeleteResult",possibleTypes:[{kind:"OBJECT",name:"Ok"},{kind:"OBJECT",name:"InvalidInput"},{kind:"OBJECT",name:"OperationError"}]},{kind:"UNION",name:"PolicyResult",possibleTypes:[{kind:"OBJECT",name:"Policy"},{kind:"OBJECT",name:"InvalidInput"},{kind:"OBJECT",name:"OperationError"}]},{kind:"OBJECT",name:"Query",fields:[{name:"config",type:{kind:"NON_NULL",ofType:{kind:"OBJECT",name:"Config",ofType:null}},args:[]},{name:"bucketConfigs",type:{kind:"NON_NULL",ofType:{kind:"LIST",ofType:{kind:"NON_NULL",ofType:{kind:"OBJECT",name:"BucketConfig",ofType:null}}}},args:[]},{name:"bucketConfig",type:{kind:"OBJECT",name:"BucketConfig",ofType:null},args:[{name:"name",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"String",ofType:null}}}]},{name:"potentialCollaborators",type:{kind:"NON_NULL",ofType:{kind:"LIST",ofType:{kind:"NON_NULL",ofType:{kind:"OBJECT",name:"Collaborator",ofType:null}}}},args:[]},{name:"packages",type:{kind:"OBJECT",name:"PackageList",ofType:null},args:[{name:"bucket",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"String",ofType:null}}},{name:"filter",type:{kind:"SCALAR",name:"String",ofType:null}}]},{name:"package",type:{kind:"OBJECT",name:"Package",ofType:null},args:[{name:"bucket",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"String",ofType:null}}},{name:"name",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"String",ofType:null}}}]},{name:"policies",type:{kind:"NON_NULL",ofType:{kind:"LIST",ofType:{kind:"NON_NULL",ofType:{kind:"OBJECT",name:"Policy",ofType:null}}}},args:[]},{name:"policy",type:{kind:"OBJECT",name:"Policy",ofType:null},args:[{name:"id",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"ID",ofType:null}}}]},{name:"roles",type:{kind:"NON_NULL",ofType:{kind:"LIST",ofType:{kind:"NON_NULL",ofType:{kind:"UNION",name:"Role",ofType:null}}}},args:[]},{name:"role",type:{kind:"UNION",name:"Role",ofType:null},args:[{name:"id",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"ID",ofType:null}}}]},{name:"defaultRole",type:{kind:"UNION",name:"Role",ofType:null},args:[]},{name:"status",type:{kind:"NON_NULL",ofType:{kind:"UNION",name:"StatusResult",ofType:null}},args:[]}],interfaces:[]},{kind:"UNION",name:"Role",possibleTypes:[{kind:"OBJECT",name:"UnmanagedRole"},{kind:"OBJECT",name:"ManagedRole"}]},{kind:"OBJECT",name:"RoleAssigned",fields:[{name:"_",type:{kind:"SCALAR",name:"Boolean",ofType:null},args:[]}],interfaces:[]},{kind:"OBJECT",name:"RoleBucketPermission",fields:[{name:"role",type:{kind:"NON_NULL",ofType:{kind:"UNION",name:"Role",ofType:null}},args:[]},{name:"bucket",type:{kind:"NON_NULL",ofType:{kind:"OBJECT",name:"BucketConfig",ofType:null}},args:[]},{name:"level",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"Any"}},args:[]}],interfaces:[{kind:"INTERFACE",name:"BucketPermission"}]},{kind:"UNION",name:"RoleCreateResult",possibleTypes:[{kind:"OBJECT",name:"RoleCreateSuccess"},{kind:"OBJECT",name:"RoleNameReserved"},{kind:"OBJECT",name:"RoleNameExists"},{kind:"OBJECT",name:"RoleNameInvalid"},{kind:"OBJECT",name:"RoleHasTooManyPoliciesToAttach"}]},{kind:"OBJECT",name:"RoleCreateSuccess",fields:[{name:"role",type:{kind:"NON_NULL",ofType:{kind:"UNION",name:"Role",ofType:null}},args:[]}],interfaces:[]},{kind:"UNION",name:"RoleDeleteResult",possibleTypes:[{kind:"OBJECT",name:"RoleDeleteSuccess"},{kind:"OBJECT",name:"RoleDoesNotExist"},{kind:"OBJECT",name:"RoleNameReserved"},{kind:"OBJECT",name:"RoleAssigned"}]},{kind:"OBJECT",name:"RoleDeleteSuccess",fields:[{name:"_",type:{kind:"SCALAR",name:"Boolean",ofType:null},args:[]}],interfaces:[]},{kind:"OBJECT",name:"RoleDoesNotExist",fields:[{name:"_",type:{kind:"SCALAR",name:"Boolean",ofType:null},args:[]}],interfaces:[]},{kind:"OBJECT",name:"RoleHasTooManyPoliciesToAttach",fields:[{name:"_",type:{kind:"SCALAR",name:"Boolean",ofType:null},args:[]}],interfaces:[]},{kind:"OBJECT",name:"RoleIsManaged",fields:[{name:"_",type:{kind:"SCALAR",name:"Boolean",ofType:null},args:[]}],interfaces:[]},{kind:"OBJECT",name:"RoleIsUnmanaged",fields:[{name:"_",type:{kind:"SCALAR",name:"Boolean",ofType:null},args:[]}],interfaces:[]},{kind:"OBJECT",name:"RoleNameExists",fields:[{name:"_",type:{kind:"SCALAR",name:"Boolean",ofType:null},args:[]}],interfaces:[]},{kind:"OBJECT",name:"RoleNameInvalid",fields:[{name:"_",type:{kind:"SCALAR",name:"Boolean",ofType:null},args:[]}],interfaces:[]},{kind:"OBJECT",name:"RoleNameReserved",fields:[{name:"_",type:{kind:"SCALAR",name:"Boolean",ofType:null},args:[]}],interfaces:[]},{kind:"UNION",name:"RoleSetDefaultResult",possibleTypes:[{kind:"OBJECT",name:"RoleSetDefaultSuccess"},{kind:"OBJECT",name:"RoleDoesNotExist"}]},{kind:"OBJECT",name:"RoleSetDefaultSuccess",fields:[{name:"role",type:{kind:"NON_NULL",ofType:{kind:"UNION",name:"Role",ofType:null}},args:[]}],interfaces:[]},{kind:"UNION",name:"RoleUpdateResult",possibleTypes:[{kind:"OBJECT",name:"RoleUpdateSuccess"},{kind:"OBJECT",name:"RoleNameReserved"},{kind:"OBJECT",name:"RoleNameExists"},{kind:"OBJECT",name:"RoleNameInvalid"},{kind:"OBJECT",name:"RoleIsManaged"},{kind:"OBJECT",name:"RoleIsUnmanaged"},{kind:"OBJECT",name:"RoleHasTooManyPoliciesToAttach"}]},{kind:"OBJECT",name:"RoleUpdateSuccess",fields:[{name:"role",type:{kind:"NON_NULL",ofType:{kind:"UNION",name:"Role",ofType:null}},args:[]}],interfaces:[]},{kind:"SCALAR",name:"S3ObjectLocation"},{kind:"OBJECT",name:"SnsInvalid",fields:[{name:"_",type:{kind:"SCALAR",name:"Boolean",ofType:null},args:[]}],interfaces:[]},{kind:"OBJECT",name:"Status",fields:[{name:"canaries",type:{kind:"NON_NULL",ofType:{kind:"LIST",ofType:{kind:"NON_NULL",ofType:{kind:"OBJECT",name:"Canary",ofType:null}}}},args:[]},{name:"latestStats",type:{kind:"NON_NULL",ofType:{kind:"OBJECT",name:"TestStats",ofType:null}},args:[]},{name:"stats",type:{kind:"NON_NULL",ofType:{kind:"OBJECT",name:"TestStatsTimeSeries",ofType:null}},args:[{name:"window",type:{kind:"SCALAR",name:"Int",ofType:null}}]},{name:"reports",type:{kind:"NON_NULL",ofType:{kind:"OBJECT",name:"StatusReportList",ofType:null}},args:[{name:"filter",type:{kind:"SCALAR",name:"Any"}}]},{name:"reportsBucket",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"String",ofType:null}},args:[]}],interfaces:[]},{kind:"OBJECT",name:"StatusReport",fields:[{name:"timestamp",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"Datetime",ofType:null}},args:[]},{name:"renderedReportLocation",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"S3ObjectLocation",ofType:null}},args:[]}],interfaces:[]},{kind:"OBJECT",name:"StatusReportList",fields:[{name:"total",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"Int",ofType:null}},args:[]},{name:"page",type:{kind:"NON_NULL",ofType:{kind:"LIST",ofType:{kind:"NON_NULL",ofType:{kind:"OBJECT",name:"StatusReport",ofType:null}}}},args:[{name:"number",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"Int",ofType:null}}},{name:"perPage",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"Int",ofType:null}}},{name:"order",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"Any"}}}]}],interfaces:[]},{kind:"UNION",name:"StatusResult",possibleTypes:[{kind:"OBJECT",name:"Status"},{kind:"OBJECT",name:"Unavailable"}]},{kind:"OBJECT",name:"TestStats",fields:[{name:"passed",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"Int",ofType:null}},args:[]},{name:"failed",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"Int",ofType:null}},args:[]},{name:"running",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"Int",ofType:null}},args:[]}],interfaces:[]},{kind:"OBJECT",name:"TestStatsTimeSeries",fields:[{name:"datetimes",type:{kind:"NON_NULL",ofType:{kind:"LIST",ofType:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"Datetime",ofType:null}}}},args:[]},{name:"passed",type:{kind:"NON_NULL",ofType:{kind:"LIST",ofType:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"Int",ofType:null}}}},args:[]},{name:"failed",type:{kind:"NON_NULL",ofType:{kind:"LIST",ofType:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"Int",ofType:null}}}},args:[]}],interfaces:[]},{kind:"OBJECT",name:"Unavailable",fields:[{name:"_",type:{kind:"SCALAR",name:"Boolean",ofType:null},args:[]}],interfaces:[]},{kind:"OBJECT",name:"UnmanagedRole",fields:[{name:"id",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"ID",ofType:null}},args:[]},{name:"name",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"String",ofType:null}},args:[]},{name:"arn",type:{kind:"NON_NULL",ofType:{kind:"SCALAR",name:"String",ofType:null}},args:[]}],interfaces:[]},{kind:"SCALAR",name:"Any"}],directives:[]}};var N=t(52164),T=t(47768),L=t(63496),h=t(17228),E=t(84366),v=t(147);var C,S,A,O,R,b,_,U,w,B=t(32248),I=[],Z=p.Ps(C||(C=(0,a.cy)(["{ bucketConfigs { name } }"],["{ bucketConfigs { name } }"]))),J=p.Ps(S||(S=(0,a.cy)(["{ policies { id } }"],["{ policies { id } }"]))),x=p.Ps(A||(A=(0,a.cy)(["{ roles { id } }"],["{ roles { id } }"]))),P=p.Ps(O||(O=(0,a.cy)(["{ defaultRole { id } }"],["{ defaultRole { id } }"])));function D(e,n){var t,a,r;if("PackagePushSuccess"===e.__typename){for(var i=e.package,o=i.bucket,s=i.name,l=n.resolve({__typename:"Package",bucket:o,name:s},"revisions"),u=0,c=n.inspectFields(l);u<c.length;u++){"page"==(p=c[u]).fieldName&&(1!==(null===(t=p.arguments)||void 0===t?void 0:t.number)||5!==(null===(a=p.arguments)||void 0===a?void 0:a.perPage)&&30!==(null===(r=p.arguments)||void 0===r?void 0:r.perPage))&&n.invalidate(l,p.fieldKey)}n.link("Query","package",{bucket:o,name:s},{__typename:"Package",bucket:o,name:s});for(var d=0,m=n.inspectFields("Query");d<m.length;d++){var p;"packages"==(p=m[d]).fieldName&&n.invalidate("Query",p.fieldKey)}}}function F(e,n){if(e.roles)for(var t=r.Z("id",e.roles),o=n.readQuery({query:p.Ps(R||(R=(0,a.cy)(["{ roles { id ... on ManagedRole { policies { id } } } }"],["{ roles { id ... on ManagedRole { policies { id } } } }"])))}),s=0,l=(null==o?void 0:o.roles)||[];s<l.length;s++){var u=l[s];if(u.policies)!!u.policies.find(i.Z("id",e.id))!==t.includes(u.id)&&(n.invalidate(u,"policies"),n.invalidate(u,"permissions"))}}function M(e){var n=e.children,t=B.D$().registryUrl,C="".concat(t,"/graphql/"),S=m.v9(N.sessionId),A=function(){var e=this,n=m.I0(),t=d.useCallback((function(){var e=(0,h.Z)(),t=e.resolver,a=e.promise;return n(E.getTokens(t)),a}),[n]),r=d.useCallback((function(n){return(0,a.mG)(e,void 0,void 0,(function(){var e,r,i,o,s,l;return(0,a.Jh)(this,(function(u){switch(u.label){case 0:return e=n.context,!0!==(r="boolean"==typeof e.auth?e.auth:T.Z(null===(l=e.auth)||void 0===l?void 0:l.tokens,!0))?[3,2]:[4,t()];case 1:return i=u.sent(),[3,3];case 2:i=r||void 0,u.label=3;case 3:return o=(c=i)&&{Authorization:c.token},s=function(e){return"function"==typeof e.context.fetchOptions?e.context.fetchOptions():e.context.fetchOptions||{}}(n),[2,p.vx(n.kind,n,(0,a.pi)((0,a.pi)({},n.context),{fetchOptions:(0,a.pi)((0,a.pi)({},s),{headers:(0,a.pi)((0,a.pi)({},s.headers),o)})}))]}var c}))}))}),[t]),i=d.useCallback((function(t){return(0,a.mG)(e,void 0,void 0,(function(){var e,r;return(0,a.Jh)(this,(function(a){return t.error&&(("boolean"==typeof(e=t.operation.context).auth?e.auth:T.Z(null===(r=e.auth)||void 0===r?void 0:r.handleInvalidToken,!0))&&"[GraphQL] Token invalid."===t.error.message)?(n(E.authLost(new v.li({originalError:t.error}))),[2,new Promise((function(){}))]):[2,t]}))}))}),[n]);return d.useCallback((function(e){var n=e.forward;return function(e){return L.zG(e,L.zg((function(e){return L.p4(r(e))})),n,L.zg((function(e){return L.p4(i(e))})))}}),[r,i])}(),O=d.useMemo((function(){return(0,y.Z)({schema:g,scalars:{Datetime:function(e){return new Date(e)}}})}),[]),R=d.useMemo((function(){return k.HG({schema:g,keys:{AccessCountForDate:function(){return null},AccessCounts:function(){return null},BucketConfig:function(e){return e.name},Canary:function(e){return e.name},Collaborator:function(e){return e.username},Config:function(){return null},ContentIndexingSettings:function(){return null},Package:function(e){return e.bucket&&e.name?"".concat(e.bucket,"/").concat(e.name):null},PackageDir:function(){return null},PackageFile:function(){return null},PackageList:function(){return null},PackageRevision:function(e){var n;return e.hash?"".concat(e.hash,":").concat((null===(n=e.modified)||void 0===n?void 0:n.valueOf())||""):null},PackageRevisionList:function(){return null},PackageWorkflow:function(){return null},PolicyBucketPermission:function(e){var n,t;return(null===(n=e.bucket)||void 0===n?void 0:n.name)&&(null===(t=e.policy)||void 0===t?void 0:t.id)?"".concat(e.bucket.name,"/").concat(e.policy.id):null},RoleBucketPermission:function(e){var n,t;return(null===(n=e.bucket)||void 0===n?void 0:n.name)&&(null===(t=e.role)||void 0===t?void 0:t.id)?"".concat(e.bucket.name,"/").concat(e.role.id):null},Status:function(){return null},StatusReport:function(e){return"string"==typeof e.timestamp?e.timestamp:null},StatusReportList:function(){return null},TestStats:function(){return null},TestStatsTimeSeries:function(){return null}},updates:{Mutation:{bucketAdd:function(e,n,t){var a;"BucketAddSuccess"===(null===(a=e.bucketAdd)||void 0===a?void 0:a.__typename)&&(t.invalidate({__typename:"Query"},"roles"),t.updateQuery({query:Z},o.Z({bucketConfigs:s.Z(e.bucketAdd.bucketConfig)})))},bucketRemove:function(e,n,t){var a;"BucketRemoveSuccess"===(null===(a=e.bucketRemove)||void 0===a?void 0:a.__typename)&&(t.invalidate({__typename:"Query"},"roles"),t.updateQuery({query:Z},o.Z({bucketConfigs:l.Z(i.Z("name",n.name))})))},policyCreateManaged:function(e,n,t){var a=e.policyCreateManaged;"Policy"===(null==a?void 0:a.__typename)&&t.updateQuery({query:J},o.Z({policies:s.Z(a)}))},policyCreateUnmanaged:function(e,n,t){var a=e.policyCreateUnmanaged;"Policy"===(null==a?void 0:a.__typename)&&t.updateQuery({query:J},o.Z({policies:s.Z(a)}))},policyUpdateManaged:function(e,n,t){var a=e.policyUpdateManaged;"Policy"===(null==a?void 0:a.__typename)&&F(a,t)},policyUpdateUnmanaged:function(e,n,t){var a=e.policyUpdateUnmanaged;"Policy"===(null==a?void 0:a.__typename)&&F(a,t)},policyDelete:function(e,n,t){var r;"Ok"===(null===(r=e.policyDelete)||void 0===r?void 0:r.__typename)&&(t.updateQuery({query:J},o.Z({policies:l.Z(i.Z("id",n.id))})),t.updateQuery({query:p.Ps(b||(b=(0,a.cy)(["{ roles { id ... on ManagedRole { policies { id } } } }"],["{ roles { id ... on ManagedRole { policies { id } } } }"])))},o.Z({roles:u.Z(o.Z({policies:l.Z(i.Z("id",n.id))}))})))},roleCreateManaged:function(e,n,t){var a=e.roleCreateManaged;"RoleCreateSuccess"===(null==a?void 0:a.__typename)&&t.updateQuery({query:x},o.Z({roles:s.Z(a.role)}))},roleCreateUnmanaged:function(e,n,t){var a=e.roleCreateUnmanaged;"RoleCreateSuccess"===(null==a?void 0:a.__typename)&&t.updateQuery({query:x},o.Z({roles:s.Z(a.role)}))},roleUpdateManaged:function(e,n,t){var s=e.roleUpdateManaged;if("RoleUpdateSuccess"===(null==s?void 0:s.__typename)){var l=s.role;if(l.policies){var c=r.Z("id",l.policies);t.updateQuery({query:p.Ps(_||(_=(0,a.cy)(["{ policies { id roles { id } } }"],["{ policies { id roles { id } } }"])))},o.Z({policies:u.Z((function(e){if(!e.roles)return e;var n=!!e.roles.find(i.Z("id",l.id)),t=c.includes(e.id);return n===t?e:(0,a.pi)((0,a.pi)({},e),{roles:t?(0,a.ev)((0,a.ev)([],e.roles,!0),[l],!1):e.roles.filter((function(e){return e.id!==l.id}))})}))}))}}},roleDelete:function(e,n,t){var r,s=null===(r=e.roleDelete)||void 0===r?void 0:r.__typename;"RoleDeleteSuccess"!==s&&"RoleDoesNotExist"!==s||(t.updateQuery({query:p.Ps(U||(U=(0,a.cy)(["{ policies { id roles { id } } }"],["{ policies { id roles { id } } }"])))},o.Z({policies:u.Z(o.Z({roles:l.Z(i.Z("id",n.id))}))})),t.updateQuery({query:p.Ps(w||(w=(0,a.cy)(["{ bucketConfigs { name associatedRoles { role { id } bucket { name } } } }"],["{ bucketConfigs { name associatedRoles { role { id } bucket { name } } } }"])))},o.Z({bucketConfigs:u.Z(o.Z({associatedRoles:l.Z(c.Z(["role","id"],n.id))}))})),t.updateQuery({query:x},o.Z({roles:l.Z(i.Z("id",n.id))})),t.updateQuery({query:P},(function(e){var t;return(null===(t=e.defaultRole)||void 0===t?void 0:t.id)===n.id?{defaultRole:null}:e})))},roleSetDefault:function(e,n,t){var a;if("RoleSetDefaultSuccess"===(null===(a=e.roleSetDefault)||void 0===a?void 0:a.__typename)){var r=e.roleSetDefault.role;t.updateQuery({query:P},(function(){return{defaultRole:{__typename:r.__typename,id:r.id}}}))}},packageRevisionDelete:function(e,n,t){var a=n.bucket,r=n.name,i=n.hash;"PackageRevisionDeleteSuccess"===e.packageRevisionDelete.__typename&&(t.invalidate({__typename:"PackageRevision",hash:i}),t.invalidate({__typename:"Package",bucket:a,name:r},"revisions"))},packageConstruct:function(e,n,t){D(e.packageConstruct,t)},packagePromote:function(e,n,t){D(e.packagePromote,t)},packageFromFolder:function(e,n,t){D(e.packageFromFolder,t)}}},optimistic:{bucketRemove:function(){return{__typename:"BucketRemoveSuccess"}},roleDelete:function(){return{__typename:"RoleDeleteSuccess"}},roleSetDefault:function(e){return{__typename:"RoleSetDefaultSuccess",role:{__typename:"ManagedRole",id:e.id}}}}})}),[S]),M=d.useMemo((function(){return p.eI({url:C,suspense:!0,exchanges:(0,a.ev)((0,a.ev)([],I,!0),[p.B5,O,R,A,p.Ek],!1)})}),[C,A,R,O]);return d.createElement(f.zt,{value:M},n)}},51259:(e,n,t)=>{"use strict";t.d(n,{Z:()=>d});var a=t(70655),r=t(45697),i=t.n(r),o=t(67294),s=t(49699),l=t(59574),u=(0,s.Z)("h1")({fontWeight:"lighter",opacity:.6}),c=function(e){var n=e.children,t=(0,a._T)(e,["children"]);return o.createElement(u,(0,a.pi)({},t),o.createElement(l.Z,null),n)};c.propTypes={children:i().node},c.defaultProps={children:" "};const d=c},36417:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>s});var a=t(67294),r=t(27502),i="support@quiltdata.io",o=r.e4("Activation Error");function s(){return a.createElement(o,null,a.createElement(r.v0,null,a.createElement(a.Fragment,null,"Something went wrong during account activation. We're here to help. Email us at ",a.createElement("a",{href:"mailto:".concat(i)},i))))}},17138:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>y});var a=t(67294),r=t(28216),i=t(282),o=t(49699),s=t(51259),l=t(6626),u=t(9961),c=t(17228),d=t(84366),m=t(27502),p=m.e4("Code"),f=(0,o.Z)("div")({overflowWrap:"break-word"});function y(){var e=a.useState(null),n=e[0],t=e[1],o=a.useCallback((function(){return(0,u.Z)(n)}),[n]),y=l.D$(),k=r.I0();return a.useEffect((function(){var e=(0,c.Z)();k((0,d.getCode)(e.resolver)),e.promise.then(t).catch((function(e){y("captureException",e),t(e)}))}),[k,y]),n instanceof Error?a.createElement(p,null,a.createElement(m.v0,null,"Something went wrong. Try again later.")):n?a.createElement(p,null,a.createElement(f,null,n),a.createElement(m.eX,null,a.createElement(i.Z,{color:"primary",variant:"contained",onClick:o},"Copy to clipboard"))):a.createElement(p,null,a.createElement(s.Z,null,"Getting the code"))}},35989:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>N});var a=t(70655),r=t(95142),i=t(67294),o=t(66688),s=t(28216),l=t(32248),u=t(69534),c=t(6626),d=t(70397),m=t(17228),p=t(31708),f=t(84366),y=t(147),k=t(27502),g=k.e4("Reset Password");function N(){var e=this,n=i.useState(!1),t=n[0],N=n[1],T=c.D$(),L=s.I0(),h=l.ZR(),E=u.D$().urls,v=i.useCallback((function(n){return(0,a.mG)(e,void 0,void 0,(function(){var e,t,i,o;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),e=(0,m.Z)(),L((0,f.resetPassword)(n.email,e.resolver)),[4,e.promise];case 1:return a.sent(),N(!0),[3,3];case 2:return(t=a.sent())instanceof y.sG?[2,(i={},i[r.Ck]="smtp",i)]:(T("captureException",t),[2,(o={},o[r.Ck]="unexpected",o)]);case 3:return[2]}}))}))}),[L,T,N]);return t?i.createElement(g,null,i.createElement(k.v0,null,"You have requested a password reset. Check your email for further instructions.")):i.createElement(g,null,i.createElement(o.l0,{onSubmit:v},(function(e){var n=e.error,t=e.handleSubmit,r=e.hasSubmitErrors,s=e.hasValidationErrors,l=e.modifiedSinceLastSubmit,u=e.submitFailed,c=e.submitting;return i.createElement("form",{onSubmit:t},i.createElement(o.gN,{component:k.gN,name:"email",validate:p.C1,disabled:c,floatingLabelText:"Email",errors:{required:"Enter your email"}}),i.createElement(k.jj,(0,a.pi)({},{submitFailed:u,error:n},{errors:{unexpected:"Something went wrong. Try again later.",smtp:"SMTP error: contact your administrator"}})),i.createElement(k.eX,null,i.createElement(k.k4,{label:"Reset",disabled:c||s&&u||r&&!l,busy:c})),(!0===h.passwordAuth||!0===h.ssoAuth)&&i.createElement(k.kW,null,i.createElement(i.Fragment,null,"Don't have an account? ",i.createElement(d.Z,{to:E.signUp()},"Sign up"))))})))}},64369:(e,n,t)=>{"use strict";t.d(n,{Z:()=>S});var a=t(70655),r=t(75982),i=t(41143),o=t.n(i),s=t(67294),l=t(28216),u=t(282),c=t(95477),d=t(10529),m=t(67456),p=t(32248),f=t(69534),y=t(17673),k=function(e){function n(n,t){return e.call(this,"Azure login failure",{code:n,details:t})||this}return(0,a.ZT)(n,e),n}(t(36155).G);var g=t(6626),N=t(17228),T=t(84366),L=t(147),h=t(67045),E=t.n(h),v="sso:azure:popup",C="sso:azure:request";function S(e){var n=this,t=e.mutex,i=e.next,h=(0,a._T)(e,["mutex","next"]),S=p.ZR();o()(!!S.azureClientId,'Auth.SSO.Azure: config missing "azureClientId"'),o()(!!S.azureBaseUrl,'Auth.SSO.Azure: config missing "azureBaseUrl"');var A=function(e){var n=e.clientId,t=e.baseUrl;return s.useCallback((function(){return new Promise((function(e,a){var r=Math.random().toString(36).substr(2),i=Math.random().toString(36).substr(2),o=f.gL({client_id:n,redirect_uri:"".concat(window.location.origin,"/oauth-callback"),response_mode:"fragment",response_type:"id_token",scope:"openid email",nonce:r,state:i}),s="".concat(t,"/oauth2/v2.0/authorize").concat(o),l=window.open(s,"quilt_azure_popup","width=500,height=700"),u=setInterval((function(){l.closed&&(window.removeEventListener("message",c),clearInterval(u),a(new k("popup_closed_by_user")))}),500),c=function(n){var t=n.source,o=n.origin,s=n.data;if(t===l&&o===window.location.origin)try{var d=s.type,m=s.fragment;if("callback"!==d)return;var p=(0,y.parse)(m.substr(1)),f=p.id_token,g=p.error,N=p.error_description;if(p.state!==i)throw new k("state_mismatch","Response state doesn't match request state");if(g)throw new k(g,N);if(JSON.parse(atob(f.split(".")[1])).nonce!==r)throw new k("nonce_mismatch","Response nonce doesn't match request nonce");e(f)}catch(e){a(e)}finally{window.removeEventListener("message",c),clearInterval(u),l.close()}};window.addEventListener("message",c),l.focus()}))}),[t,n])}({clientId:S.azureClientId,baseUrl:S.azureBaseUrl}),O=g.D$(),R=l.I0(),b=m.D$().push,_=f.D$().urls,U=s.useCallback((function(){return(0,a.mG)(n,void 0,void 0,(function(){var e,n,o,s,l;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:if(t.current)return[2];t.claim(v),a.label=1;case 1:return a.trys.push([1,7,,8]),[4,A()];case 2:e=a.sent(),n="azure",o=(0,N.Z)(),t.claim(C),a.label=3;case 3:return a.trys.push([3,5,,6]),R(T.signIn({provider:n,token:e},o.resolver)),[4,o.promise];case 4:return a.sent(),[3,6];case 5:if((s=a.sent())instanceof L.Cj){if(!0===S.ssoAuth)return R((0,r.VF)(_.ssoSignUp({provider:n,token:e,next:i}))),[2];b("No Quilt user linked to this Microsoft account. Notify your Quilt administrator.")}else s instanceof L.hZ?b("Unable to assign role. Ask your Quilt administrator to set a default role."):(b("Unable to sign in with Microsoft. Try again later or contact support."),O("captureException",s));return t.release(C),[3,6];case 6:return[3,8];case 7:return(l=a.sent())instanceof k?"popup_closed_by_user"!==l.code&&(b("Unable to sign in with Microsoft. ".concat(l.details)),O("captureException",l)):(b("Unable to sign in with Microsoft. Try again later or contact support."),O("captureException",l)),t.release(v),[3,8];case 8:return[2]}}))}))}),[A,S.ssoAuth,R,t.claim,t.release,i,b,O,_]);return s.createElement(u.Z,(0,a.pi)({variant:"outlined",onClick:U,disabled:!!t.current},h),t.current===C?s.createElement(c.Z,{size:18}):s.createElement(d.Z,{component:"img",src:E(),alt:"",height:18}),s.createElement(d.Z,{mr:1}),s.createElement("span",{style:{whiteSpace:"nowrap"}},"Sign in with Microsoft"))}},53722:(e,n,t)=>{"use strict";t.d(n,{Z:()=>S});var a=t(70655),r=t(75982),i=t(41143),o=t.n(i),s=t(67294),l=t(93645),u=t.n(l),c=t(28216),d=t(282),m=t(95477),p=t(10529),f=t(67456),y=t(32248),k=t(69534),g=t(6626),N=t(17228),T=t(84366),L=t(147),h=t(97274),E=t.n(h),v="sso:google:popup",C="sso:google:request";function S(e){var n=this,t=e.mutex,i=e.next,l=(0,a._T)(e,["mutex","next"]),h=y.ZR();o()(!!h.googleClientId,'Auth.SSO.Google: config missing "googleClientId"');var S=g.D$(),A=c.I0(),O=f.D$().push,R=k.D$().urls,b=t.claim,_=t.release,U=function(e){return function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];t.current||(b(v),e.apply(void 0,n))}},w=s.useCallback((function(e){return(0,a.mG)(n,void 0,void 0,(function(){var n,t,o,s;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:n="google",t=e.getAuthResponse().id_token,o=(0,N.Z)(),b(C),a.label=1;case 1:return a.trys.push([1,3,,4]),A(T.signIn({provider:n,token:t},o.resolver)),[4,o.promise];case 2:return a.sent(),[3,4];case 3:if((s=a.sent())instanceof L.Cj){if(!0===h.ssoAuth)return A((0,r.VF)(R.ssoSignUp({provider:n,token:t,next:i}))),[2];O("No Quilt user linked to this Google account. Notify your Quilt administrator.")}else s instanceof L.hZ?O("Unable to assign role. Ask your Quilt administrator to set a default role."):(O("Unable to sign in with Google. Try again later or contact support."),S("captureException",s));return _(C),[3,4];case 4:return[2]}}))}))}),[A,b,_,S,O,h.ssoAuth,i,R]),B=s.useCallback((function(e){var n=e.error,t=e.details;if("popup_closed_by_user"!==n){O("Unable to sign in with Google. ".concat(t));var a=new L.SS({provider:"google",code:n,details:t});S("captureException",a)}_(v)}),[_,S,O]);return s.createElement(u(),{clientId:h.googleClientId,onSuccess:w,onFailure:B,cookiePolicy:"single_host_origin",disabled:!!t.current,render:function(e){var n=e.onClick,r=e.disabled;return s.createElement(d.Z,(0,a.pi)({variant:"outlined",onClick:U(n),disabled:r},l),t.current===C?s.createElement(m.Z,{size:18}):s.createElement(p.Z,{component:"img",src:E(),alt:""}),s.createElement(p.Z,{mr:1}),"Sign in with Google")}})}},90810:(e,n,t)=>{"use strict";t.d(n,{Z:()=>C});var a=t(70655),r=t(75982),i=t(41143),o=t.n(i),s=t(67294),l=t(28216),u=t(282),c=t(95477),d=t(10529),m=t(67456),p=t(32248),f=t(69534),y=t(19083),k=t(6626),g=t(17228),N=t(84366),T=t(147),L=t(32981),h=t.n(L),E="sso:okta:popup",v="sso:okta:request";function C(e){var n=this,t=e.mutex,i=e.next,L=(0,a._T)(e,["mutex","next"]),C=p.ZR();o()(!!C.oktaClientId,'Auth.SSO.Okta: config missing "oktaClientId"'),o()(!!C.oktaBaseUrl,'Auth.SSO.Okta: config missing "oktaBaseUrl"');var S=y.D$({clientId:C.oktaClientId,baseUrl:C.oktaBaseUrl}),A=k.D$(),O=l.I0(),R=m.D$().push,b=f.D$().urls,_=s.useCallback((function(){return(0,a.mG)(n,void 0,void 0,(function(){var e,n,o,s,l;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:if(t.current)return[2];t.claim(E),a.label=1;case 1:return a.trys.push([1,7,,8]),[4,S()];case 2:e=a.sent(),n="okta",o=(0,g.Z)(),t.claim(v),a.label=3;case 3:return a.trys.push([3,5,,6]),O(N.signIn({provider:n,token:e},o.resolver)),[4,o.promise];case 4:return a.sent(),[3,6];case 5:if((s=a.sent())instanceof T.Cj){if(!0===C.ssoAuth)return O((0,r.VF)(b.ssoSignUp({provider:n,token:e,next:i}))),[2];R("No Quilt user linked to this Okta account. Notify your Quilt administrator.")}else s instanceof T.hZ?R("Unable to assign role. Ask your Quilt administrator to set a default role."):(R("Unable to sign in with Okta. Try again later or contact support."),A("captureException",s));return t.release(v),[3,6];case 6:return[3,8];case 7:return(l=a.sent())instanceof y.SU?"popup_closed_by_user"!==l.code&&(R("Unable to sign in with Okta. ".concat(l.details)),A("captureException",l)):(R("Unable to sign in with Okta. Try again later or contact support."),A("captureException",l)),t.release(E),[3,8];case 8:return[2]}}))}))}),[S,O,t,A,R,C.ssoAuth,i,b]);return s.createElement(u.Z,(0,a.pi)({variant:"outlined",onClick:_,disabled:!!t.current},L),t.current===v?s.createElement(c.Z,{size:18}):s.createElement(d.Z,{component:"img",src:h(),alt:"",height:18}),s.createElement(d.Z,{mr:1}),"Sign in with Okta")}},18726:(e,n,t)=>{"use strict";t.d(n,{Z:()=>S});var a=t(70655),r=t(75982),i=t(41143),o=t.n(i),s=t(67294),l=t(28216),u=t(282),c=t(95477),d=t(10529),m=t(67456),p=t(32248),f=t(69534),y=t(17673),k=function(e){function n(n,t){return e.call(this,"OneLogin login failure",{code:n,details:t})||this}return(0,a.ZT)(n,e),n}(t(36155).G);var g=t(6626),N=t(17228),T=t(84366),L=t(147),h=t(33908),E=t.n(h),v="sso:oneLogin:popup",C="sso:oneLogin:request";function S(e){var n=this,t=e.mutex,i=e.next,h=(0,a._T)(e,["mutex","next"]),S=p.ZR();o()(!!S.oneLoginClientId,'Auth.SSO.OneLogin: config missing "oneLoginClientId"'),o()(!!S.oneLoginBaseUrl,'Auth.SSO.OneLogin: config missing "oneLoginBaseUrl"');var A=function(e){var n=e.clientId,t=e.baseUrl;return s.useCallback((function(){return new Promise((function(e,a){var r=Math.random().toString(36).substr(2),i=Math.random().toString(36).substr(2),o=f.gL({client_id:n,redirect_uri:"".concat(window.location.origin,"/oauth-callback"),response_mode:"fragment",response_type:"id_token",scope:"openid email",nonce:r,state:i}),s="".concat(t,"/auth").concat(o),l=window.open(s,"quilt_onelogin_popup","width=300,height=400"),u=setInterval((function(){l.closed&&(window.removeEventListener("message",c),clearInterval(u),a(new k("popup_closed_by_user")))}),500),c=function(n){var t=n.source,o=n.origin,s=n.data;if(t===l&&o===window.location.origin)try{var d=s.type,m=s.fragment;if("callback"!==d)return;var p=(0,y.parse)(m.substr(1)),f=p.id_token,g=p.error,N=p.error_description;if(p.state!==i)throw new k("state_mismatch","Response state doesn't match request state");if(g)throw new k(g,N);if(JSON.parse(atob(f.split(".")[1])).nonce!==r)throw new k("nonce_mismatch","Response nonce doesn't match request nonce");e(f)}catch(e){a(e)}finally{window.removeEventListener("message",c),clearInterval(u),l.close()}};window.addEventListener("message",c),l.focus()}))}),[t,n])}({clientId:S.oneLoginClientId,baseUrl:S.oneLoginBaseUrl}),O=g.D$(),R=l.I0(),b=m.D$().push,_=f.D$().urls,U=s.useCallback((function(){return(0,a.mG)(n,void 0,void 0,(function(){var e,n,o,s,l;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:if(t.current)return[2];t.claim(v),a.label=1;case 1:return a.trys.push([1,7,,8]),[4,A()];case 2:e=a.sent(),n="onelogin",o=(0,N.Z)(),t.claim(C),a.label=3;case 3:return a.trys.push([3,5,,6]),R(T.signIn({provider:n,token:e},o.resolver)),[4,o.promise];case 4:return a.sent(),[3,6];case 5:if((s=a.sent())instanceof L.Cj){if(!0===S.ssoAuth)return R((0,r.VF)(_.ssoSignUp({provider:n,token:e,next:i}))),[2];b("No Quilt user linked to this OneLogin account. Notify your Quilt administrator.")}else s instanceof L.hZ?b("Unable to assign role. Ask your Quilt administrator to set a default role."):(b("Unable to sign in with OneLogin. Try again later or contact support."),O("captureException",s));return t.release(C),[3,6];case 6:return[3,8];case 7:return(l=a.sent())instanceof k?"popup_closed_by_user"!==l.code&&(b("Unable to sign in with OneLogin. ".concat(l.details)),O("captureException",l)):(b("Unable to sign in with OneLogin. Try again later or contact support."),O("captureException",l)),t.release(v),[3,8];case 8:return[2]}}))}))}),[A,S.ssoAuth,R,t.claim,t.release,i,b,O,_]);return s.createElement(u.Z,(0,a.pi)({variant:"outlined",onClick:U,disabled:!!t.current},h),t.current===C?s.createElement(c.Z,{size:18}):s.createElement(d.Z,{component:"img",src:E(),alt:"",height:18}),s.createElement(d.Z,{mr:1}),s.createElement("span",{style:{whiteSpace:"nowrap"}},"Sign in with OneLogin"))}},27105:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>S});var a=t(70655),r=t(75982),i=t(95142),o=t(67294),s=t(28216),l=t(16550),u=t(66688),c=t(282),d=t(10529),m=t(88574),p=t(32248),f=t(69534),y=t(6626),k=t(70397),g=t(17228),N=t(82268),T=t(31708),L=t(27502),h=t(84366),E=t(147),v=t(52164),C=L.e4("Complete sign-up");const S=function(e){var n=e.location.search,t=(0,N.Z)(n),S=t.provider,A=t.token,O=t.next,R=s.I0(),b=f.D$().urls,_=y.D$(),U=s.v9(v.authenticated),w=p.ZR(),B=o.useCallback((function(){return R((0,r.Hm)())}),[R]),I=o.useCallback((function(e){var n=e.username,t=e.password;return(0,a.mG)(void 0,void 0,void 0,(function(){var e,o,s,l,u,c,d,p,f;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),s=(0,g.Z)(),e={username:n,provider:S,token:A},null!=t&&(e.password=t),R(h.signUp(e,s.resolver)),[4,s.promise];case 1:return a.sent(),[3,3];case 2:return(o=a.sent())instanceof E.QR?[2,{username:"taken"}]:o instanceof E.B1?[2,{username:"invalid"}]:null!=t&&o instanceof E.Ac?[2,{password:"invalid"}]:o instanceof E.hZ?[2,(u={},u[i.Ck]="noDefaultRole",u)]:o instanceof E.GO?[2,(c={},c[i.Ck]="emailDomain",c)]:o instanceof E.sG?[2,(d={},d[i.Ck]="smtp",d)]:(_("captureException",o),[2,(p={},p[i.Ck]="unexpected",p)]);case 3:return a.trys.push([3,5,,6]),s=(0,g.Z)(),R(h.signIn({provider:S,token:A},s.resolver)),[4,s.promise];case 4:return a.sent(),[3,6];case 5:return l=a.sent(),R((0,m.push)("Couldn't sign in automatically")),R((0,r.VF)(b.signIn(O))),_("captureException",l),[2,(f={},f[i.Ck]="unexpected",f)];case 6:return[2]}}))}))}),[S,A,O,b,R,_]);return U?o.createElement(l.l_,{to:O||"/"}):o.createElement(C,null,o.createElement(u.l0,{onSubmit:I},(function(e){var n=e.error,t=e.handleSubmit,r=e.hasSubmitErrors,i=e.hasValidationErrors,s=e.modifiedSinceLastSubmit,l=e.submitError,m=e.submitFailed,p=e.submitting;return o.createElement("form",{onSubmit:t},o.createElement(u.gN,{component:L.gN,name:"username",validate:T.C1,disabled:p,floatingLabelText:"Username",errors:{required:"Enter a username",taken:o.createElement(o.Fragment,null,"Username taken, try"," ",o.createElement(L.rh,{to:b.signIn(O)},"signing in")),invalid:"Username invalid"}}),!0===w.passwordAuth&&o.createElement(o.Fragment,null,o.createElement(u.gN,{component:L.gN,name:"password",type:"password",validate:T.C1,disabled:p,floatingLabelText:"Password",errors:{required:"Enter a password",invalid:"Password must be at least 8 characters long"}}),o.createElement(u.gN,{component:L.gN,name:"passwordCheck",type:"password",validate:T.ne(T.C1,(0,T.ZP)("check",T.nQ("password"))),disabled:p,floatingLabelText:"Verify password",errors:{required:"Enter the password again",check:"Passwords must match"}})),o.createElement(L.jj,(0,a.pi)({},{submitFailed:m,error:n||!s&&l},{errors:{unexpected:"Something went wrong. Try again later.",emailDomain:"Email domain is not allowed",smtp:"SMTP error: contact your administrator",noDefaultRole:"Unable to assign role. Ask your Quilt administrator to set a default role."}})),o.createElement(L.eX,null,o.createElement(c.Z,{onClick:B,variant:"outlined",disabled:p},"Cancel"),o.createElement(d.Z,{mr:2}),o.createElement(L.k4,{label:"Sign up",disabled:p||i&&m||r&&!s,busy:p})),o.createElement(L.kW,null,o.createElement(o.Fragment,null,"Already have an account? ",o.createElement(k.Z,{to:b.signIn(O)},"Sign in"))))})))}},61666:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>b});var a=t(70655),r=t(95142),i=t(67294),o=t(66688),s=t(28216),l=t(16550),u=t(10529),c=t(32248),d=t(69534),m=t(6626),p=t(70397),f=t(17228),y=t(82268),k=t(74999),g=t(31708),N=t(27502),T=t(64369),L=t(53722),h=t(90810),E=t(18726),v=t(84366),C=t(147),S=t(52164),A=N.e4("Sign in"),O="password";function R(e){var n=this,t=e.mutex,l=m.D$(),u=s.I0(),c=i.useCallback((function(e){return(0,a.mG)(n,void 0,void 0,(function(){var n,i,o,s;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:if(t.current)return[2];t.claim(O),n=(0,f.Z)(),u(v.signIn(e,n.resolver)),a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,n.promise];case 2:return a.sent(),[3,5];case 3:return(i=a.sent())instanceof C.Yr?[2,(o={},o[r.Ck]="invalidCredentials",o)]:(l("captureException",i),[2,(s={},s[r.Ck]="unexpected",s)]);case 4:return t.release(O),[7];case 5:return[2]}}))}))}),[u,t,l]);return i.createElement(o.l0,{onSubmit:c},(function(e){var n=e.error,r=e.handleSubmit,s=e.hasSubmitErrors,l=e.hasValidationErrors,u=e.modifiedSinceLastSubmit,c=e.submitError,d=e.submitFailed,m=e.submitting;return i.createElement("form",{onSubmit:r},i.createElement(o.gN,{component:N.gN,name:"username",validate:g.C1,disabled:!!t.current||m,floatingLabelText:"Username or email",errors:{required:"Enter your username or email"}}),i.createElement(o.gN,{component:N.gN,name:"password",type:"password",validate:g.C1,disabled:!!t.current||m,floatingLabelText:"Password",errors:{required:"Enter your password"}}),i.createElement(N.jj,(0,a.pi)({},{submitFailed:d,error:n||!u&&c},{errors:{invalidCredentials:"Invalid credentials",unexpected:"Something went wrong. Try again later."}})),i.createElement(N.eX,null,i.createElement(N.k4,{label:"Sign in",disabled:!!t.current||m||l&&d||s&&!u,busy:m})))}))}const b=function(e){var n=e.location.search,t=s.v9(S.authenticated),a=c.ZR(),r=(0,k.Z)(),o=d.D$().urls,m=function(e){if(!a.ssoAuth)return!1;var n=a.ssoProviders,t=void 0===n?[]:n;return e?t.includes(e):!!t.length},f=(0,y.Z)(n).next;return t?i.createElement(l.l_,{to:f||"/"}):i.createElement(A,null,m()&&i.createElement(u.Z,{display:"flex",flexDirection:"column",mt:2,alignItems:"center"},i.createElement(u.Z,{display:"flex",flexDirection:"column"},m("google")&&i.createElement(i.Fragment,null,i.createElement(u.Z,{mt:2}),i.createElement(L.Z,{mutex:r,next:f,style:{justifyContent:"flex-start"}})),m("okta")&&i.createElement(i.Fragment,null,i.createElement(u.Z,{mt:2}),i.createElement(h.Z,{mutex:r,next:f,style:{justifyContent:"flex-start"}})),m("onelogin")&&i.createElement(i.Fragment,null,i.createElement(u.Z,{mt:2}),i.createElement(E.Z,{mutex:r,next:f,style:{justifyContent:"flex-start"}})),m("azure")&&i.createElement(i.Fragment,null,i.createElement(u.Z,{mt:2}),i.createElement(T.Z,{mutex:r,next:f,style:{justifyContent:"flex-start"}})))),!!a.passwordAuth&&m()&&i.createElement(N.Or,null),!!a.passwordAuth&&i.createElement(R,{mutex:r}),(!0===a.passwordAuth||!0===a.ssoAuth)&&i.createElement(N.kW,null,i.createElement(i.Fragment,null,"Don't have an account? ",i.createElement(p.Z,{to:o.signUp(f)},"Sign up"),".")),!!a.passwordAuth&&i.createElement(N.kW,null,i.createElement(i.Fragment,null,"Did you forget your password? ",i.createElement(p.Z,{to:o.passReset()},"Reset it"),".")))}},70775:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>k,useSignOut:()=>y});var a=t(67294),r=t(16550),i=t(28216),o=t(22222),s=t(10529),l=t(39473),u=t(51259),c=t(6626),d=t(17228),m=t(84366),p=t(52164),f=(0,o.zB)({authenticated:p.authenticated,waiting:p.waiting});function y(){var e=c.D$(),n=i.I0();return a.useCallback((function(){var t=(0,d.Z)();return n((0,m.signOut)(t.resolver)),t.promise.catch(e("captureException")),t.promise}),[n,e])}function k(){var e=a.useRef();e.current=y();var n=i.v9(f),t=n.waiting,o=n.authenticated;return a.useEffect((function(){!t&&o&&e.current()}),[t,o]),a.createElement(a.Fragment,null,!o&&a.createElement(r.l_,{to:"/"}),a.createElement(l.ZP,null,a.createElement(s.Z,{mt:5,textAlign:"center"},a.createElement(u.Z,null,"Signing out"))))}},95722:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>B});var a=t(70655),r=t(95142),i=t(80359),o=t(67294),s=t(66688),l=t(28216),u=t(16550),c=t(10529),d=t(24452),m=t(32248),p=t(69534),f=t(6626),y=t(70397),k=t(17228),g=t(82268),N=t(74999),T=t(68420),L=t(31708),h=t(27502),E=t(64369),v=t(53722),C=t(90810),S=t(18726),A=t(84366),O=t(147),R=t(52164),b=T.g((function(){return Promise.all([t.e(1322),t.e(5358)]).then(t.bind(t,55358))}),(function(){return o.createElement(d.Z,{color:"text.secondary"})})),_=h.e4("Sign Up"),U="password";function w(e){var n=this,t=e.mutex,u=e.next,c=e.onSuccess,d=f.D$(),m=l.I0(),g=p.D$().urls,N=o.useState(""),T=N[0],E=N[1],v=o.useState(""),C=v[0],S=v[1],R=o.useCallback((function(e){var t=e.values;return(0,a.mG)(n,void 0,void 0,(function(){return(0,a.Jh)(this,(function(e){return T!==t.email&&E(t.email),C!==t.username&&S(t.username),[2]}))}))}),[T,C]),_=o.useCallback((function(e){return(0,a.mG)(n,void 0,void 0,(function(){var n,o,s,l,u;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:if(t.current)return[2];t.claim(U),a.label=1;case 1:return a.trys.push([1,3,4,5]),n=(0,k.Z)(),m((0,A.signUp)(i.Z("passwordCheck",e),n.resolver)),[4,n.promise];case 2:return a.sent(),c(),[3,5];case 3:return(o=a.sent())instanceof O.QR?[2,{username:"taken"}]:o instanceof O.B1?[2,{username:"invalid"}]:o instanceof O.k5?[2,{email:"taken"}]:o instanceof O.aG?[2,{email:"invalid"}]:o instanceof O.Ac?[2,{password:"invalid"}]:o instanceof O.hZ?[2,(s={},s[r.Ck]="noDefaultRole",s)]:o instanceof O.sG?[2,(l={},l[r.Ck]="smtp",l)]:(d("captureException",o),[2,(u={},u[r.Ck]="unexpected",u)]);case 4:return t.release(U),[7];case 5:return[2]}}))}))}),[m,t,c,d]);return o.createElement(s.l0,{onSubmit:_},(function(e){var n=e.error,r=e.handleSubmit,i=e.hasSubmitErrors,l=e.hasValidationErrors,c=e.modifiedSinceLastSubmit,d=e.submitError,m=e.submitFailed,p=e.submitting;return o.createElement("form",{onSubmit:r},o.createElement(s.lP,{subscription:{values:!0},onChange:R}),o.createElement(s.gN,{component:h.gN,name:"username",validate:L.C1,disabled:!!t.current||p,floatingLabelText:"Username",errors:{required:"Enter a username",taken:o.createElement(o.Fragment,null,"Username taken, try"," ",o.createElement(h.rh,{to:g.signIn(u)},"signing in")),invalid:"Username invalid"}}),o.createElement(s.gN,{component:h.gN,name:"email",validate:L.C1,disabled:!!t.current||p,floatingLabelText:"Email",errors:{required:"Enter your email",taken:o.createElement(o.Fragment,null,"Email taken, try"," ",o.createElement(h.rh,{to:g.signIn(u)},"signing in")),invalid:"Enter a valid email address"}}),o.createElement(s.gN,{component:b,name:"password",validate:L.C1,username:C,email:T,disabled:!!t.current||p,errors:{required:"Enter a password",invalid:"Password must be between 8 and 64 characters long"}}),o.createElement(s.gN,{component:h.gN,name:"passwordCheck",type:"password",validate:L.ne(L.C1,(0,L.ZP)("check",L.nQ("password"))),disabled:!!t.current||p,floatingLabelText:"Verify password",errors:{required:"Enter the password again",check:"Passwords must match"}}),o.createElement(h.jj,(0,a.pi)({},{submitFailed:m,error:n||!c&&d},{errors:{unexpected:"Something went wrong. Try again later.",smtp:"SMTP error: contact your administrator",noDefaultRole:"Unable to assign role. Ask your Quilt administrator to set a default role."}})),o.createElement(h.eX,null,o.createElement(h.k4,{label:"Sign up",disabled:!!t.current||p||l&&m||i&&!c,busy:p})),o.createElement(h.kW,null,o.createElement(o.Fragment,null,"Already have an account? ",o.createElement(y.Z,{to:g.signIn(u)},"Sign in"))))}))}const B=function(e){var n=e.location.search,t=l.v9(R.authenticated),a=m.ZR(),r=(0,N.Z)(),i=o.useState(!1),s=i[0],d=i[1],p=function(e){if(!0!==a.ssoAuth)return!1;var n=a.ssoProviders,t=void 0===n?[]:n;return e?t.includes(e):!!t.length},f=(0,g.Z)(n).next;return t?o.createElement(u.l_,{to:f||"/"}):s?o.createElement(_,null,o.createElement(h.v0,null,"You have signed up for Quilt. Check your email for further instructions.")):o.createElement(_,null,p()&&o.createElement(c.Z,{display:"flex",flexDirection:"column",mt:2,alignItems:"center"},o.createElement(c.Z,{display:"flex",flexDirection:"column"},p("google")&&o.createElement(o.Fragment,null,o.createElement(c.Z,{mt:2}),o.createElement(v.Z,{mutex:r,next:f,style:{justifyContent:"flex-start"}})),p("okta")&&o.createElement(o.Fragment,null,o.createElement(c.Z,{mt:2}),o.createElement(C.Z,{mutex:r,next:f,style:{justifyContent:"flex-start"}})),p("onelogin")&&o.createElement(o.Fragment,null,o.createElement(c.Z,{mt:2}),o.createElement(S.Z,{mutex:r,next:f,style:{justifyContent:"flex-start"}})),p("azure")&&o.createElement(o.Fragment,null,o.createElement(c.Z,{mt:2}),o.createElement(E.Z,{mutex:r,next:f,style:{justifyContent:"flex-start"}})))),!0===a.passwordAuth&&p()&&o.createElement(h.Or,null),!0===a.passwordAuth&&o.createElement(w,{mutex:r,onSuccess:function(){return d(!0)},next:f}))}},84366:(e,n,t)=>{"use strict";t.r(n),t.d(n,{authLost:()=>y,changePassword:()=>l,check:()=>m,getCode:()=>u,getTokens:()=>p,refresh:()=>f,resetPassword:()=>s,signIn:()=>c,signOut:()=>d,signUp:()=>o});var a=t(70655),r=t(49405),i=t(65902),o=(0,r.eQ)(i.Nw.SIGN_UP,(function(e,n){return{payload:e,meta:(0,a.pi)({},n)}})),s=(0,r.eQ)(i.Nw.RESET_PASSWORD,(function(e,n){return{payload:e,meta:(0,a.pi)({},n)}})),l=(0,r.eQ)(i.Nw.CHANGE_PASSWORD,(function(e,n,t){return{payload:{link:e,password:n},meta:(0,a.pi)({},t)}})),u=(0,r.eQ)(i.Nw.GET_CODE,(function(e){return{meta:(0,a.pi)({},e)}})),c=(0,r.eQ)(i.Nw.SIGN_IN,(function(e,n){return{payload:e,meta:(0,a.pi)({},n)}}));c.resolve=(0,r.eQ)(i.Nw.SIGN_IN_RESULT,(function(e){return{error:e instanceof Error,payload:e}}));var d=(0,r.eQ)(i.Nw.SIGN_OUT,(function(e){return{meta:(0,a.pi)({},e)}}));d.resolve=(0,r.eQ)(i.Nw.SIGN_OUT_RESULT,(function(e){return{error:e instanceof Error,payload:e}}));var m=(0,r.eQ)(i.Nw.CHECK,(function(e,n){var t=(void 0===e?{}:e).refetch;return{payload:{refetch:void 0===t||t},meta:(0,a.pi)({},n)}})),p=(0,r.eQ)(i.Nw.GET_TOKENS,(function(e){return{meta:(0,a.pi)({},e)}})),f=(0,r.eQ)(i.Nw.REFRESH);f.resolve=(0,r.eQ)(i.Nw.REFRESH_RESULT,(function(e){return{error:e instanceof Error,payload:e}}));var y=(0,r.eQ)(i.Nw.AUTH_LOST,(function(e){return{payload:e}}))},147:(e,n,t)=>{"use strict";t.d(n,{Ac:()=>y,B1:()=>p,Cj:()=>L,GO:()=>d,QR:()=>m,SS:()=>h,Yr:()=>u,aG:()=>f,hZ:()=>s,k5:()=>c,l4:()=>o,li:()=>l,nF:()=>g,sG:()=>T,su:()=>N,zd:()=>k});var a=t(70655),r=t(36155),i=function(e,n){return(0,a.pi)({message:e},n)},o=function(e){function n(n){var t=i("auth error",n),r=t.message,o=(0,a._T)(t,["message"]);return e.call(this,r,o)||this}return(0,a.ZT)(n,e),n.displayName="AuthError",n}(r.G),s=function(e){function n(n){return e.call(this,i("default role not set",n))||this}return(0,a.ZT)(n,e),n.displayName="NoDefaultRole",n}(o),l=function(e){function n(n){return e.call(this,i("invalid token",n))||this}return(0,a.ZT)(n,e),n.displayName="InvalidToken",n}(o),u=function(e){function n(n){return e.call(this,i("invalid credentials",n))||this}return(0,a.ZT)(n,e),n.displayName="InvalidCredentials",n}(o),c=function(e){function n(n){return e.call(this,i("email taken",n))||this}return(0,a.ZT)(n,e),n.displayName="EmailTaken",n}(o),d=function(e){function n(n){return e.call(this,i('email domain not allowed: "'.concat(n.domain,'"'),n))||this}return(0,a.ZT)(n,e),n.displayName="EmailDomainNotAllowed",n}(o),m=function(e){function n(n){return e.call(this,i("username taken",n))||this}return(0,a.ZT)(n,e),n.displayName="UsernameTaken",n}(o),p=function(e){function n(n){return e.call(this,i("invalid username",n))||this}return(0,a.ZT)(n,e),n.displayName="InvalidUsername",n}(o),f=function(e){function n(n){return e.call(this,i("invalid email",n))||this}return(0,a.ZT)(n,e),n.displayName="InvalidEmail",n}(o),y=function(e){function n(n){return e.call(this,i("invalid password",n))||this}return(0,a.ZT)(n,e),n.displayName="InvalidPassword",n}(o),k=function(e){function n(n){return e.call(this,i("user not found",n))||this}return(0,a.ZT)(n,e),n.displayName="PassChangeUserNotFound",n}(o),g=function(e){function n(n){return e.call(this,i("user not allowed to reset password",n))||this}return(0,a.ZT)(n,e),n.displayName="PassChangeNotAllowed",n}(o),N=function(e){function n(n){return e.call(this,i("invalid token",n))||this}return(0,a.ZT)(n,e),n.displayName="PassChangeInvalidToken",n}(o),T=function(e){function n(n){return e.call(this,i("SMTP error",n))||this}return(0,a.ZT)(n,e),n.displayName="SMTPError",n}(o),L=function(e){function n(n){return e.call(this,i("linked user not found",n))||this}return(0,a.ZT)(n,e),n.displayName="SSOUserNotFound",n}(o),h=function(e){function n(n){return e.call(this,i("[".concat(n.provider,"] ").concat(n.code,": ").concat(n.details),n))||this}return(0,a.ZT)(n,e),n.displayName="SSOError",n}(o)},74709:(e,n,t)=>{"use strict";t.d(n,{zt:()=>W,Nw:()=>A,mi:()=>X,wl:()=>R});var a,r,i,o,s=t(70655),l=t(43393),u=t(67294),c=t(28216),d=t(88574),m=t(46400),p=t(72755),f=t(49405),y=t(33469),k=t(65902),g=t(12880),N=t(97716),T=t(12072);const L=(0,f.Cl)((0,T.U2)("state"),{SIGNED_OUT:(0,f.jZ)((a={},a[k.Nw.SIGN_IN]=(0,f.$e)({state:"SIGNING_IN",error:f.zN}),a)),SIGNING_IN:(0,f.jZ)((r={},r[k.Nw.SIGN_IN_RESULT]=(0,f.uC)({resolve:(0,f.$e)({state:"SIGNED_IN",user:function(e){return(0,l.fromJS)(e.user)},tokens:function(e){return(0,l.fromJS)(e.tokens)},sessionId:function(){return g.Z}}),reject:(0,f.$e)({state:"SIGNED_OUT"})}),r)),SIGNED_IN:(0,f.jZ)((i={},i[k.Nw.SIGN_OUT_RESULT]=(0,f.$e)({state:"SIGNED_OUT",tokens:f.zN,user:f.zN,sessionId:function(){return g.Z}}),i[k.Nw.REFRESH]=(0,f.$e)({state:"REFRESHING",error:f.zN}),i[k.Nw.AUTH_LOST]=(0,f.$e)({state:"SIGNED_OUT",error:N.Z,tokens:f.zN,user:f.zN,sessionId:function(){return g.Z}}),i)),REFRESHING:(0,f.jZ)((o={},o[k.Nw.REFRESH_RESULT]=(0,f.uC)({resolve:(0,f.$e)({state:"SIGNED_IN",tokens:function(e){var n=e.tokens;return(0,l.fromJS)(n)},user:function(e){var n=e.user;return n?(0,l.fromJS)(n):f.ZT}}),reject:(0,f.$e)({state:"SIGNED_OUT",error:N.Z,tokens:f.zN,user:f.zN,sessionId:function(){return g.Z}})}),o))});var h=t(34857),E=t(46974),v=t(17228),C=t(87162);function S(){return Date.now()/1e3}var A=t(84366),O=t(147),R=t(52164),b=function(e,n){return(0,s.pi)((0,s.pi)({},e),{exp:Number.isFinite(e.exp)?e.exp-n:e.exp})};function _(){var e;return(0,s.Jh)(this,(function(n){switch(n.label){case 0:return e=(0,v.Z)(),[4,(0,h.gz)(A.check({refetch:!1},e.resolver))];case 1:n.sent(),n.label=2;case 2:return n.trys.push([2,4,,5]),[4,e.promise];case 3:return n.sent(),[3,5];case 4:return n.sent(),[3,5];case 5:return[4,(0,h.RE)(C.V3,R.waiting,(function(e){return!e}))];case 6:return n.sent(),[4,(0,h.Ys)(R.tokens)];case 7:return[2,n.sent()]}}))}function U(e){var n,t;return(0,s.Jh)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,(0,h.RE)(E.Nv,{auth:!1,endpoint:"/register",method:"POST",body:e})];case 1:return a.sent(),[3,3];case 2:if((n=a.sent())instanceof E.Bb){if(400===n.status&&n.json&&"Default role not set"===n.json.message)throw new O.hZ({originalError:n});if(400===n.status&&n.json&&"Invalid username."===n.json.message)throw new O.B1({originalError:n});if(400===n.status&&n.json&&"Invalid email."===n.json.message)throw new O.aG({originalError:n});if(400===n.status&&n.json&&n.json.message.match(/Password must be/))throw new O.Ac({originalError:n});if(409===n.status&&n.json&&"Username already taken."===n.json.message)throw new O.QR({originalError:n});if(409===n.status&&n.json&&"Email already taken."===n.json.message)throw new O.k5({originalError:n});if(E.Bb.is(n,401,/domain \S+ is not allowed/i))throw t=n.json.message.match(/domain (\S+) is/i)[1],new O.GO({domain:t,originalError:n});if(500===n.status&&n.json&&n.json.message.match(/SMTP.*invalid/))throw new O.sG({originalError:n})}throw new O.l4({message:"unable to sign up",originalError:n});case 3:return[2]}}))}function w(){var e;return(0,s.Jh)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,(0,h.RE)(E.Nv,{auth:{handleInvalidToken:!1},endpoint:"/logout",method:"POST"})];case 1:return n.sent(),[3,3];case 2:throw e=n.sent(),new O.l4({message:"unable to sign out",originalError:e});case 3:return[2]}}))}function B(e){var n,t,a,r;return(0,s.Jh)(this,(function(i){switch(i.label){case 0:if("string"==typeof e.token&&"number"==typeof e.exp)return[2,{token:e.token,exp:e.exp}];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,(0,h.RE)(E.Nv,{auth:!1,endpoint:"/login",method:"POST",body:e})];case 2:return n=i.sent(),t=n.token,a=n.exp,[2,{token:t,exp:a}];case 3:if(r=i.sent(),E.Bb.is(r,401,/user does not exist/i))throw new O.Cj;if(E.Bb.is(r,401,/login attempt failed/i))throw new O.Yr;if(E.Bb.is(r,400,"Default role not set"))throw new O.hZ({originalError:r});throw new O.l4({message:"unable to sign in",originalError:r});case 4:return[2]}}))}function I(e){var n;return(0,s.Jh)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,(0,h.RE)(E.Nv,{auth:{tokens:e,handleInvalidToken:!1},endpoint:"/me?_cachebust=".concat(Math.random())})];case 1:return[2,t.sent()];case 2:if((n=t.sent())instanceof E.Bb&&401===n.status)throw new O.li({originalError:n});throw new O.l4({message:"unable to fetch user data",originalError:n});case 3:return[2]}}))}function Z(e){var n;return(0,s.Jh)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,(0,h.RE)(E.Nv,{auth:!1,endpoint:"/reset_password",method:"POST",body:{email:e}})];case 1:return t.sent(),[3,3];case 2:if(n=t.sent(),E.Bb.is(n,500,/SMTP.*invalid/))throw new O.sG({originalError:n});throw new O.l4({message:"unable to reset password",originalError:n});case 3:return[2]}}))}function J(e,n){var t;return(0,s.Jh)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,(0,h.RE)(E.Nv,{auth:!1,endpoint:"/change_password",method:"POST",body:{link:e,password:n}})];case 1:return a.sent(),[3,3];case 2:if((t=a.sent())instanceof E.Bb){if(404===t.status&&t.json&&"User not found"===t.json.message)throw new O.zd({originalError:t});if(401===t.status&&t.json&&"User not allowed to reset password"===t.json.message)throw new O.nF({originalError:t});if(401===t.status&&t.json&&"Reset token invalid"===t.json.message)throw new O.su({originalError:t});if(400===t.status&&t.json&&t.json.message.match(/Password must be/))throw new O.Ac({originalError:t})}throw new O.l4({message:"unable to change password",originalError:t});case 3:return[2]}}))}function x(){var e;return(0,s.Jh)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,(0,h.RE)(E.Nv,"/code")];case 1:return[2,n.sent().code];case 2:throw e=n.sent(),new O.l4({message:"unable to get the code",originalError:e});case 3:return[2]}}))}function P(e,n){var t,a;return(0,s.Jh)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,(0,h.RE)(E.Nv,{auth:{tokens:n,handleInvalidToken:!1},endpoint:"/refresh",method:"POST"})];case 1:return t=r.sent(),[2,b(t,e)];case 2:if((a=r.sent())instanceof E.Bb&&401===a.status)throw new O.li({originalError:a});throw new O.l4({message:"unable to refresh tokens",originalError:a});case 3:return[2]}}))}function D(e,n){var t,a,r,i,o=e.latency,l=e.storeTokens,u=e.storeUser,c=n.payload,d=n.meta,m=d.resolve,p=d.reject;return(0,s.Jh)(this,(function(e){switch(e.label){case 0:return e.trys.push([0,8,,12]),[4,(0,h.RE)(B,c)];case 1:return t=e.sent(),a=b(t,o),[4,(0,h.RE)(I,a)];case 2:return r=e.sent(),[4,(0,h.rM)(l,a)];case 3:return e.sent(),[4,(0,h.rM)(u,r)];case 4:return e.sent(),[4,(0,h.gz)(A.signIn.resolve({tokens:a,user:r}))];case 5:return e.sent(),m?[4,(0,h.RE)(m,{tokens:a,user:r})]:[3,7];case 6:e.sent(),e.label=7;case 7:return[3,12];case 8:return i=e.sent(),[4,(0,h.gz)(A.signIn.resolve(i))];case 9:return e.sent(),p?[4,(0,h.RE)(p,i)]:[3,11];case 10:e.sent(),e.label=11;case 11:return[3,12];case 12:return[2]}}))}function F(e,n){var t,a=e.forgetTokens,r=e.forgetUser,i=n.meta,o=i.resolve,l=i.reject;return(0,s.Jh)(this,(function(e){switch(e.label){case 0:return e.trys.push([0,5,9,12]),[4,(0,h.RE)(w)];case 1:return e.sent(),[4,(0,h.gz)(A.signOut.resolve())];case 2:return e.sent(),o?[4,(0,h.RE)(o)]:[3,4];case 3:e.sent(),e.label=4;case 4:return[3,12];case 5:return t=e.sent(),[4,(0,h.gz)(A.signOut.resolve(t))];case 6:return e.sent(),l?[4,(0,h.RE)(l,t)]:[3,8];case 7:e.sent(),e.label=8;case 8:return[3,12];case 9:return[4,(0,h.rM)(r)];case 10:return e.sent(),[4,(0,h.rM)(a)];case 11:return e.sent(),[7];case 12:return[2]}}))}function M(e,n){var t,a,r,i,o,l,u=e.latency,c=e.storeTokens,d=e.storeUser,m=n.payload.refetch,p=n.meta,f=p.resolve,y=p.reject;return(0,s.Jh)(this,(function(e){switch(e.label){case 0:return e.trys.push([0,16,,21]),[4,(0,h.RE)(C.V3,R.waiting,(function(e){return!e}))];case 1:return e.sent(),[4,(0,h.Ys)(R.tokens)];case 2:return t=e.sent(),[4,(0,h.RE)(S)];case 3:return a=e.sent(),t&&function(e,n){var t=e.exp||e.expires_at||e.expires_on;return t&&t<n}(t,a)?[3,6]:f?[4,(0,h.RE)(f)]:[3,5];case 4:e.sent(),e.label=5;case 5:return[2];case 6:return[4,(0,h.gz)(A.refresh())];case 7:return e.sent(),[4,(0,h.RE)(P,u,t)];case 8:return r=e.sent(),[4,(0,h.rM)(c,r)];case 9:return e.sent(),i=void 0,m?[4,(0,h.RE)(I,r)]:[3,12];case 10:return i=e.sent(),[4,(0,h.rM)(d,i)];case 11:e.sent(),e.label=12;case 12:return o={tokens:r,user:i},[4,(0,h.gz)(A.refresh.resolve(o))];case 13:return e.sent(),f?[4,(0,h.RE)(f,o)]:[3,15];case 14:e.sent(),e.label=15;case 15:return[3,21];case 16:return l=e.sent(),[4,(0,h.gz)(A.refresh.resolve(l))];case 17:return e.sent(),[4,(0,h.gz)(A.authLost(l))];case 18:return e.sent(),y?[4,(0,h.RE)(y,l)]:[3,20];case 19:e.sent(),e.label=20;case 20:return[3,21];case 21:return[2]}}))}function z(e){var n,t,a=e.meta,r=a.resolve,i=a.reject;return(0,s.Jh)(this,(function(e){switch(e.label){case 0:return e.trys.push([0,3,,7]),[4,(0,h.RE)(_)];case 1:return n=e.sent(),[4,(0,h.RE)(r,n)];case 2:return e.sent(),[3,7];case 3:return t=e.sent(),i?[4,(0,h.RE)(i,t)]:[3,5];case 4:return e.sent(),[3,6];case 5:console.error("handleGetTokens: unhandled error:"),console.error(t),e.label=6;case 6:return[3,7];case 7:return[2]}}))}function j(e,n){var t=e.forgetTokens,a=e.forgetUser,r=e.onAuthLost,i=n.payload;return(0,s.Jh)(this,(function(e){switch(e.label){case 0:return[4,(0,h.rM)(t)];case 1:return e.sent(),[4,(0,h.rM)(a)];case 2:return e.sent(),[4,(0,h.RE)(r,i)];case 3:return e.sent(),[2]}}))}function G(e){var n,t=e.payload,a=e.meta,r=a.resolve,i=a.reject;return(0,s.Jh)(this,(function(e){switch(e.label){case 0:return e.trys.push([0,3,,5]),[4,(0,h.RE)(U,t)];case 1:return e.sent(),[4,(0,h.RE)(r)];case 2:case 4:return e.sent(),[3,5];case 3:return n=e.sent(),[4,(0,h.RE)(i,n)];case 5:return[2]}}))}function Q(e){var n,t=e.payload,a=e.meta,r=a.resolve,i=a.reject;return(0,s.Jh)(this,(function(e){switch(e.label){case 0:return e.trys.push([0,3,,5]),[4,(0,h.RE)(Z,t)];case 1:return e.sent(),[4,(0,h.RE)(r)];case 2:case 4:return e.sent(),[3,5];case 3:return n=e.sent(),[4,(0,h.RE)(i,n)];case 5:return[2]}}))}function q(e){var n,t=e.payload,a=t.link,r=t.password,i=e.meta,o=i.resolve,l=i.reject;return(0,s.Jh)(this,(function(e){switch(e.label){case 0:return e.trys.push([0,3,,5]),[4,(0,h.RE)(J,a,r)];case 1:return e.sent(),[4,(0,h.RE)(o)];case 2:case 4:return e.sent(),[3,5];case 3:return n=e.sent(),[4,(0,h.RE)(l,n)];case 5:return[2]}}))}function $(e){var n,t,a=e.meta,r=a.resolve,i=a.reject;return(0,s.Jh)(this,(function(e){switch(e.label){case 0:return e.trys.push([0,3,,5]),[4,(0,h.RE)(x)];case 1:return n=e.sent(),[4,(0,h.RE)(r,n)];case 2:case 4:return e.sent(),[3,5];case 3:return t=e.sent(),[4,(0,h.RE)(i,t)];case 5:return[2]}}))}function H(e){var n=e.latency,t=e.checkOn,a=e.storeTokens,r=e.forgetTokens,i=e.storeUser,o=e.forgetUser,l=e.onAuthLost;return(0,s.Jh)(this,(function(e){switch(e.label){case 0:return[4,(0,h.ib)(A.signIn.type,D,{latency:n,storeTokens:a,storeUser:i})];case 1:return e.sent(),[4,(0,h.ib)(A.signOut.type,F,{forgetTokens:r,forgetUser:o})];case 2:return e.sent(),[4,(0,h.ib)(A.check.type,M,{latency:n,storeTokens:a,storeUser:i})];case 3:return e.sent(),[4,(0,h.ib)(A.getTokens.type,z)];case 4:return e.sent(),[4,(0,h.ib)(A.authLost.type,j,{forgetTokens:r,forgetUser:o,onAuthLost:l})];case 5:return e.sent(),[4,(0,h.ib)(A.signUp.type,G)];case 6:return e.sent(),[4,(0,h.ib)(A.resetPassword.type,Q)];case 7:return e.sent(),[4,(0,h.ib)(A.changePassword.type,q)];case 8:return e.sent(),[4,(0,h.ib)(A.getCode.type,$)];case 9:return e.sent(),t?[4,(0,h.ib)(t,(function(){return(0,s.Jh)(this,(function(e){switch(e.label){case 0:return[4,(0,h.gz)(A.check())];case 1:return e.sent(),[2]}}))}))]:[3,11];case 10:e.sent(),e.label=11;case 11:return[2]}}))}function W(e){var n=e.children,t=e.checkOn,a=e.storage,r=e.latency,i=void 0===r?20:r,o=(0,y.Z)((function(){var e=(0,l.fromJS)(a.load()).filter(Boolean).update((function(e){return e.set("state",e.getIn(["user","current_user"])?"SIGNED_IN":"SIGNED_OUT").set("sessionId",0)}));return(0,f.g1)(e,L)}));(0,m._Y)(k.Fk,o);var g,N=(0,s.pi)((0,s.pi)({},function(e){return u.useMemo((function(){return{storeTokens:function(n){return e.set("tokens",n)},forgetTokens:function(){return e.remove("tokens")},storeUser:function(n){return e.set("user",n)},forgetUser:function(){return e.remove("user")},storeCredentials:function(n){return e.set("credentials",n)},forgetCredentials:function(){return e.remove("credentials")}}}),[e])}(a)),(g=c.I0(),u.useMemo((function(){return{onAuthLost:function(){g((0,d.push)("Authentication lost. Sign in again."))}}}),[g])));return(0,p.yU)(H,(0,s.pi)((0,s.pi)({},N),{checkOn:t,latency:i})),n}t(61666),t(70775),t(95722),t(27105),t(35989),t(14895),t(17138),t(36417),t(38066);var V=t(76692),Y=t.n(V);function X(e,n){var t,a,r,i,o,l,u,c=e.auth,d=void 0===c||c,m=(0,s._T)(e,["auth"]);return(0,s.Jh)(this,(function(e){switch(e.label){case 0:return t="boolean"==typeof d?d:Y()(d.tokens,!0),a="boolean"==typeof d?d:Y()(d.handleInvalidToken,!0),!0!==t?[3,2]:[4,(0,h.RE)(_)];case 1:return i=e.sent(),[3,3];case 2:i=t||void 0,e.label=3;case 3:o=(r=i)&&function(e){var n=e.token;return{Authorization:"Bearer ".concat(n)}}(r),l=(0,s.pi)((0,s.pi)({},m),{headers:(0,s.pi)((0,s.pi)({},o),m.headers)}),e.label=4;case 4:return e.trys.push([4,6,,9]),[4,(0,h.RE)(n,l)];case 5:return[2,e.sent()];case 6:return u=e.sent(),a&&E.Bb.is(u,401,"Token invalid.")?[4,(0,h.gz)((0,A.authLost)(new O.li({originalError:u})))]:[3,8];case 7:e.sent(),e.label=8;case 8:throw u;case 9:return[2]}}))}},757:(e,n,t)=>{"use strict";t.d(n,{C0:()=>p,IH:()=>d,qx:()=>m});var a=t(70655),r=t(67432),i=t(10180),o=t(67294),s=t(42571),l=t(39473),u=t(89978);var c=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(n,e),n}(t(36155).G),d=function(){throw new c},m=function(e){return(0,u.Y)((function(n){return r.Z(i.Z(c),(function(t){return o.createElement(e,(0,a.pi)({},n,{error:t}))}))}),"CatchNotFound")},p=m((function(){return o.createElement(l.ZP,null,o.createElement(s.Z,{headline:"Nothing here",detail:"Do you need to log in?"}))}))},88322:(e,n,t)=>{"use strict";t.d(n,{V5:()=>u,Xc:()=>d,zt:()=>u});var a=t(16946),r=t(67294),i=t(73206),o=t(85693),s=t(84268),l=r.createContext();function u(e){var n=e.children,t=r.useRef({});return r.createElement(l.Provider,{value:t.current},n)}function c(e){var n=e.s3,t=e.bucket,r=e.cache;return r[t]||(r[t]=n.headBucket({Bucket:t}).promise().then((function(){})).catch(i.$4([[a.Z("code","NotFound"),function(){throw new i.mn}]]))),r[t]}function d(e){var n=r.useContext(l),t=o.S3.use();return s.D$(c,{s3:t,bucket:e,cache:n})}},74999:(e,n,t)=>{"use strict";t.d(n,{Z:()=>r});var a=t(67294);const r=function(e){void 0===e&&(e=null);var n=a.useState(e),t=n[0],r=n[1],i=a.useCallback((function(e){return r((function(n){return e===n?null:n}))}),[r]);return a.useMemo((function(){return{current:t,claim:r,release:i}}),[t,r,i])}}}]);
//# sourceMappingURL=3130.4655a53adb406cb8584b.js.map