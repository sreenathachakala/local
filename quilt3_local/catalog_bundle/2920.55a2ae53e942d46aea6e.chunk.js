"use strict";(self.webpackChunkquilt_navigator=self.webpackChunkquilt_navigator||[]).push([[2920],{21587:(e,t,n)=>{n.d(t,{XZ:()=>d,Xq:()=>p,gN:()=>s});var r=n(70655),a=n(67294),l=n(39803),i=n(41120),o=n(30553),c=n(13258),u=n(22318);function s(e){var t=e.input,n=e.meta,i=e.errors,o=e.helperText,c=e.InputLabelProps,u=(0,r._T)(e,["input","meta","errors","helperText","InputLabelProps"]),s=n.submitFailed&&(n.error||n.submitError),m=(0,r.pi)((0,r.pi)({error:!!s,helperText:s?i[s]||s:o,disabled:n.submitting||n.submitSucceeded,InputLabelProps:(0,r.pi)({shrink:!0},c)},t),u);return a.createElement(l.Z,(0,r.pi)({},m))}var m=i.Z({root:{marginBottom:-9,marginTop:-9}});function d(e){var t=e.input,n=void 0===t?{}:t,l=e.meta,i=(e.errors,e.label),u=void 0===i?void 0:i,s=e.FormControlLabelProps,d=void 0===s?{}:s,v=(0,r._T)(e,["input","meta","errors","label","FormControlLabelProps"]),p=m();return a.createElement(o.Z,(0,r.pi)({},d,{control:a.createElement(c.Z,(0,r.pi)({classes:p,disabled:l.submitting||l.submitSucceeded},n,v)),label:u}))}var v=i.Z((function(e){return{root:{marginTop:e.spacing(3),"& a":{textDecoration:"underline"}}}}));function p(e){var t=e.error,n=e.errors,l=(0,r._T)(e,["error","errors"]),i=v();return t?a.createElement(u.Z,(0,r.pi)({color:"error",classes:i},l),n[t]||t):null}},82920:(e,t,n)=>{n.r(t),n.d(t,{LocalFolderInput:()=>x,default:()=>D});var r=n(70655),a=n(12880),l=n(67294),i=n(66688),o=n(52663),c=n(66083),u=n(29525),s=n(66856),m=n(282),d=n(41120),v=n(57394),p=n(88222),f=n(868),E=n(17812),g=n(92863),h=n(79895),Z=n(82302),b=n(83750),k=n(99613),C=n(57156),y=n(69534),P=n(70397),S=n(60409),w=n(36473),N=n(31708),F=n(21587),T=n(77246);function x(e){var t=this,n=e.input,a=(0,r._T)(e,["input"]),i=S.D$(),o=n.onChange,c=l.useCallback((function(){return(0,r.mG)(t,void 0,void 0,(function(){var e;return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return[4,i.invoke(S.FP.vS)];case 1:return(e=t.sent())?(o(e),[2]):[2]}}))}))}),[i,o]);return l.createElement(F.gN,(0,r.pi)({onClick:c,size:"small",input:n},a))}function A(e){var t=e.onCancel,n=e.onSubmit,r=e.value,a=l.useCallback((function(){r&&n(r)}),[n,r]);return l.createElement(o.Z,{open:!!r},l.createElement(c.Z,null,"Remove local ⇄ s3 folder pair"),l.createElement(u.Z,null,"Confirm deletion of ",null==r?void 0:r.local,"⇄",null==r?void 0:r.s3," sync pair"),l.createElement(s.Z,null,l.createElement(m.Z,{onClick:t,color:"primary"},"Cancel"),l.createElement(m.Z,{color:"primary",onClick:a,variant:"contained"},"Remove")))}function R(e){var t=e.onCancel,n=e.onSubmit,r=e.value;return l.createElement(o.Z,{open:!!r},l.createElement(i.l0,{onSubmit:n,initialValues:r},(function(e){var n=e.handleSubmit,a=e.submitting,o=e.submitFailed,d=e.hasValidationErrors;return l.createElement(l.Fragment,null,l.createElement(c.Z,null,"Add local ⇄ s3 folder pair"),l.createElement(u.Z,null,l.createElement(i.gN,{component:x,name:"local",label:"Local folder",placeholder:"Folder on local file system",validate:N.C1,errors:{required:"Path to local directory is required"},fullWidth:!0,margin:"normal"}),l.createElement(i.gN,{component:F.gN,name:"s3",label:"S3 bucket + Package name",placeholder:"s3://bucket/namespace/package",validate:N.O$(N.C1,N.cz),errors:{required:"S3 URL is required",s3Url:"Enter valid S3 URL to package"},fullWidth:!0,margin:"normal"})),l.createElement(s.Z,null,l.createElement(m.Z,{onClick:t,color:"primary",disabled:a},"Cancel"),l.createElement(m.Z,{color:"primary",disabled:a||o&&d,onClick:n,variant:"contained"},r?"Save":"Add")))})))}var _=d.Z({action:{opacity:.3,"tr:hover &":{opacity:1}}});function L(e){var t=e.onEdit,n=e.onRemove,r=e.row,a=_(),i=y.D$().urls,o=w.UD(r.s3),c=l.useCallback((function(){return n(r)}),[n,r]),u=l.useCallback((function(){return t(r)}),[t,r]);return l.createElement(v.Z,{hover:!0},l.createElement(p.Z,null,r.local),l.createElement(p.Z,null,l.createElement(P.Z,{to:i.bucketPackageDetail(o.bucket,o.key)},r.s3)),l.createElement(p.Z,{align:"right"},l.createElement(f.ZP,{title:"Remove"},l.createElement(E.Z,{className:a.action,"aria-label":"Remove",onClick:c},l.createElement(g.Z,null,"delete"))),l.createElement(f.ZP,{title:"Edit"},l.createElement(E.Z,{className:a.action,"aria-label":"Edit",onClick:u},l.createElement(g.Z,null,"edit")))))}var q=d.Z((function(e){return{root:{padding:e.spacing(2,0,0)}}}));function D(){var e=this,t=q(),n=S.D$(),i=l.useState(null),o=i[0],c=i[1],u=l.useState(null),s=u[0],m=u[1],d=function(){var e=S.D$(),t=l.useState(1),n=t[0],i=t[1],o=l.useCallback((function(){return i(a.Z)}),[i]),c=l.useState(null),u=c[0],s=c[1];return l.useEffect((function(){!function(){(0,r.mG)(this,void 0,void 0,(function(){var t;return(0,r.Jh)(this,(function(n){switch(n.label){case 0:return[4,e.invoke(S.FP._v)];case 1:return t=n.sent(),s(t.folders),[2]}}))}))}()}),[e,n]),[u,o]}(),f=d[0],E=d[1],y=l.useMemo((function(){return f?[{title:"Add local ⇄ s3 folder pair",icon:l.createElement(g.Z,null,"add"),fn:function(){c({})}}]:[]}),[f]),P=l.useCallback((function(t){return(0,r.mG)(e,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){switch(e.label){case 0:return[4,n.invoke(S.FP.Ov,t)];case 1:return e.sent(),m(null),E(),[2]}}))}))}),[E,n]),w=l.useCallback((function(t){return(0,r.mG)(e,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){switch(e.label){case 0:return[4,n.invoke(t.id?S.FP.Xe:S.FP.on,t)];case 1:return e.sent(),c(null),E(),[2]}}))}))}),[E,n]);return l.createElement("div",{className:t.root},l.createElement(C.Z,null,["Sync Folders","Admin"]),l.createElement(R,{onCancel:function(){return c(null)},onSubmit:w,value:o}),l.createElement(A,{onCancel:function(){return m(null)},onSubmit:P,value:s}),l.createElement(h.Z,null,l.createElement(T.o8,{heading:"Sync folders",actions:y}),f?l.createElement(Z.Z,{size:"small"},l.createElement(b.Z,null,l.createElement(v.Z,null,l.createElement(p.Z,null,"Local folder"),l.createElement(p.Z,null,"S3 folder"),l.createElement(p.Z,{align:"right"},"Actions"))),l.createElement(k.Z,null,f.map((function(e){return l.createElement(L,{key:e.id,onEdit:c,onRemove:m,row:e})})))):l.createElement(T.Ex,null)))}},57156:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(70655),a=n(67294),l=n(64593);function i(e,t){return function(e,t){return t?Array.isArray(t)?(0,r.ev)((0,r.ev)([],t,!0),[e],!1):[t,e]:[e]}(e,t).join(" • ")}function o(e){var t=e.children,n=e.base,r=void 0===n?"Quilt is a versioned data hub for AWS":n;return a.createElement(l.q,null,a.createElement("title",null,i(r,t)))}},77246:(e,t,n)=>{n.d(t,{Ex:()=>D,Fb:()=>x,Pl:()=>w,im:()=>R,o8:()=>T,tl:()=>$,xS:()=>L});var r=n(70655),a=n(94184),l=n.n(a),i=n(19344),o=n(57438),c=n(97716),u=n(51826),s=n(67294),m=n(868),d=n(17812),v=n(41120),p=n(28358),f=n(22318),E=n(83750),g=n(57394),h=n(88222),Z=n(13258),b=n(77256),k=n(95477),C=n(61657),y=n(59114),P=n(9001),S=function(e){return"asc"===e?"desc":"asc"};function w(e){var t=e.rows,n=(0,r._T)(e,["rows"]),a=s.useState(n.column),l=a[0],m=a[1],d=s.useState(n.direction||"asc"),v=d[0],p=d[1],f=l.sortBy||l.getValue,E=s.useMemo((function(){return i.Z(o.Z(f),"asc"===v?c.Z:u.Z)}),[f,v]),g=(0,P.Z)([E,t],(function(){return E(t)})),h=s.useCallback((function(e){l!==e?(m(e),p("asc")):p(S)}),[l,m,p]);return{column:l,direction:v,change:h,ordered:g}}var N=function(e){return e?s.createElement(m.ZP,{title:e.title,key:e.title},s.createElement(d.Z,{"aria-label":e.title,onClick:e.fn,href:e.href,component:e.href?"a":void 0,target:e.href?"_blank":void 0},e.icon)):null},F=v.Z((function(e){return{root:{paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:(0,y.$n)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}}));function T(e){var t,n=e.heading,r=e.selected,a=void 0===r?0:r,i=e.actions,o=void 0===i?[]:i,c=e.selectedActions,u=void 0===c?[]:c,m=F();return s.createElement(p.Z,{className:l()(m.root,(t={},t[m.highlight]=a>0,t))},s.createElement("div",{className:m.title},a>0?s.createElement(f.Z,{color:"inherit",variant:"subtitle1"},a," selected"):s.createElement(f.Z,{variant:"h6"},n)),s.createElement("div",{className:m.spacer}),s.createElement("div",{className:m.actions},(a>0?u:o).map(N)))}function x(e){var t=e.columns,n=e.selection,r=void 0===n?void 0:n,a=e.ordering,l=e.withInlineActions,i=void 0!==l&&l;return s.createElement(E.Z,null,s.createElement(g.Z,null,!!r&&s.createElement(h.Z,{padding:"checkbox",onClick:r.toggleAll},s.createElement(Z.Z,{indeterminate:r.selected.size>0&&r.selected.size<r.all.size,checked:r.selected.equals(r.all)})),t.map((function(e){return s.createElement(h.Z,{key:e.id,sortDirection:a.column===e&&a.direction,align:e.align},!1===e.sortable?e.label:s.createElement(m.ZP,{title:e.hint||"Sort",placement:"bottom-start",enterDelay:300},s.createElement(b.Z,{active:a.column===e,direction:a.direction,onClick:function(){return a.change(e)}},e.label)))})),i&&s.createElement(h.Z,{align:"right"},"Actions")))}var A=v.Z({root:{overflowX:"auto"}});function R(e){var t=e.className,n=void 0===t?void 0:t,a=(0,r._T)(e,["className"]),i=A();return s.createElement("div",(0,r.pi)({className:l()(i.root,n)},a))}var _=v.Z((function(e){return{root:{opacity:.3,paddingRight:e.spacing(1),textAlign:"right",transition:"opacity 100ms",whiteSpace:"nowrap","tr:hover &":{opacity:1}}}}));function L(e){var t=e.actions,n=void 0===t?[]:t,a=e.children,l=void 0===a?void 0:a,i=(0,r._T)(e,["actions","children"]),o=_();return s.createElement("div",(0,r.pi)({className:o.root},i),n.map(N),l)}var q=v.Z((function(e){return{root:{marginBottom:e.spacing(2),marginLeft:e.spacing(3)}}}));function D(e){var t=q();return s.createElement(k.Z,(0,r.pi)({classes:t},e))}var z=v.Z((function(e){return{toolbar:{paddingRight:[e.spacing(1),"!important"]}}}));function $(e){var t=e.pagination,n=(0,r._T)(e,["pagination"]),a=z();return s.createElement(C.Z,(0,r.pi)({classes:a,component:"div",count:t.total,rowsPerPage:t.perPage,page:t.page-1,onChangePage:function(e,n){return t.goToPage(n+1)},onChangeRowsPerPage:function(e){return t.setPerPage(e.target.value)}},n))}}}]);
//# sourceMappingURL=2920.55a2ae53e942d46aea6e.chunk.js.map