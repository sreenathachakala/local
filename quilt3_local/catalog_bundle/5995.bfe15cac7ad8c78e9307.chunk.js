"use strict";(self.webpackChunkquilt_navigator=self.webpackChunkquilt_navigator||[]).push([[5995],{32092:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(70655),a=n(43363),o=n(67294),i=n(10529),c=n(12208);function l(e){var t=e.data,n=e.onCursor,l=e.width,u=void 0===l?200:l,s=e.height,d=void 0===s?20:s,m=e.stroke,f=void 0===m?c.wG.Color("currentColor"):m,p=e.fill,v=void 0===p?c.wG.None():p,h=e.contourThickness,E=void 0===h?1:h,y=e.contourStroke,k=void 0===y?f:y,b=e.extendL,g=void 0!==b&&b,Z=e.extendR,x=void 0!==Z&&Z,w=e.cursorLineThickness,M=void 0===w?E:w,C=e.cursorLineExtendUp,N=void 0===C||C,S=e.cursorLineExtendDown,L=void 0===S||S,D=e.cursorLineStroke,_=void 0===D?f:D,F=e.cursorCircleThickness,O=void 0===F?M:F,j=e.cursorCircleR,B=void 0===j?O:j,z=e.cursorCircleFill,I=void 0===z?c.wG.None():z,T=e.cursorCircleStroke,R=void 0===T?f:T,W=e.padding,P=void 0===W?3:W,Y=e.px,U=void 0===Y?P:Y,$=e.py,q=void 0===$?P:$,A=e.pt,G=void 0===A?q:A,H=e.pb,V=void 0===H?q:H,X=e.pl,J=void 0===X?U:X,Q=e.pr,K=void 0===Q?U:Q,ee=e.boxProps,te=(0,r._T)(e,["data","onCursor","width","height","stroke","fill","contourThickness","contourStroke","extendL","extendR","cursorLineThickness","cursorLineExtendUp","cursorLineExtendDown","cursorLineStroke","cursorCircleThickness","cursorCircleR","cursorCircleFill","cursorCircleStroke","padding","px","py","pt","pb","pl","pr","boxProps"]),ne=o.useState(null),re=ne[0],ae=ne[1],oe=o.useCallback((function(){return ae(null)}),[ae]),ie=o.useCallback((function(e){var r=e.currentTarget.getBoundingClientRect(),o=(e.clientX-r.x-J)/(r.width-J-K),i=1/(t.length-1),c=a.Z(0,t.length-1,Math.round(o/i));ae(c),n&&n(c)}),[ae,n,t,J,K]),ce=o.useCallback((function(){oe(),n&&n(null)}),[oe,n]),le=o.useMemo((function(){var e=Math.max.apply(Math,t)||1,n=(d-G-V)/e,a=(u-J-K)/(t.length-1),o=t.map((function(t,r){return{x:J+r*a,y:G+(e-t)*n}}));return(0,r.ev)((0,r.ev)((0,r.ev)([],g?[(0,r.pi)((0,r.pi)({},o[0]),{x:0})]:[],!0),o,!0),x?[(0,r.pi)((0,r.pi)({},o[t.length-1]),{x:u})]:[],!0)}),[t,u,d,G,V,J,K,x,g]),ue=c.iV(k),se=c.iV(_),de=c.iV(I),me=c.iV(R),fe=c.iV(v),pe=o.useMemo((function(){return c.wG.case({None:function(){return null},_:function(){return(0,r.ev)((0,r.ev)([],le,!0),[(0,r.pi)((0,r.pi)({},le[le.length-1]),{y:d}),(0,r.pi)((0,r.pi)({},le[0]),{y:d}),le[0]],!1)}},v)}),[v,le,d]),ve=null===re?null:le[re+(g?1:0)];return o.createElement(i.Z,(0,r.pi)({component:"svg",viewBox:"0 0 ".concat(u," ").concat(d),onMouseLeave:ce,onMouseMove:ie},te,ee),o.createElement("defs",null,ue.def,se.def,de.def,me.def,fe.def),o.createElement("g",null,pe&&o.createElement("polyline",{points:c.tM(pe),fill:fe.ref,pointerEvents:"auto",stroke:"none",strokeWidth:"0"}),o.createElement("polyline",{points:c.tM(le),stroke:ue.ref,strokeWidth:E,strokeLinecap:"round",strokeLinejoin:"miter",fill:"none"}),!!ve&&!!n&&o.createElement("g",null,(N||L)&&o.createElement("line",{x1:ve.x,y1:N?0:ve.y,x2:ve.x,y2:L?d:ve.y,stroke:se.ref,strokeWidth:M}),o.createElement("circle",{cx:ve.x,cy:ve.y,r:B,stroke:me.ref,strokeWidth:O,fill:de.ref}))))}},62828:(e,t,n)=>{n.d(t,{E:()=>y,Z:()=>k});var r=n(70655),a=n(94184),o=n.n(a),i=n(87553),c=n(67294),l=n(41120),u=n(22318),s=n(92863),d=n(23307),m=n(99643),f=n(42059),p=l.Z((function(e){return{root:{alignItems:"center",display:"inline-flex"},icon:{color:e.palette.text.hint,fontSize:16,marginRight:"2px"}}}));function v(e){var t=e.className,n=e.children,a=(0,r._T)(e,["className","children"]),i=p();return c.createElement(u.Z,(0,r.pi)({className:o()(i.root,t),component:"span",variant:"body2"},a),n)}function h(e){var t=e.className,n=E();return c.createElement("div",{className:o()(n.root,t)},c.createElement(d.Z,{animate:!0,className:n.property,width:"80px",height:"14px"}),c.createElement(d.Z,{animate:!0,className:n.property,width:"80px",height:"14px"}))}var E=l.Z((function(e){return{root:{alignItems:"center",display:"flex"},property:{marginLeft:e.spacing(1)}}}));function y(e){var t=e.className,n=e.lastModified,r=e.size,a=E(),l=c.useMemo((function(){return new Date}),[]),u=c.useMemo((function(){return n?i.Z(n,l.getFullYear()===n.getFullYear()?"d MMM":"d MMM yyyy"):null}),[n,l]),s=c.useMemo((function(){return(0,m.kR)(r)}),[r]);return c.createElement("div",{className:o()(a.root,t)},u&&c.createElement(v,{title:null==n?void 0:n.toLocaleString(),className:a.property},u),c.createElement(v,{className:a.property},s))}function k(e){var t=e.className,n=e.data,a=E();return c.createElement("div",{className:o()(a.root,t)},n.case({Ok:f.NB.case({Exists:function(e){var n=e.lastModified,a=e.size;return c.createElement(y,(0,r.pi)({},{className:t,lastModified:n,size:a}))},_:function(){return null}}),Err:function(e){return c.createElement(s.Z,{title:"Fetching object info failed: ".concat(e.message),color:"error"},"warning_outline")},_:function(){return c.createElement(h,{className:t})}}))}},98763:(e,t,n)=>{n.d(t,{CN:()=>l,Ig:()=>c});var r=n(67294),a=36e5,o=24*a,i=new Intl.RelativeTimeFormat("en",{numeric:"auto"});function c(e){var t=e.value,n=r.useState(new Date),c=n[0],l=n[1];return r.useEffect((function(){var e=window.setInterval((function(){return l(new Date)}),1e3);return function(){return clearInterval(e)}}),[t]),r.useMemo((function(){return r.createElement(r.Fragment,null,function(e,t){var n=e.valueOf()-((null==t?void 0:t.valueOf())||Date.now()),r=n/31536e6;if(Math.abs(r)>=1)return i.format(Math.round(r),"year");var c=n/2592e6;if(Math.abs(c)>=1)return i.format(Math.round(c),"month");var l=n/o;if(Math.abs(l)>=1)return i.format(Math.round(l),"day");var u=n/a;if(Math.abs(u)>=1)return i.format(Math.round(u),"hour");var s=n/6e4;return Math.abs(s)>=1?i.format(Math.round(s),"minute"):i.format(Math.round(n/1e3),"second")}(t,c))}),[t,c])}function l(e){var t=e.value,n=e.zero,a=e.one,o=e.other;return r.useMemo((function(){return r.createElement(r.Fragment,null,function(e,t){var n=t[function(e){switch(e){case 0:return"zero";case 1:return"one";default:return"other"}}(e)];return n?"function"==typeof n?n(e):n:"function"==typeof t.other?t.other(e):t.other}(t,{zero:n,one:a,other:o}))}),[t,n,a,o])}},15592:(e,t,n)=>{n.d(t,{Z:()=>E});var r=n(70655),a=n(20637),o=(n(99697),n(67294)),i=n(41120),c=n(73637),l=n(10529),u=n(17812),s=n(92863),d=n(26663),m=n(5391),f=n(67456),p=n(9961),v=n(6709);var h=i.Z((function(e){return{container:{alignItems:"center",display:"flex",marginBottom:e.spacing(-2),marginLeft:e.spacing(3),marginTop:e.spacing(-2)},btn:{height:32},code:{fontFamily:e.typography.monospace.fontFamily,fontSize:e.typography.body2.fontSize,overflowX:"auto",overflowY:"hidden",whiteSpace:"pre"}}}));function E(e){var t=e.defaultSelected,n=void 0===t?0:t,i=e.children,E=(0,r._T)(e,["defaultSelected","children"]),y=h(),k=f.D$().push,b=o.useState(n),g=b[0],Z=b[1],x=o.useCallback((function(e,t){e.stopPropagation(),null!=t&&Z(t)}),[Z]),w=i[g],M=o.useCallback((function(e){e.stopPropagation(),(0,p.Z)(w.contents),k("Code has been copied to clipboard")}),[w.contents,k]);return o.createElement(v.Z,(0,r.pi)({icon:"code",heading:"Code",extraSummary:function(e){var t=e.expanded;return o.createElement(c.Z,{in:t},o.createElement("div",{className:y.container},o.createElement(d.Z,{size:"small",value:g,exclusive:!0,onChange:x},i.map((function(e,t){var n=e.label;return o.createElement(m.Z,{value:t,key:n,className:y.btn},n)}))),o.createElement(l.Z,{ml:1}),o.createElement(u.Z,{onClick:M,title:"Copy to clipboard"},o.createElement(s.Z,{style:{fontSize:18}},"file_copy"))))}},E),o.createElement("div",{className:y.code},function(e,t){if(e&&a.Z.getLanguage(e))try{var n=a.Z.highlight(t,{language:e}).value;return o.createElement("span",{dangerouslySetInnerHTML:{__html:n}})}catch(e){console.error(e)}return t}(w.hl,w.contents)))}},9982:(e,t,n)=>{n.d(t,{Z:()=>d});var r=n(67294),a=n(11476),o=n(22318),i=n(95477),c=n(73179),l=a.Z("div")({textAlign:"center",width:"100%"}),u=function(e){var t=e.heading,n=e.body,a=e.action;return r.createElement(l,null,!!t&&r.createElement(o.Z,{variant:"h6",gutterBottom:!0},t),!!n&&r.createElement(o.Z,{variant:"body1",gutterBottom:!0},n),!!a&&a)},s=function(){return r.createElement(l,null,r.createElement(i.Z,null))};const d=function(e){return c.jf({renderMessage:u,renderProgress:s,onData:e})}},35995:(e,t,n)=>{n.r(t),n.d(t,{default:()=>le});var r=n(70655),a=n(26470),o=n(87553),i=n(66518),c=n.n(i),l=n(43880),u=n(67294),s=n(73727),d=n(41120),m=n(92863),f=n(52387),p=n(62822),v=n(50998),h=n(95757),E=n(81860),y=n(17812),k=n(11543),b=n(10529),g=n(46869),Z=n(22318),x=n(95477),w=n(35442),M=n(78869),C=n(20740),N=n(73179),S=n(32092),L=n(67456),D=n(85693),_=n(43987),F=n(32248),O=n(84268),j=n(69534),B=n(12208),z=n(70397),I=n(9961),T=n(98763),R=n(82268),W=n(36473),P=n(99643),Y=n(15592),U=n(62828),$=n(37600),q=n(6709),A=n(9982),G=n(42059),H=n(21497),V=n(37764),X=n(74708),J=n(60166),Q={s3ObjectLink:{title:"Copy object version's canonical HTTPS URI to the clipboard",href:function(e){return e.s3HttpsUri},notification:"HTTPS URI copied to clipboard"}},K=d.Z((function(e){var t=e.typography;return{version:(0,r.pi)((0,r.pi)({},z.R),{alignItems:"center",display:"inline-flex"}),mono:{fontFamily:t.monospace.fontFamily},list:{maxWidth:"100%",width:420}}}));function ee(e){var t=e.bucket,n=e.path,r=e.version,a=D.S3.use(),o=j.D$().urls,i=F.D$(),c=L.D$().push,l=J.X(),d=u.useRef(),w=u.useState(),M=w[0],C=w[1],N=u.useState(!1),S=N[0],_=N[1],B=u.useCallback((function(){return _(!0)}),[]),z=u.useCallback((function(){return _(!1)}),[]),R=V.D$(Q),Y=K(),U=function(e){return R.s3ObjectLink.href({url:o.bucketFile(t,n,{version:e.id}),s3HttpsUri:W.zj({bucket:t,key:n,version:e.id}),bucket:t,key:n,version:e.id})},$=function(e){return function(r){r.preventDefault(),"override"!==R.s3ObjectLink.emit&&((0,I.Z)(U(e),{container:d.current}),c(R.s3ObjectLink.notification)),R.s3ObjectLink.emit&&l({type:"s3ObjectLink",url:o.bucketFile(t,n,{version:e.id}),s3HttpsUri:W.zj({bucket:t,key:n,version:e.id}),bucket:t,key:n,version:e.id})}},q=function(e){return function(r){r.preventDefault(),(0,I.Z)(function(e){return"--bucket ".concat(t,' --key "').concat(n,'" --version-id ').concat(e.id)}(e),{container:d.current}),c("Object location copied to clipboard")}},A=(0,O.et)(G.Xt,{s3:a,bucket:t,path:n});return u.createElement(u.Fragment,null,u.createElement("span",{className:Y.version,onClick:B,ref:C},r?u.createElement("span",{className:Y.mono},r.substring(0,12)):"latest"," ",u.createElement(m.Z,null,"expand_more")),u.createElement(f.ZP,{open:S&&!!M,anchorEl:M,onClose:z,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},A.case({Ok:function(e){return u.createElement(p.Z,{className:Y.list,ref:d},e.map((function(e){return u.createElement(v.Z,{key:e.id,button:!0,onClick:z,selected:r?e.id===r:e.isLatest,component:s.Link,to:o.bucketFile(t,n,{version:e.id})},u.createElement(h.Z,{primary:u.createElement("span",null,u.createElement(T.Ig,{value:e.lastModified}),e.isLatest&&" (latest)"," | ",null!=e.size?(0,P.kR)(e.size):"Delete Marker"),secondary:u.createElement("span",null,e.lastModified.toLocaleString(),u.createElement("br",null),u.createElement("span",{className:Y.mono},e.id))}),!i.noDownload&&u.createElement(E.Z,null,!e.deleteMarker&&!e.archived&&D.Ep.withDownloadUrl({bucket:t,key:n,version:e.id},(function(e){return u.createElement(y.Z,{href:e,title:"Download this version of the object"},u.createElement(m.Z,null,"arrow_downward"))})),u.createElement(k.Z,{xsDown:!0},u.createElement(y.Z,{title:R.s3ObjectLink.title,href:U(e),onClick:$(e)},u.createElement(m.Z,null,"link")),u.createElement(y.Z,{title:"Copy object location in CLI format (aws s3api) to the clipboard",onClick:q(e)},u.createElement(b.Z,{fontSize:20,height:24,width:24,lineHeight:1.2,display:"flex",justifyContent:"center"},"S3")))))})))},Err:function(){return u.createElement(p.Z,null,u.createElement(v.Z,null,u.createElement(g.Z,null,u.createElement(m.Z,null,"error")),u.createElement(Z.Z,{variant:"body1"},"Error fetching versions")))},_:function(){return u.createElement(p.Z,null,u.createElement(v.Z,null,u.createElement(g.Z,null,u.createElement(x.Z,{size:24})),u.createElement(Z.Z,{variant:"body1"},"Fetching versions")))}})))}function te(e){var t=e.bucket,n=e.path,r=e.version,a=D.S3.use(),o=(0,O.et)(G.YQ,{s3:a,bucket:t,path:n,version:r});return u.createElement($.mE,{data:o.result})}function ne(e){var t=e.analyticsBucket,n=e.bucket,r=e.path,a=u.useState(null),i=a[0],c=a[1],s=D.S3.use(),d=u.useMemo((function(){return new Date}),[]),m=(0,O.et)(G.WP,{s3:s,analyticsBucket:t,bucket:n,path:r,today:d}),f=m.case({Ok:function(e){return!!e.total},_:function(){return!1}});return u.createElement(q.Z,{icon:"bar_charts",heading:"Analytics",defaultExpanded:f},m.case({Ok:function(e){var t,n=e.counts,r=e.total;return r?u.createElement(b.Z,{display:"flex",width:"100%",justifyContent:"space-between",alignItems:"center"},u.createElement(b.Z,null,u.createElement(Z.Z,{variant:"h5"},"Downloads"),u.createElement(Z.Z,{variant:"h4",component:"div"},(0,P.ul)(null===i?r:n[i].value)),u.createElement(Z.Z,{variant:"overline",component:"span"},null===i?"".concat(n.length," days"):(t=n[i].date,o.Z(t,d.getFullYear()===t.getFullYear()?"d MMM":"d MMM yyyy")))),u.createElement(b.Z,{width:"calc(100% - 7rem)"},u.createElement(S.Z,{data:l.Z("value",n),onCursor:c,width:1e3,height:60,stroke:B.wG.Server(u.createElement("linearGradient",{x2:"0",y2:"100%",gradientUnits:"userSpaceOnUse"},u.createElement("stop",{offset:"0",stopColor:w.Z[800]}),u.createElement("stop",{offset:"100%",stopColor:w.Z[100]})))}))):u.createElement(Z.Z,null,"No analytics available")},Err:function(){return u.createElement(Z.Z,null,"No analytics available")},_:function(){return u.createElement(x.Z,null)}}))}function re(){return u.createElement(b.Z,{textAlign:"center",width:"100%"},u.createElement(x.Z,null))}var ae,oe,ie=d.Z((function(e){var t;return{crumbs:(0,r.pi)((0,r.pi)({},e.typography.body1),{maxWidth:"100%",overflowWrap:"break-word"}),name:(0,r.pi)((0,r.pi)({},e.typography.body1),(t={maxWidth:"calc(100% - 160px)",overflowWrap:"break-word"},t[e.breakpoints.down("xs")]={maxWidth:"calc(100% - 40px)"},t)),topBar:{alignItems:"flex-end",display:"flex",marginBottom:e.spacing(2)},at:{color:e.palette.text.secondary},actions:{alignItems:"center",display:"flex",marginLeft:"auto"},button:{marginLeft:e.spacing(2)}}})),ce={context:N.IT.FILE};function le(e){var t=e.match.params,n=t.bucket,o=t.path,i=e.location,l=H.D(),s=(0,R.Z)(i.search).version,d=ie(),m=j.D$().urls,f=F.D$(),p=f.analyticsBucket,v=f.noDownload,h=D.S3.use(),E=W.Jx(o),y=u.useMemo((function(){return[{label:"Python",hl:"python",contents:c()(ae||(ae=(0,r.cy)(['\n          import quilt3 as q3\n          b = q3.Bucket("s3://','")\n          b.fetch("','", "./','")\n        '],['\n          import quilt3 as q3\n          b = q3.Bucket("s3://','")\n          b.fetch("','", "./','")\n        '])),n,E,(0,a.basename)(E))},{label:"CLI",hl:"bash",contents:c()(oe||(oe=(0,r.cy)(['\n          aws s3 cp "s3://',"/",'" .\n        '],['\n          aws s3 cp "s3://',"/",'" .\n        '])),n,E)}]}),[n,E]),k=(0,O.et)(G.cY,{s3:h,bucket:n,key:E}),g=(0,O.et)(G.cY,{s3:h,bucket:n,key:E,version:s}),Z=k.case({_:function(){return!1},Ok:G.NB.case({Exists:function(){return!0},_:function(){return!1}})}),x=!v&&g.case({_:function(){return!1},Ok:G.NB.case({_:function(){return!1},Exists:function(e){var t=e.deleted,n=e.archived;return!t&&!n}})}),w={bucket:n,key:E,version:s};return u.createElement($.fC,null,u.createElement("div",{className:d.crumbs,onCopy:M.Yn},(0,M.sY)((0,X.Z)({bucket:n,path:E,urls:m,scope:l.scope,excludeBase:!0}))),u.createElement("div",{className:d.topBar},u.createElement("div",{className:d.name},(0,a.basename)(E)," ",u.createElement("span",{className:d.at},"@")," ",Z?u.createElement(ee,{bucket:n,path:E,version:s}):s?u.createElement(b.Z,{component:"span",fontFamily:"monospace.fontFamily"},s.substring(0,12)):"latest"),u.createElement("div",{className:d.actions},u.createElement(U.Z,{data:g}),x&&u.createElement($.o6,{className:d.button,handle:w}))),k.case({_:function(){return u.createElement(re,null)},Err:function(e){if("Forbidden"===e.code)return u.createElement(C.Z,{headline:"Access Denied"},"You don't have access to this object.");throw e},Ok:G.NB.case({Exists:function(){return u.createElement(u.Fragment,null,!l.hideCode&&u.createElement(Y.Z,null,y),!l.hideAnalytics&&!!p&&u.createElement(ne,(0,r.pi)({},{analyticsBucket:p,bucket:n,path:E})),u.createElement(q.Z,{icon:"remove_red_eye",heading:"Preview",defaultExpanded:!0},g.case({_:function(){return u.createElement(re,null)},Err:function(e){throw e},Ok:(e=(0,A.Z)(),G.NB.case({Exists:function(t){return t.deleted?e(_.Z.Err(N.Mh.Deleted({handle:w}))):t.archived?e(_.Z.Err(N.Mh.Archived({handle:w}))):N.zD(w,e,ce)},DoesNotExist:function(){return e(_.Z.Err(N.Mh.InvalidVersion({handle:w})))}}))})),u.createElement(te,{bucket:n,path:E,version:s}));var e},_:function(){return u.createElement(C.Z,{headline:"No Such Object"})}})}))}},74708:(e,t,n)=>{n.d(t,{Z:()=>u});var r=n(70655),a=n(26470),o=n(36962),i=n(67294),c=n(78869),l=n(36473);const u=function(e){var t=e.bucket,n=e.path,u=e.urls,s=e.scope,d=e.excludeBase,m=void 0!==d&&d,f=s&&n.startsWith(s),p=f?n.substring(s.length):n,v={label:f?(0,a.basename)(s):"ROOT",path:""},h=m?l.up(p):p,E=(0,r.ev)([v],l.tO(h),!0).map((function(e){var n=e.label,r=e.path;return c.$2.Segment({label:n,to:r===p?void 0:u.bucketDir(t,"".concat(f?s:"").concat(r))})})),y=o.Z(c.$2.Sep(i.createElement(i.Fragment,null," / ")),E);return m?(0,r.ev)((0,r.ev)([],y,!0),[c.$2.Sep(i.createElement(i.Fragment,null," /"))],!1):y}},12208:(e,t,n)=>{n.d(t,{iV:()=>p,tM:()=>f,wG:()=>m});var r,a=n(19344),o=n(83149),i=n(68981),c=n(21031),l=n(67294),u=n(17314),s=n(61542),d=n(9001),m=(0,s.Z)(["Color","Server","None"]),f=function(e){return e.map((function(e){var t=e.x,n=e.y;return"".concat(t," ").concat(n)})).join(" ")},p=(r=a.Z((function(e){if(m.is(e)){var t=u.Z();return function(n){return n(e,t)}}var n=Array.isArray(e)?o.Z(i.Z):c.Z,r=n((function(){return u.Z()}),e);return function(t){return n((function(e,n){return t(e,r[n])}),e)}}),(function(e){return e(m.case({Color:function(e){return{ref:e,def:null}},Server:function(e,t){return{ref:"url(#".concat(t,")"),def:l.cloneElement(e,{id:t,key:t})}},None:function(){return{ref:"none",def:null}}}))})),function(e){return(0,d.Z)(e,r)})}}]);
//# sourceMappingURL=5995.bfe15cac7ad8c78e9307.chunk.js.map