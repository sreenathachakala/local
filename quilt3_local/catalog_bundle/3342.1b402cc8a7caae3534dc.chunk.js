"use strict";(self.webpackChunkquilt_navigator=self.webpackChunkquilt_navigator||[]).push([[3342],{18320:(e,t,n)=>{n.d(t,{N:()=>d,G:()=>f});var r=n(70655),a=n(12880),u=n(67294),o=n(52663),l=n(66083),c=n(29525),i=n(66856),s=n(282);function m(e){var t=e.children,n=e.onSubmit,r=e.open,a=e.title,m=u.useCallback((function(){return n(!1)}),[n]),d=u.useCallback((function(){return n(!0)}),[n]);return u.createElement(o.Z,{open:r,fullWidth:!0,maxWidth:"sm"},u.createElement(l.Z,null,a),u.createElement(c.Z,null,t),u.createElement(i.Z,null,u.createElement(s.Z,{onClick:m,color:"primary",variant:"outlined"},"Cancel"),u.createElement(s.Z,{color:"primary",onClick:d,variant:"contained"},"Submit")))}function d(e){var t=e.title,n=e.onSubmit,o=u.useState(0),l=o[0],c=o[1],i=u.useState(!1),s=i[0],d=i[1],v=u.useCallback((function(){c(a.Z),d(!0)}),[]),E=u.useCallback((function(){return d(!1)}),[]),p=u.useCallback((function(e){n(e),E()}),[E,n]),f=u.useCallback((function(e){return u.createElement(m,(0,r.pi)({},{children:e,key:l,onSubmit:p,open:s,title:t}))}),[l,p,s,t]);return u.useMemo((function(){return{close:E,open:v,render:f}}),[E,v,f])}var v=n(39803),E=n(66869);function p(e){var t=e.initialValue,n=e.open,r=e.onCancel,a=e.onSubmit,m=e.title,d=e.validate,p=u.useState(t||""),f=p[0],h=p[1],g=u.useState(!1),k=g[0],y=g[1],b=u.useMemo((function(){return d(f)}),[d,f]),Z=u.useCallback((function(e){return h(e.target.value)}),[]),x=u.useCallback((function(e){e.preventDefault(),y(!0),b||a(f)}),[b,a,f]);return u.createElement(o.Z,{open:n,fullWidth:!0,maxWidth:"sm"},u.createElement("form",{onSubmit:x},u.createElement(l.Z,null,m),u.createElement(c.Z,null,u.createElement(v.Z,{autoFocus:!0,fullWidth:!0,margin:"dense",onChange:Z,value:f}),!!b&&!!k&&u.createElement(E.Z,{severity:"error"},b.message)),u.createElement(i.Z,null,u.createElement(s.Z,{onClick:r,color:"primary",variant:"outlined"},"Cancel"),u.createElement(s.Z,{color:"primary",disabled:!!b&&!!k,onClick:x,variant:"contained"},"Submit"))))}function f(e){var t=e.initialValue,n=e.title,o=e.onSubmit,l=e.validate,c=u.useState(0),i=c[0],s=c[1],m=u.useState(!1),d=m[0],v=m[1],E=u.useCallback((function(){s(a.Z),v(!0)}),[]),f=u.useCallback((function(){return v(!1)}),[]),h=u.useCallback((function(e){o(e),f()}),[f,o]),g=u.useCallback((function(){return u.createElement(p,(0,r.pi)({},{initialValue:t,key:i,onCancel:f,onSubmit:h,open:d,title:n,validate:l}))}),[t,i,f,h,d,n,l]);return u.useMemo((function(){return{close:f,open:E,render:g}}),[f,E,g])}},25333:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(70655),a=n(67294),u=n(24452),o=n(68420).g((function(){return Promise.all([n.e(7566),n.e(5655),n.e(1425)]).then(n.bind(n,3245))}),(function(){return a.createElement(u.Z,{color:"text.secondary"})}));const l=function(e,t){return a.createElement(o,(0,r.pi)({},e,t))}},63342:(e,t,n)=>{n.r(t),n.d(t,{default:()=>kn});var r=n(67294),a=n(16550),u=n(41120),o=n(57156),l=n(69534),c=n(94184),i=n.n(c),s=n(54862),m=n(73727),d=n(10770),v=n(22318),E=n(41810),p=n(23307),f=n(79895),h=n(64436),g=n(26209),k=n(85639),y=n(95757),b=u.Z((function(e){return{header:{margin:e.spacing(0,0,1)},selectWrapper:{width:"100%"},select:{padding:e.spacing(1)}}})),Z="load-more";function x(e){var t=e.queries,n=e.onChange,a=e.onLoadMore,u=e.value,o=b(),l=r.useCallback((function(e){e.target.value===Z&&a?a():n(t.find((function(t){return t.key===e.target.value}))||null)}),[t,n,a]);return r.createElement(f.Z,null,r.createElement(h.Z,{className:o.selectWrapper},r.createElement(g.Z,{classes:{root:o.select},disabled:!t.length,onChange:l,value:(null==u?void 0:u.key)||"none"},r.createElement(k.Z,{disabled:!0,value:"none"},r.createElement(y.Z,null,"Custom")),t.map((function(e){return r.createElement(k.Z,{key:e.key,value:e.key},r.createElement(y.Z,{primary:e.name,secondary:e.description}))})),!!a&&r.createElement(k.Z,{key:Z,value:Z},r.createElement(y.Z,null,r.createElement("em",null,"Load more"))))))}var N=n(70655),C=n(85693),w=n(13950),q=n(84268),S=n(33129),Q=(0,n(10946).Z)({athenaWorkgroup:"ATHENA_WORKGROUP"});function D(e){return{body:e.QueryString,description:e.Description,key:e.NamedQueryId,name:e.Name}}function W(e){var t=e.athena,n=e.prev,r=e.workgroup;return(0,N.mG)(this,void 0,Promise,(function(){var e,a,u,o;return(0,N.Jh)(this,(function(l){switch(l.label){case 0:return l.trys.push([0,3,,4]),[4,null==t?void 0:t.listNamedQueries({WorkGroup:r,NextToken:null==n?void 0:n.next}).promise()];case 1:return(e=l.sent()).NamedQueryIds&&e.NamedQueryIds.length?[4,null==t?void 0:t.batchGetNamedQuery({NamedQueryIds:e.NamedQueryIds}).promise()]:[2,{list:(null==n?void 0:n.list)||[],next:e.NextToken}];case 2:return a=l.sent(),u=(a.NamedQueries||[]).map(D),[2,{list:((null==n?void 0:n.list)||[]).concat(u),next:e.NextToken}];case 3:throw o=l.sent(),console.log("Unable to fetch"),console.error(o),o;case 4:return[2]}}))}))}function A(e,t){var n=null==t?void 0:t.defaultWorkgroup;return n&&e.includes(n)?n:Q.get("athenaWorkgroup")||e[0]}function _(e){var t=e.athena,n=e.prev,r=e.preferences;return(0,N.mG)(this,void 0,Promise,(function(){var e,a,u,o,l;return(0,N.Jh)(this,(function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),[4,t.listWorkGroups({NextToken:null==n?void 0:n.next}).promise()];case 1:return e=c.sent(),a=(e.WorkGroups||[]).map((function(e){return e.Name||"Unknown"})),[4,Promise.all(a.map((function(e){return function(e){var t,n,r,a,u,o=e.athena,l=e.workgroup;return(0,N.mG)(this,void 0,Promise,(function(){var e;return(0,N.Jh)(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,o.getWorkGroup({WorkGroup:l}).promise()];case 1:return e=c.sent(),(null===(r=null===(n=null===(t=null==e?void 0:e.WorkGroup)||void 0===t?void 0:t.Configuration)||void 0===n?void 0:n.ResultConfiguration)||void 0===r?void 0:r.OutputLocation)&&"ENABLED"===(null===(a=null==e?void 0:e.WorkGroup)||void 0===a?void 0:a.State)&&(null===(u=null==e?void 0:e.WorkGroup)||void 0===u?void 0:u.Name)?[2,e.WorkGroup.Name]:[2,null];case 2:return c.sent(),[2,null];case 3:return[2]}}))}))}({athena:t,workgroup:e})})))];case 2:return u=c.sent().filter(Boolean),[2,{defaultWorkgroup:A(o=((null==n?void 0:n.list)||[]).concat(u),r),list:o,next:e.NextToken}];case 3:throw l=c.sent(),console.log("Unable to fetch"),console.error(l),l;case 4:return[2]}}))}))}function L(e){var t,n,r,a,u,o;return{catalog:null===(t=null==e?void 0:e.QueryExecutionContext)||void 0===t?void 0:t.Catalog,completed:null===(n=null==e?void 0:e.Status)||void 0===n?void 0:n.CompletionDateTime,created:null===(r=null==e?void 0:e.Status)||void 0===r?void 0:r.SubmissionDateTime,db:null===(a=null==e?void 0:e.QueryExecutionContext)||void 0===a?void 0:a.Database,id:null==e?void 0:e.QueryExecutionId,outputBucket:null===(u=null==e?void 0:e.ResultConfiguration)||void 0===u?void 0:u.OutputLocation,query:null==e?void 0:e.Query,status:null===(o=null==e?void 0:e.Status)||void 0===o?void 0:o.State,workgroup:null==e?void 0:e.WorkGroup}}function I(e){return{error:new Error((null==e?void 0:e.ErrorMessage)||"Unknown"),id:null==e?void 0:e.QueryExecutionId}}function M(e){var t=e.athena,n=e.prev,r=e.workgroup;return(0,N.mG)(this,void 0,Promise,(function(){var e,a,u,o,l;return(0,N.Jh)(this,(function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),[4,t.listQueryExecutions({WorkGroup:r,NextToken:null==n?void 0:n.next}).promise()];case 1:return e=c.sent(),(a=e.QueryExecutionIds)&&a.length?[4,null==t?void 0:t.batchGetQueryExecution({QueryExecutionIds:a}).promise()]:[2,{list:[],next:e.NextToken}];case 2:return u=c.sent(),o=(u.QueryExecutions||[]).map(L).concat((u.UnprocessedQueryExecutionIds||[]).map(I)),[2,{list:((null==n?void 0:n.list)||[]).concat(o),next:e.NextToken}];case 3:throw l=c.sent(),console.log("Unable to fetch"),console.error(l),l;case 4:return[2]}}))}))}function G(e,t){var n,r,a,u;return(0,N.mG)(this,void 0,Promise,(function(){var o,l,c,i;return(0,N.Jh)(this,(function(s){switch(s.label){case 0:return[4,e.getQueryExecution({QueryExecutionId:t}).promise()];case 1:return o=s.sent(),l=null===(r=null===(n=null==o?void 0:o.QueryExecution)||void 0===n?void 0:n.Status)||void 0===r?void 0:r.State,c=(null==o?void 0:o.QueryExecution)?L(null==o?void 0:o.QueryExecution):{id:t},"FAILED"===l||"CANCELLED"===l?(i=(null===(u=null===(a=null==o?void 0:o.QueryExecution)||void 0===a?void 0:a.Status)||void 0===u?void 0:u.StateChangeReason)||"",[2,(0,N.pi)((0,N.pi)({},c),{error:new Error("".concat(l,": ").concat(i))})]):l?"SUCCEEDED"===l?[2,c]:[4,(0,S.Z)(1e3)]:[2,(0,N.pi)((0,N.pi)({},c),{error:new Error("Unknown query execution status")})];case 2:return s.sent(),[3,0];case 3:return[2]}}))}))}var P=[],z=[],O=[];function T(e){var t,n,r,a,u,o=e.athena,l=e.queryExecutionId,c=e.prev;return(0,N.mG)(this,void 0,Promise,(function(){var e,i,s,m,d,v,E;return(0,N.Jh)(this,(function(p){switch(p.label){case 0:return[4,G(o,l)];case 1:if((e=p.sent()).error)return[2,{rows:z,columns:O,queryExecution:e}];p.label=2;case 2:return p.trys.push([2,4,,5]),[4,o.getQueryResults({QueryExecutionId:l,NextToken:null==c?void 0:c.next}).promise()];case 3:return i=p.sent(),s=(null===(n=null===(t=i.ResultSet)||void 0===t?void 0:t.Rows)||void 0===n?void 0:n.map((function(e){var t;return(null===(t=null==e?void 0:e.Data)||void 0===t?void 0:t.map((function(e){return(null==e?void 0:e.VarCharValue)||""})))||P})))||z,m=(0,N.ev)((0,N.ev)([],(null==c?void 0:c.rows)||z,!0),s,!0),d=(null===(u=null===(a=null===(r=i.ResultSet)||void 0===r?void 0:r.ResultSetMetadata)||void 0===a?void 0:a.ColumnInfo)||void 0===u?void 0:u.map((function(e){return{name:e.Name,type:e.Type}})))||O,v=d.every((function(e,t){return e.name===m[0][t]})),[2,{rows:v?m.slice(1):m,columns:d,next:i.NextToken,queryExecution:e}];case 4:return E=p.sent(),[2,{rows:z,columns:O,queryExecution:(0,N.pi)((0,N.pi)({},e),{error:E instanceof Error?E:new Error("".concat(E))})}];case 5:return[2]}}))}))}function R(e){var t,n=e.athena,r=e.prev;return(0,N.mG)(this,void 0,Promise,(function(){var e,a;return(0,N.Jh)(this,(function(u){switch(u.label){case 0:return[4,null==n?void 0:n.listDataCatalogs({NextToken:null==r?void 0:r.next}).promise()];case 1:return e=u.sent(),a=(null===(t=null==e?void 0:e.DataCatalogsSummary)||void 0===t?void 0:t.map((function(e){return e.CatalogName||"Unknown"})))||[],[2,{list:((null==r?void 0:r.list)||[]).concat(a),next:e.NextToken}]}}))}))}function U(e){var t,n=e.athena,r=e.catalogName,a=e.prev;return(0,N.mG)(this,void 0,Promise,(function(){var e,u;return(0,N.Jh)(this,(function(o){switch(o.label){case 0:return[4,null==n?void 0:n.listDatabases({CatalogName:r,NextToken:null==a?void 0:a.next}).promise()];case 1:return e=o.sent(),u=(null===(t=null==e?void 0:e.DatabaseList)||void 0===t?void 0:t.map((function(e){return e.Name||"Unknown"})))||[],[2,{list:((null==a?void 0:a.list)||[]).concat(u),next:e.NextToken}]}}))}))}function F(e){var t=C.tr.use();return r.useCallback((function(n,r){return t?function(e){var t=e.athena,n=e.queryBody,r=e.workgroup,a=e.executionContext;return(0,N.mG)(this,void 0,Promise,(function(){var e,u,o;return(0,N.Jh)(this,(function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),e={QueryString:n,ResultConfiguration:{EncryptionConfiguration:{EncryptionOption:"SSE_S3"}},WorkGroup:r},a&&(e.QueryExecutionContext={Catalog:a.catalogName,Database:a.database}),[4,t.startQueryExecution(e).promise()];case 1:if(!(u=l.sent().QueryExecutionId))throw new Error("No execution id");return[2,{id:u}];case 2:throw o=l.sent(),console.log("Unable to fetch"),console.error(o),o;case 3:return[2]}}))}))}({athena:t,queryBody:n,workgroup:e,executionContext:r}):Promise.reject(new Error("No Athena available"))}),[t,e])}var B=n(10180),J=n(14434),V=n(73206),$=n(42059),j=n(25566);function H(e){return t=e,B.Z(Object,t)&&B.Z(Object,t.queries)?Object.entries(e.queries).map((function(e){var t=e[0],n=e[1];return(0,N.pi)((0,N.pi)({},n),{key:t})})):[];var t}var K=function(e){var t=e.s3,n=e.bucket;return(0,N.mG)(void 0,void 0,Promise,(function(){var e,r;return(0,N.Jh)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,$.dc({s3:t,bucket:n,path:J.ms})];case 1:return e=a.sent(),[2,H(j.Q(e.Body.toString("utf-8")))];case 2:if((r=a.sent())instanceof V.s0||r instanceof V.V2)return[2,[]];throw console.log("Unable to fetch"),console.error(r),r;case 3:return[2]}}))}))};var Y=n(36473),X=function(e){var t=e.s3,n=e.queryUrl;return(0,N.mG)(void 0,void 0,Promise,(function(){var e,r,a,u,o,l;return(0,N.Jh)(this,(function(c){switch(c.label){case 0:e=Y.UD(n),r=e.bucket,a=e.key,u=e.version,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,$.dc({s3:t,bucket:r,path:a,version:u})];case 2:return o=c.sent(),[2,JSON.parse(o.Body.toString("utf-8"))];case 3:if((l=c.sent())instanceof V.s0||l instanceof V.V2)return[2,null];throw console.log("Unable to fetch"),console.error(l),l;case 4:return[2]}}))}))};function ee(e){var t=C.S3.use();return(0,q.et)(X,{s3:t,queryUrl:e},{noAutoFetch:!e})}var te=n(46974),ne=n(57996);function re(e){var t=e.req,n=e.query;return(0,N.mG)(this,void 0,Promise,(function(){var e,r;return(0,N.Jh)(this,(function(a){try{if("string"==typeof n||!n)throw new Error("Query is incorrect");return e={index:n.index,filter_path:n.filter_path,action:"freeform",body:JSON.stringify(n.body)},n.size&&(e.size=n.size),n.from&&(e.from=n.size),r=(0,ne.Z)(e),[2,t("/search".concat(r))]}catch(e){if(e instanceof V.s0||e instanceof V.V2)return[2,null];throw console.log("Unable to fetch"),console.error(e),e}return[2]}))}))}var ae=n(66869),ue=n(37155),oe=n(6626),le=u.Z((function(e){return{header:{margin:e.spacing(0,0,1)}}}));function ce(e){var t=e.className,n=e.empty,a=e.title,u=e.children,o=le();return!u&&n?r.createElement(v.Z,{className:i()(o.header,t)},n):r.createElement("div",{className:t},r.createElement(v.Z,{className:o.header},a),u)}function ie(e){var t=e.error,n=e.title,a=oe.D$();return r.useEffect((function(){a("captureException",t)}),[t,a]),r.createElement(ae.Z,{severity:"error"},r.createElement(ue.Z,null,n),t.message)}function se(e){return function(t){return r.createElement(ie,{error:t,title:e})}}var me=n(868),de=n(17812),ve=n(92863),Ee=n(282),pe=n(18320),fe=n(97833),he=n(20358),ge=n(10529),ke=n(25333);function ye(){return r.createElement(f.Z,null,r.createElement(ge.Z,{p:3,textAlign:"center"},r.createElement(v.Z,{variant:"h6"},"No results for this query"),r.createElement(v.Z,null,"Select another query execution or execute another query")))}var be=u.Z((function(e){return{root:{padding:e.spacing(2)}}}));function Ze(e){var t=e.className,n=e.columns,a=e.onLoadMore,u=e.rows,o=be(),l=r.useMemo((function(){return u.map((function(e){return e.reduce((function(e,t,r){var a,u;return(0,N.pi)((0,N.pi)({},e),((a={})[(null===(u=n[r])||void 0===u?void 0:u.name)||"Unknown"]=t,a))}),{})}))}),[n,u]);return l.length?r.createElement(f.Z,{className:o.root},r.createElement(ke.Z,{className:t,data:l,onLoadMore:a,truncated:!!a})):r.createElement(ye,null)}function xe(){return r.createElement(me.ZP,{title:"You can create packages from the query results. Click to see the docs."},r.createElement("a",{href:"https://docs.quiltdata.com/advanced/athena",target:"_blank"},r.createElement(de.Z,null,r.createElement(ve.Z,null,"help_outline"))))}function Ne(e){var t=e.columns.map((function(e){return e.name}));return t.includes("size")&&t.includes("physical_keys")&&t.includes("logical_key")}function Ce(e){return e.rows.reduce((function(t,n){return t.concat(function(e,t){return e.reduce((function(e,n,r){var a;return t[r].name?(0,N.pi)((0,N.pi)({},e),((a={})[t[r].name]=n,a)):e}),{})}(n,e.columns))}),[]).reduce((function(t,n,r){var a=function(e){var t;if(!e.logical_key)return null;if(!e.physical_keys)return null;try{var n=Y.UD(e.physical_keys.replace(/^\[/,"").replace(/\]$/,"")),r=Number(e.size),a=Number.isNaN(r)?0:r;return(t={})[e.logical_key]=(0,N.pi)((0,N.pi)({},n),{size:a}),t}catch(e){return console.error(e),null}}(n);return a?{valid:(0,N.pi)((0,N.pi)({},t.valid),a),invalid:t.invalid}:{valid:t.valid,invalid:(0,N.ev)((0,N.ev)([],t.invalid,!0),[e.rows[r]],!1)}}),{valid:{},invalid:[]})}var we=u.Z((function(e){return{results:{"div&":{minHeight:e.spacing(30)}}}}));function qe(e){var t=e.bucket,n=e.queryResults,a=we(),u=r.useState({valid:{},invalid:[]}),o=u[0],l=u[1],c=fe.D(),i=(0,he.e)({bucket:t,delayHashing:!0,disableStateDisplay:!0}),s=r.useCallback((function(e){e&&(null==c||c.merge(o.valid),i.open())}),[c,o,i]),m=pe.N({title:"These rows will be discarded. Confirm creating package?",onSubmit:s}),d=r.useCallback((function(){if(Ne(n)){var e=Ce(n);l(e),e.invalid.length?m.open():(null==c||c.merge(e.valid),i.open())}}),[c,m,i,n]);return Ne(n)?r.createElement(r.Fragment,null,i.render({successTitle:"Package created",successRenderMessage:function(e){var t=e.packageLink;return r.createElement(r.Fragment,null,"Package ",t," successfully created")},title:"Create package"}),m.render(r.createElement(Ze,{className:a.results,rows:o.invalid,columns:n.columns})),r.createElement(Ee.Z,{color:"primary",onClick:d,size:"small",variant:"outlined"},"Create package")):r.createElement(xe,null)}var Se=n(74981),Qe=n(30585),De=(n(89899),n(76381),n(67456)),We=n(70397),Ae=n(43700),_e=n(52663),Le=n(66083),Ie=n(29525),Me=n(66856);function Ge(e){var t=e.error;return r.createElement(ae.Z,{severity:"error"},r.createElement(ue.Z,null,t.name),t.message)}function Pe(){return r.createElement(p.Z,{height:32,animate:!0})}var ze="__load-more__",Oe=u.Z({root:{width:"100%"}});function Te(e){var t=e.data,n=e.label,a=e.onChange,u=e.onLoadMore,o=Oe(),l=r.useCallback((function(e){var n=e.target.value;n===ze?u(t):a(n)}),[t,u,a]);return r.createElement(h.Z,{className:o.root},r.createElement(Ae.Z,null,n),r.createElement(g.Z,{onChange:l},t.list.map((function(e){return r.createElement(k.Z,{value:e},e)})),t.next&&r.createElement(k.Z,{value:ze},"Load more")))}function Re(e){var t=e.onChange,n=r.useState(null),a=n[0],u=n[1],o=function(e){var t=C.tr.use();return(0,q.et)(R,{athena:t,prev:e})}(a);return o.case({Ok:function(e){return r.createElement(Te,{data:e,label:"Data catalog",onChange:t,onLoadMore:u})},Err:function(e){return r.createElement(Ge,{error:e})},_:function(){return r.createElement(Pe,null)}})}function Ue(e){var t=e.catalogName,n=e.onChange,a=r.useState(null),u=a[0],o=a[1],l=function(e,t){var n=C.tr.use();return(0,q.et)(U,{athena:n,catalogName:e,prev:t},{noAutoFetch:!e})}(t,u);return l.case({Ok:function(e){return r.createElement(Te,{data:e,label:"Database",onChange:n,onLoadMore:o})},Err:function(e){return r.createElement(Ge,{error:e})},_:function(){return r.createElement(Pe,null)}})}var Fe=u.Z((function(e){return{select:{width:"100%","& + &":{marginTop:e.spacing(2)}}}}));function Be(e){var t=e.initialValue,n=e.open,a=e.onChange,u=e.onClose,o=Fe(),l=r.useState((null==t?void 0:t.catalogName)||null),c=l[0],i=l[1],s=r.useState((null==t?void 0:t.database)||null),m=s[0],d=s[1],v=r.useCallback((function(){c&&m&&(a({catalogName:c,database:m}),u())}),[c,m,a,u]);return r.createElement(_e.Z,{open:n,onClose:u,fullWidth:!0,maxWidth:"sm"},r.createElement(Le.Z,null,"Select data catalog and database"),r.createElement(Ie.Z,null,r.createElement("div",{className:o.select},r.createElement(Re,{onChange:i})),c&&r.createElement("div",{className:o.select},r.createElement(Ue,{catalogName:c,onChange:d}))),r.createElement(Me.Z,null,r.createElement(Ee.Z,{color:"primary",variant:"outlined",onClick:u},"Cancel"),r.createElement(Ee.Z,{color:"primary",disabled:!c||!m,onClick:v,variant:"contained"},"Submit")))}var Je=u.Z((function(e){return{root:{alignItems:"center",display:"flex"},button:{marginLeft:e.spacing(1)}}}));function Ve(e){var t=e.className,n=e.database,a=e.onClick,u=Je();return r.createElement(v.Z,{className:i()(u.root,t),variant:"body2"},"Use ",n?r.createElement("strong",null,n):"default"," database or",r.createElement(Ee.Z,{className:u.button,color:"primary",onClick:a,size:"small",variant:"outlined"},n?"change":"set"," database"))}function $e(e){var t=e.className,n=e.value,a=e.onChange,u=r.useState(!1),o=u[0],l=u[1];return r.createElement(r.Fragment,null,r.createElement(Be,{initialValue:n,onChange:a,onClose:function(){return l(!1)},open:o}),r.createElement(Ve,{className:t,database:null==n?void 0:n.database,onClick:function(){return l(!0)}}))}var je=u.Z((function(e){return{editor:{padding:e.spacing(1)},header:{margin:e.spacing(0,0,1)}}}));function He(e){var t=e.className,n=e.query,a=e.onChange,u=je();return r.createElement("div",{className:t},r.createElement(v.Z,{className:u.header,variant:"body1"},"Query body"),r.createElement(f.Z,{className:u.editor},r.createElement(Se.ZP,{editorProps:{$blockScrolling:!0},height:"200px",mode:"sql",onChange:a,theme:"eclipse",value:n,width:"100%"})),r.createElement(Qe.Z,null,"Quilt uses AWS Athena SQL. Learn more:"," ",r.createElement(We.Z,{href:"https://aws.amazon.com/athena/",target:"_blank"},"Introduction"),","," ",r.createElement(We.Z,{href:"https://docs.aws.amazon.com/athena/latest/ug/ddl-sql-reference.html",target:"_blank"},"SQL Reference for Amazon Athena"),","," ",r.createElement(We.Z,{href:"https://docs.aws.amazon.com/athena/latest/ug/presto-functions.html",target:"_blank"},"Functions in Amazon Athena"),"."))}var Ke=u.Z((function(e){return{button:{height:e.spacing(4),marginTop:e.spacing(2),width:e.spacing(14)},canvas:{flexGrow:1,height:e.spacing(27),marginLeft:e.spacing(1)},editor:{display:"flex",marginTop:e.spacing(1)},helper:{height:e.spacing(2),marginTop:e.spacing(1)},numbers:{height:e.spacing(27),width:e.spacing(5)},title:{height:e.spacing(3),width:e.spacing(16)}}}));function Ye(e){var t=e.className,n=Ke();return r.createElement("div",{className:t},r.createElement(p.Z,{className:n.title,animate:!0}),r.createElement("div",{className:n.editor},r.createElement(p.Z,{className:n.numbers,animate:!0}),r.createElement(p.Z,{className:n.canvas,animate:!0})),r.createElement(p.Z,{className:n.helper,animate:!0}),r.createElement(p.Z,{className:n.button,animate:!0}))}var Xe=u.Z((function(e){return{actions:{alignItems:"center",justifyContent:"space-between",display:"flex",margin:e.spacing(2,0)},error:{margin:e.spacing(1,0,0)}}}));function et(e){var t=e.bucket,n=e.className,u=e.onChange,o=e.queryExecutionId,c=e.value,i=e.workgroup,s=Xe(),m=r.useState(null),d=m[0],v=m[1],E=function(e,t,n){var u=this,o=l.D$().urls,c=a.k6(),i=r.useState(!1),s=i[0],m=i[1],d=r.useState(),v=d[0],E=d[1],p=F(t),f=De.D$().push,h=r.useCallback((function(n){return c.push(o.bucketAthenaExecution(e,t,n))}),[e,c,o,t]),g=r.useCallback((function(e,t){return(0,N.mG)(u,void 0,void 0,(function(){var r,a;return(0,N.Jh)(this,(function(u){switch(u.label){case 0:m(!0),E(void 0),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,p(e,t)];case 2:return(r=u.sent().id)===n&&f("Query execution results remain unchanged"),m(!1),h(r),[3,4];case 3:if(a=u.sent(),m(!1),!(a instanceof Error))throw a;return E(a),[3,4];case 4:return[2]}}))}))}),[h,f,p,n]);return r.useMemo((function(){return{loading:s,error:v,onSubmit:g}}),[s,v,g])}(t,i,o),p=E.loading,f=E.error,h=E.onSubmit,g=r.useCallback((function(){c&&h(c,d)}),[d,h,c]);return r.createElement("div",{className:n},r.createElement(He,{onChange:u,query:c||""}),f&&r.createElement(ae.Z,{className:s.error,severity:"error"},f.message),r.createElement("div",{className:s.actions},r.createElement($e,{onChange:v,value:d}),r.createElement(Ee.Z,{variant:"contained",color:"primary",disabled:!c||p,onClick:g},"Run query")))}var tt=n(87553),nt=n(84792),rt=n(57394),at=n(88222),ut=n(66037),ot=n(56847),lt=n(82302),ct=n(83750),it=n(99613),st=n(43031),mt=n(9961),dt=n(99643),vt=u.Z({root:{transition:"ease transform .15s"},expanded:{transform:"rotate(90deg)"}});function Et(e){var t,n=e.expanded,a=e.onClick,u=vt();return r.createElement(de.Z,{onClick:a,size:"small",className:i()(u.root,(t={},t[u.expanded]=n,t))},r.createElement(ve.Z,null,"keyboard_arrow_right"))}var pt=u.Z({root:{whiteSpace:"nowrap"}});function ft(e){var t=e.date,n=pt(),a=r.useMemo((function(){return t?tt.Z(t,"MMM do, HH:mm:ss"):null}),[t]);return r.createElement("span",{className:n.root},a)}function ht(e){var t=e.bucket,n=e.queryExecution,a=e.workgroup,u=l.D$().urls;return"SUCCEEDED"!==n.status?r.createElement(ft,{date:n.completed}):r.createElement(We.Z,{to:u.bucketAthenaExecution(t,a,n.id)},r.createElement(ft,{date:n.completed}))}function gt(e){var t=e.queryExecution,n=De.D$().push,a=r.useCallback((function(){t.query&&((0,mt.Z)(t.query),n("Query has been copied to clipboard"))}),[n,t.query]);return r.createElement(de.Z,{onClick:a,size:"small"},r.createElement(ve.Z,null,"content_copy"))}var kt=u.Z((function(e){return{cell:{paddingBottom:0,paddingTop:0},collapsed:{borderBottom:0},query:{maxHeight:e.spacing(30),maxWidth:"100%",overflow:"auto"}}}));function yt(e){var t,n,a=e.expanded,u=e.queryExecution,o=kt();return r.createElement(rt.Z,null,r.createElement(at.Z,{padding:"checkbox",className:i()(o.cell,(t={},t[o.collapsed]=!a,t))},!!a&&r.createElement(gt,{queryExecution:u})),r.createElement(at.Z,{colSpan:4,className:i()(o.cell,(n={},n[o.collapsed]=!a,n))},r.createElement(ut.Z,{in:a},r.createElement("pre",{className:o.query},u.query))))}function bt(e){var t=e.bucket,n=e.queryExecution,a=e.workgroup,u=r.useState(!1),o=u[0],l=u[1],c=r.useCallback((function(){return l(!o)}),[o]);return n.error?r.createElement(rt.Z,null,r.createElement(at.Z,{colSpan:5},r.createElement(ae.Z,{severity:"warning"},n.error.message))):r.createElement(r.Fragment,null,r.createElement(rt.Z,null,r.createElement(at.Z,{padding:"checkbox"},r.createElement(Et,{expanded:o,onClick:c})),r.createElement(at.Z,null,(0,dt.AO)(n.query||"",50)),r.createElement(at.Z,null,r.createElement("abbr",{title:n.id},n.status||"UNKNOWN")),r.createElement(at.Z,null,r.createElement(ft,{date:n.created})),r.createElement(at.Z,null,r.createElement(ht,{queryExecution:n,bucket:t,workgroup:a}))),n.query&&r.createElement(yt,{expanded:o,queryExecution:n}))}function Zt(){return r.createElement(ge.Z,{p:3,textAlign:"center"},r.createElement(v.Z,{variant:"h6"},"No executions for this workgroup"),r.createElement(v.Z,null,"Select another workgroup or execute some query"))}var xt=u.Z((function(e){return{queryCell:{width:"40%"},actionCell:{width:"24px"},header:{margin:e.spacing(0,0,1)},footer:{display:"flex",padding:e.spacing(1)},more:{marginLeft:"auto"},table:{tableLayout:"fixed"}}}));function Nt(e){var t=e.bucket,n=e.executions,a=e.onLoadMore,u=e.workgroup,o=xt(),l=r.useState(1),c=l[0],i=l[1],s=r.useCallback((function(e,t){i(t)}),[i]),m=r.useMemo((function(){return nt.Z((function(e,t){return(null==t?void 0:t.completed)&&(null==e?void 0:e.completed)?t.completed.valueOf()-e.completed.valueOf():-1}),n)}),[n]),d=m.slice(10*(c-1),10*c),v=m.length>d.length;return r.createElement(ot.Z,{component:f.Z},r.createElement(lt.Z,{size:"small",className:o.table},r.createElement(ct.Z,null,r.createElement(rt.Z,null,r.createElement(at.Z,{className:o.actionCell}),r.createElement(at.Z,{className:o.queryCell},"Query"),r.createElement(at.Z,null,"Status"),r.createElement(at.Z,null,"Date created"),r.createElement(at.Z,null,"Date completed"))),r.createElement(it.Z,null,d.map((function(e){return r.createElement(bt,{bucket:t,queryExecution:e,key:e.id,workgroup:u})})),!n.length&&r.createElement(rt.Z,null,r.createElement(at.Z,{colSpan:5},r.createElement(Zt,null))))),(v||!!a)&&r.createElement("div",{className:o.footer},v&&r.createElement(st.Z,{count:Math.ceil(n.length/10),page:c,size:"small",onChange:s}),a&&r.createElement(Ee.Z,{className:o.more,size:"small",onClick:a},"Load more")))}var Ct=u.Z((function(e){return{selectWrapper:{width:"100%"},select:{padding:e.spacing(1)}}})),wt="load-more";function qt(e){var t=e.bucket,n=e.onLoadMore,u=e.value,o=e.workgroups,c=Ct(),i=l.D$().urls,s=a.k6(),m=r.useCallback((function(e){s.push(i.bucketAthenaWorkgroup(t,e))}),[t,s,i]),d=r.useCallback((function(e){var t;e.target.value===wt?n(o):(t=e.target.value,Q.set("athenaWorkgroup",t),m(e.target.value))}),[m,n,o]);return r.createElement(f.Z,null,r.createElement(h.Z,{className:c.selectWrapper},r.createElement(g.Z,{classes:{root:c.select},disabled:!o.list.length,onChange:d,value:u||"none"},o.list.map((function(e){return r.createElement(k.Z,{key:e,value:e},r.createElement(y.Z,null,e))})),o.next&&r.createElement(k.Z,{key:wt,value:wt},r.createElement(y.Z,null,r.createElement("em",null,"Load more"))))))}function St(e){var t=e.error;return r.createElement(r.Fragment,null,t?r.createElement(ie,{title:t.name,error:t}):r.createElement(ae.Z,{severity:"info"},r.createElement(ue.Z,null,"No Athena workgroup available. Please ask an AWS Administrator to create one with an appropriate OutputLocation")))}function Qt(e){var t=e.bucket,n=e.workgroups,u=l.D$().urls;return r.createElement(a.l_,{to:u.bucketAthenaWorkgroup(t,n.defaultWorkgroup)})}function Dt(e){var t=e.bucket,n=e.workgroup,a=r.useState(null),u=a[0],o=a[1],l=function(e){var t=C.tr.use(),n=w.D$().preferences;return(0,q.et)(_,{athena:t,prev:e,preferences:null==n?void 0:n.ui.athena})}(u);return l.case({Ok:function(e){return!n&&e.defaultWorkgroup?r.createElement(Qt,{bucket:t,workgroups:e}):r.createElement(ce,{title:"Select workgroup",empty:r.createElement(St,null)},e.list.length&&r.createElement(qt,{bucket:t,onLoadMore:o,value:n,workgroups:e}))},Err:function(e){return r.createElement(St,{error:e})},_:function(){return r.createElement(r.Fragment,null,r.createElement(p.Z,{height:24,width:128,animate:!0}),r.createElement(p.Z,{height:48,mt:1,animate:!0}))}})}var Wt=u.Z((function(e){return{form:{margin:e.spacing(3,0,0)}}}));function At(e){var t=e.bucket,n=e.queryExecutionId,a=e.className,u=e.initialValue,o=e.workgroup,l=r.useState(null),c=l[0],i=l[1],s=r.useState(null),m=s[0],d=s[1],v=function(e,t){var n=C.tr.use();return(0,q.et)(W,{athena:n,prev:t,workgroup:e},{noAutoFetch:!e})}(o,m),E=Wt(),f=r.useState(u||null),h=f[0],g=f[1],k=r.useCallback((function(e){g(e),i(null)}),[]),y=r.useCallback((function(e){i(e),g((null==e?void 0:e.body)||null)}),[]);return r.createElement("div",{className:a},v.case({Ok:function(e){return r.createElement(ce,{title:"Select query",empty:"There are no saved queries."},!!e.list.length&&r.createElement(x,{onChange:y,onLoadMore:e.next?function(){return d(e)}:void 0,queries:e.list,value:c}))},Err:se("Select query"),_:function(){return r.createElement(r.Fragment,null,r.createElement(p.Z,{height:24,width:128,animate:!0}),r.createElement(p.Z,{height:48,mt:1,animate:!0}))}}),r.createElement(et,{bucket:t,className:E.form,queryExecutionId:n,workgroup:o,onChange:k,value:h}))}function _t(e){var t=e.bucket,n=e.className,a=e.workgroup,u=r.useState(null),o=u[0],l=u[1],c=function(e,t){var n=C.tr.use();return(0,q.et)(M,{athena:n,prev:t,workgroup:e},{noAutoFetch:!e})}(a,o);return r.createElement(ce,{title:"Query executions",className:n},c.case({Ok:function(e){return r.createElement(Nt,{bucket:t,executions:e.list,onLoadMore:e.next?function(){return l(e)}:void 0,workgroup:a})},Err:se("Executions Data"),_:function(){return r.createElement(Gt,{size:4})}}))}var Lt=u.Z((function(e){return{breadcrumbs:{margin:e.spacing(0,0,1)}}}));function It(e){var t=e.bucket,n=e.className,a=e.queryExecutionId,u=e.workgroup,o=Lt();return r.createElement("div",{className:n},r.createElement(Tt,{bucket:t,className:o.breadcrumbs,queryExecutionId:a,workgroup:u},r.createElement(p.Z,{height:24,width:144,animate:!0})),r.createElement(Gt,{size:10}))}function Mt(e){var t=e.bucket,n=e.className,a=e.queryExecutionId,u=e.queryResults,o=e.onLoadMore,l=e.workgroup,c=Lt();return r.createElement("div",{className:n},r.createElement(Tt,{bucket:t,className:c.breadcrumbs,queryExecutionId:a,workgroup:l},!!u.rows.length&&r.createElement(qe,{bucket:t,queryResults:u})),u.rows.length?r.createElement(Ze,{rows:u.rows,columns:u.columns,onLoadMore:o}):u.queryExecution.error?r.createElement(ie,{error:u.queryExecution.error,title:"Query Results Data"}):u.queryExecution?r.createElement(Nt,{bucket:t,executions:[u.queryExecution],workgroup:l}):r.createElement(ie,{error:new Error("Couldn't fetch query results"),title:"Query Results Data"}))}function Gt(e){var t=e.size;return r.createElement(r.Fragment,null,r.createElement(p.Z,{height:36,animate:!0}),s.Z(0,t).map((function(e){return r.createElement(p.Z,{key:e,height:36,mt:1,animate:!0})})))}function Pt(e){var t=r.useState(null),n=t[0],a=t[1],u=function(e,t){var n=C.tr.use();return(0,q.et)(T,{athena:n,prev:t,queryExecutionId:e},{noAutoFetch:!e})}(e||null,n);return r.useMemo((function(){return{data:u,loadMore:a}}),[u])}var zt=u.Z({li:{"&::before":{position:"absolute"}},separator:{alignItems:"center"}}),Ot=u.Z({root:{alignItems:"center",display:"flex"},actions:{marginLeft:"auto"},breadcrumb:{display:"flex"},id:{marginLeft:"6px"}});function Tt(e){var t=e.bucket,n=e.children,a=e.className,u=e.queryExecutionId,o=e.workgroup,c=Ot(),s=zt(),p=l.D$().urls;return r.createElement("div",{className:i()(c.root,a)},r.createElement(d.Z,{classes:s},r.createElement(m.Link,{className:c.breadcrumb,to:p.bucketAthenaWorkgroup(t,o)},"Query Executions"),r.createElement(v.Z,{className:c.breadcrumb,color:"textPrimary"},"Results for",r.createElement(E.Z,{className:c.id},u))),r.createElement("div",{className:c.actions},n))}var Rt=u.Z((function(e){return{header:{margin:e.spacing(0,0,2)},content:{margin:e.spacing(1,0,0)},section:{margin:e.spacing(3,0,0)}}}));function Ut(e){var t=e.bucket,n=e.workgroup,a=Rt();return r.createElement("div",{className:a.content},r.createElement(At,{bucket:t,className:a.section,key:n,workgroup:n}),r.createElement(_t,{bucket:t,className:a.section,workgroup:n}))}function Ft(e){var t=e.bucket,n=e.workgroup,a=e.queryExecutionId,u=Rt(),o=Pt(a);return r.createElement("div",{className:u.content},o.data.case({Ok:function(e){var o;return r.createElement(At,{bucket:t,className:u.section,queryExecutionId:a,initialValue:null===(o=null==e?void 0:e.queryExecution)||void 0===o?void 0:o.query,workgroup:n})},_:function(){return r.createElement(r.Fragment,null,r.createElement("div",{className:u.section},r.createElement(p.Z,{height:24,width:128,animate:!0}),r.createElement(p.Z,{height:48,mt:1,animate:!0,mb:3})),r.createElement(Ye,{className:u.section}))}}),o.data.case({Ok:function(e){return r.createElement(Mt,{bucket:t,className:u.section,queryExecutionId:a,queryResults:e,onLoadMore:e.next?function(){return o.loadMore(e)}:void 0,workgroup:n})},_:function(){return r.createElement(It,{bucket:t,className:u.section,queryExecutionId:a,workgroup:n})},Err:se("Query Results Data")}))}function Bt(e){var t=e.match.params,n=t.bucket,a=t.queryExecutionId,u=t.workgroup,o=Rt();return r.createElement(r.Fragment,null,r.createElement(v.Z,{className:o.header,variant:"h6"},"Athena SQL"),r.createElement(Dt,{bucket:n,workgroup:u||null}),u&&(a?r.createElement(Ft,{bucket:n,queryExecutionId:a,workgroup:u}):r.createElement(Ut,{bucket:n,workgroup:u})))}var Jt=n(33287),Vt=n(50843),$t=n(95477),jt=n(74391),Ht=u.Z((function(e){return{content:{margin:e.spacing(1,0,0),maxWidth:"100%",padding:e.spacing(3,4,4)}}}));function Kt(e){var t=e.results,n=Ht();return r.createElement("div",null,r.createElement(v.Z,{variant:"body1"},"Search results"),r.createElement(f.Z,{className:n.content},r.createElement(jt.Z,{className:"",value:t,name:void 0,topLevel:!0,defaultExpanded:!0})))}var Yt=n(1581),Xt=n.n(Yt),en=n(38616),tn=n.n(en),nn=n(14596),rn=n(8920);n(58750),n(91730),n(80400);const an=JSON.parse('{"type":"object","properties":{"body":{"type":"object"},"filter_path":{"type":"string"},"from":{"type":"number"},"index":{"type":"string"},"size":{"type":"number"}},"required":["body","index"],"additionalProperties":false}');var un="https://www.elastic.co/guide/en/elasticsearch/reference/".concat("6.7","/search.html"),on=new(Xt())({allErrors:!0,verbose:!0}),ln=u.Z((function(e){return{editor:{padding:e.spacing(1),"& .jsoneditor":{border:0}},header:{margin:e.spacing(0,0,1)}}}));function cn(e){var t=e.className,n=e.query,a=e.onChange,u=e.onError,o=ln(),l=rn.Z(),c=r.useState(null),i=c[0],s=c[1],m=r.useCallback((function(e){return a(e)}),[a]),d=r.useCallback((function(e){s(e),u(e)}),[u,s]),E=r.useCallback((function(e){u(e&&e.length?e[0]:null)}),[u]),p=r.useMemo((function(){return{style:{height:l.spacing(30)}}}),[l]);return r.createElement("div",{className:t},r.createElement(v.Z,{className:o.header,variant:"body1"},"Query body"),r.createElement(f.Z,{className:o.editor},r.createElement(nn.A,{ace:tn(),ajv:on,htmlElementProps:p,mainMenuBar:!1,mode:"code",navigationBar:!1,onChange:m,onError:d,onValidationError:E,schema:an,search:!1,statusBar:!1,theme:"ace/theme/eclipse",value:n}),i&&r.createElement(ae.Z,{key:i.message,severity:"error"},i.message)),r.createElement(Qe.Z,null,"Quilt uses ElasticSearch 6.7 Search API."," ",r.createElement(We.Z,{href:un,target:"_blank"},"Learn more"),"."))}var sn=u.Z((function(e){return{actions:{margin:e.spacing(2,0)},container:{display:"flex",padding:e.spacing(3)},inner:{margin:e.spacing(2,0,0)},form:{margin:e.spacing(0,0,4)},sectionHeader:{margin:e.spacing(0,0,1)},select:{margin:e.spacing(3,0)},viewer:{margin:e.spacing(3,0)}}}));function mn(e){var t=e.children,n=function(e){var t=te.D$();return(0,q.et)(re,{req:t,query:e},{noAutoFetch:!e})}(e.queryBody);return t(n)}function dn(e){var t=e.children,n=e.query;return t(ee(n?n.url:""))}function vn(e){var t=e.bucket,n=e.children,a=sn(),u=function(e){var t=C.S3.use();return(0,q.et)(K,{s3:t,bucket:e})}(t),o=r.useState(null),l=o[0],c=o[1],i=r.useState(null),s=i[0],m=i[1],d=r.useState(null),v=d[0],E=d[1],p=r.useState(null),f=p[0],h=p[1],g=r.useMemo((function(){return function(e){return function(){return E(e)}}}),[E]),k=r.useCallback((function(e){c(e),m(null)}),[]);return u.case({Ok:function(e){return r.createElement(dn,{query:l||e[0]},(function(t){return r.createElement(mn,{queryBody:v},(function(r){return n({customQueryBody:s,error:f,handleError:h,handleQueryBodyChange:m,handleQueryMetaChange:k,handleSubmit:g,queries:e,queryData:t,queryMeta:l||e[0],resultsData:r})}))}))},Err:function(e){return r.createElement("div",{className:a.container},r.createElement(ae.Z,{severity:"error"},e.message))},_:function(){return r.createElement("div",{className:a.container},r.createElement($t.Z,{size:48}))}})}function En(e){var t=e.disabled,n=e.value,a=e.onChange,u=e.onError,o=e.onSubmit,l=sn();return r.createElement("div",{className:l.form},r.createElement(cn,{query:n,className:l.viewer,onChange:a,onError:u}),r.createElement("div",{className:l.actions},r.createElement(Ee.Z,{variant:"contained",color:"primary",disabled:t,onClick:o(n)},"Run query")))}var pn={body:{query:{query_string:{query:"test"}}},filter_path:"hits.hits._source.key",index:"_all",size:10},fn=function(e,t){return!!t||!!e.case({Pending:Jt.Z,_:Vt.Z})};function hn(e){var t=e.match.params.bucket,n=sn();return r.createElement(vn,{bucket:t},(function(e){var t=e.customQueryBody,a=e.error,u=e.handleError,o=e.handleQueryBodyChange,l=e.handleQueryMetaChange,c=e.handleSubmit,i=e.queries,s=e.queryData,m=e.queryMeta,d=e.resultsData;return r.createElement("div",null,r.createElement(v.Z,{variant:"h6"},"ElasticSearch queries"),r.createElement("div",{className:n.select},r.createElement(v.Z,{className:n.sectionHeader,variant:"body1"},"Select query"),r.createElement(x,{queries:i,onChange:l,value:t?null:m})),s.case({Init:function(){return r.createElement(En,{disabled:fn(d,a),onChange:o,onError:u,onSubmit:c,value:t||pn})},Ok:function(e){return r.createElement(En,{disabled:fn(d,a),onChange:o,onError:u,onSubmit:c,value:t||e||pn})},Err:function(e){return r.createElement(ae.Z,{severity:"error"},e.message)},Pending:function(){return r.createElement($t.Z,{size:96})}}),d.case({Init:function(){return null},Ok:function(e){return r.createElement(Kt,{results:e})},Err:function(e){return r.createElement(ae.Z,{severity:"error"},e.message)},_:function(){return r.createElement(ge.Z,{pt:5,textAlign:"center"},r.createElement($t.Z,{size:96}))}}))}))}var gn=u.Z((function(e){return{root:{padding:e.spacing(2,0)}}}));function kn(e){var t=e.match.params.bucket,n=gn(),u=l.D$(),c=u.paths,i=u.urls;return r.createElement("div",{className:n.root},r.createElement(o.Z,null,["Queries",t]),r.createElement(a.rs,null,r.createElement(a.AW,{path:c.bucketESQueries,component:hn,exact:!0}),r.createElement(a.AW,{path:c.bucketAthena,component:Bt,exact:!0}),r.createElement(a.AW,{path:c.bucketAthenaWorkgroup,component:Bt,exact:!0}),r.createElement(a.AW,{path:c.bucketAthenaExecution,component:Bt,exact:!0}),r.createElement(a.AW,null,r.createElement(a.l_,{to:i.bucketAthena(t)}))))}}}]);
//# sourceMappingURL=3342.1b402cc8a7caae3534dc.chunk.js.map